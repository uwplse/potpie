<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<title>Imp_LangTrick.Stack.StackFrame1</title>
</head>

<body>

<div id="page">

<div id="header">
</div>

<div id="main">

<h1 class="libtitle">Library Imp_LangTrick.Stack.StackFrame1</h1>

<div class="code">
<span class="id" title="keyword">From</span> <span class="id" title="var">Coq</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Arith.Arith.html#"><span class="id" title="library">Arith</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.micromega.Psatz.html#"><span class="id" title="library">Psatz</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Bool.Bool.html#"><span class="id" title="library">Bool</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Strings.String.html#"><span class="id" title="library">String</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#"><span class="id" title="library">List</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Nat.html#"><span class="id" title="library">Nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Program.Equality.html#"><span class="id" title="library">Program.Equality</span></a>.<br/>

<br/>
<span class="id" title="keyword">Local Open</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">string_scope</span>.<br/>
<span class="id" title="keyword">Local Open</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">nat_scope</span>.<br/>
<span class="id" title="keyword">Local Open</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">list_scope</span>.<br/>

<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">Imp_LangTrick.Stack</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#"><span class="id" title="library">StackLanguage</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPure.html#"><span class="id" title="library">StackPure</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackLangTheorems.html#"><span class="id" title="library">StackLangTheorems</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackSemanticsMutInd.html#"><span class="id" title="library">StackSemanticsMutInd</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">Imp_LangTrick</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="Imp_LangTrick.LogicProp.LogicProp.html#"><span class="id" title="library">LogicProp</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Export</span> <a class="idref" href="Imp_LangTrick.Stack.StackFrameBase.html#"><span class="id" title="library">Imp_LangTrick.Stack.StackFrameBase</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="geq_one_implies_successor" class="idref" href="#geq_one_implies_successor"><span class="id" title="lemma">geq_one_implies_successor</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <a id="n:1" class="idref" href="#n:1"><span class="id" title="binder">n</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#n:1"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#73030c22bc0b1fa771c65aa5414c65f9"><span class="id" title="notation">&gt;=</span></a> 1 <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="n':2" class="idref" href="#n':2"><span class="id" title="binder">n'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#n:1"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#n':2"><span class="id" title="variable">n'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">n</span>; <span class="id" title="tactic">intros</span>; [<span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span> | ].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">n</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="geq_two_implies_succ2" class="idref" href="#geq_two_implies_succ2"><span class="id" title="lemma">geq_two_implies_succ2</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <a id="n:3" class="idref" href="#n:3"><span class="id" title="binder">n</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#n:3"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#73030c22bc0b1fa771c65aa5414c65f9"><span class="id" title="notation">&gt;=</span></a> 2 <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="n':4" class="idref" href="#n':4"><span class="id" title="binder">n'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#n:3"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#n':4"><span class="id" title="variable">n'</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">n</span>; <span class="id" title="tactic">intros</span>; [<span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span> | ].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">n</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#73030c22bc0b1fa771c65aa5414c65f9"><span class="id" title="notation">&gt;=</span></a> 1) <span class="id" title="tactic">by</span> <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#geq_one_implies_successor"><span class="id" title="lemma">geq_one_implies_successor</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">exists</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="successor_minus_one_same" class="idref" href="#successor_minus_one_same"><span class="id" title="lemma">successor_minus_one_same</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <a id="n:5" class="idref" href="#n:5"><span class="id" title="binder">n</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#n:5"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Nat.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> 1 <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#n:5"><span class="id" title="variable">n</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">n</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">IHn</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="frame_rule_mut_ind_theorem" class="idref" href="#frame_rule_mut_ind_theorem"><span class="id" title="definition">frame_rule_mut_ind_theorem</span></a> (<a id="P:6" class="idref" href="#P:6"><span class="id" title="binder">P</span></a>: <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#aexp_stack"><span class="id" title="inductive">aexp_stack</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#fun_env_stk"><span class="id" title="definition">fun_env_stk</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>) (<a id="P0:7" class="idref" href="#P0:7"><span class="id" title="binder">P0</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#aexp_stack"><span class="id" title="inductive">aexp_stack</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#fun_env_stk"><span class="id" title="definition">fun_env_stk</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>) (<a id="P1:8" class="idref" href="#P1:8"><span class="id" title="binder">P1</span></a>: <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#bexp_stack"><span class="id" title="inductive">bexp_stack</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#fun_env_stk"><span class="id" title="definition">fun_env_stk</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>) (<a id="P2:9" class="idref" href="#P2:9"><span class="id" title="binder">P2</span></a>: <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#imp_stack"><span class="id" title="inductive">imp_stack</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#fun_env_stk"><span class="id" title="definition">fun_env_stk</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>): <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">(</span></a><span class="id" title="keyword">forall</span> (<a id="a:10" class="idref" href="#a:10"><span class="id" title="binder">a</span></a> : <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#aexp_stack"><span class="id" title="inductive">aexp_stack</span></a>) (<a id="fenv:11" class="idref" href="#fenv:11"><span class="id" title="binder">fenv</span></a> : <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#fun_env_stk"><span class="id" title="definition">fun_env_stk</span></a>) (<a id="frame:12" class="idref" href="#frame:12"><span class="id" title="binder">frame</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackFrameBase.html#aexp_frame_rule"><span class="id" title="inductive">aexp_frame_rule</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#a:10"><span class="id" title="variable">a</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#fenv:11"><span class="id" title="variable">fenv</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#frame:12"><span class="id" title="variable">frame</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#P:6"><span class="id" title="variable">P</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#a:10"><span class="id" title="variable">a</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#fenv:11"><span class="id" title="variable">fenv</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#frame:12"><span class="id" title="variable">frame</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">(</span></a><span class="id" title="keyword">forall</span> (<a id="args:13" class="idref" href="#args:13"><span class="id" title="binder">args</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#aexp_stack"><span class="id" title="inductive">aexp_stack</span></a>) (<a id="fenv:14" class="idref" href="#fenv:14"><span class="id" title="binder">fenv</span></a>: <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#fun_env_stk"><span class="id" title="definition">fun_env_stk</span></a>) (<a id="frame:15" class="idref" href="#frame:15"><span class="id" title="binder">frame</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackFrameBase.html#args_frame_rule"><span class="id" title="inductive">args_frame_rule</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#args:13"><span class="id" title="variable">args</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#fenv:14"><span class="id" title="variable">fenv</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#frame:15"><span class="id" title="variable">frame</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#P0:7"><span class="id" title="variable">P0</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#args:13"><span class="id" title="variable">args</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#fenv:14"><span class="id" title="variable">fenv</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#frame:15"><span class="id" title="variable">frame</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">(</span></a><span class="id" title="keyword">forall</span> (<a id="b:16" class="idref" href="#b:16"><span class="id" title="binder">b</span></a>: <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#bexp_stack"><span class="id" title="inductive">bexp_stack</span></a>) (<a id="fenv:17" class="idref" href="#fenv:17"><span class="id" title="binder">fenv</span></a>: <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#fun_env_stk"><span class="id" title="definition">fun_env_stk</span></a>) (<a id="frame:18" class="idref" href="#frame:18"><span class="id" title="binder">frame</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackFrameBase.html#bexp_frame_rule"><span class="id" title="inductive">bexp_frame_rule</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#b:16"><span class="id" title="variable">b</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#fenv:17"><span class="id" title="variable">fenv</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#frame:18"><span class="id" title="variable">frame</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#P1:8"><span class="id" title="variable">P1</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#b:16"><span class="id" title="variable">b</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#fenv:17"><span class="id" title="variable">fenv</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#frame:18"><span class="id" title="variable">frame</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">(</span></a><span class="id" title="keyword">forall</span> (<a id="i:19" class="idref" href="#i:19"><span class="id" title="binder">i</span></a>: <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#imp_stack"><span class="id" title="inductive">imp_stack</span></a>) (<a id="fenv:20" class="idref" href="#fenv:20"><span class="id" title="binder">fenv</span></a>: <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#fun_env_stk"><span class="id" title="definition">fun_env_stk</span></a>) (<a id="frame:21" class="idref" href="#frame:21"><span class="id" title="binder">frame</span></a> <a id="frame':22" class="idref" href="#frame':22"><span class="id" title="binder">frame'</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackFrameBase.html#imp_frame_rule"><span class="id" title="inductive">imp_frame_rule</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#i:19"><span class="id" title="variable">i</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#fenv:20"><span class="id" title="variable">fenv</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#frame:21"><span class="id" title="variable">frame</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#frame':22"><span class="id" title="variable">frame'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#P2:9"><span class="id" title="variable">P2</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#i:19"><span class="id" title="variable">i</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#fenv:20"><span class="id" title="variable">fenv</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#frame:21"><span class="id" title="variable">frame</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#frame':22"><span class="id" title="variable">frame'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">)</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="frame_rule_mut_ind_theorem_P" class="idref" href="#frame_rule_mut_ind_theorem_P"><span class="id" title="definition">frame_rule_mut_ind_theorem_P</span></a> (<a id="P:23" class="idref" href="#P:23"><span class="id" title="binder">P</span></a>: <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#aexp_stack"><span class="id" title="inductive">aexp_stack</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#fun_env_stk"><span class="id" title="definition">fun_env_stk</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>): <span class="id" title="keyword">forall</span> (<a id="a:24" class="idref" href="#a:24"><span class="id" title="binder">a</span></a>: <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#aexp_stack"><span class="id" title="inductive">aexp_stack</span></a>) (<a id="f20:25" class="idref" href="#f20:25"><span class="id" title="binder">f20</span></a>: <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#fun_env_stk"><span class="id" title="definition">fun_env_stk</span></a>) (<a id="n:26" class="idref" href="#n:26"><span class="id" title="binder">n</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>), <a class="idref" href="Imp_LangTrick.Stack.StackFrameBase.html#aexp_frame_rule"><span class="id" title="inductive">aexp_frame_rule</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#a:24"><span class="id" title="variable">a</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#f20:25"><span class="id" title="variable">f20</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#n:26"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">fun</span> (<a id="a:27" class="idref" href="#a:27"><span class="id" title="binder">a</span></a>: <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#aexp_stack"><span class="id" title="inductive">aexp_stack</span></a>) (<a id="fenv:28" class="idref" href="#fenv:28"><span class="id" title="binder">fenv</span></a>: <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#fun_env_stk"><span class="id" title="definition">fun_env_stk</span></a>) (<a id="frame:29" class="idref" href="#frame:29"><span class="id" title="binder">frame</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">fun</span> (<span class="id" title="var">_</span>: <a class="idref" href="Imp_LangTrick.Stack.StackFrameBase.html#aexp_frame_rule"><span class="id" title="inductive">aexp_frame_rule</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#a:27"><span class="id" title="variable">a</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#fenv:28"><span class="id" title="variable">fenv</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#frame:29"><span class="id" title="variable">frame</span></a>) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#P:23"><span class="id" title="variable">P</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#a:27"><span class="id" title="variable">a</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#fenv:28"><span class="id" title="variable">fenv</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#frame:29"><span class="id" title="variable">frame</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="frame_rule_mut_ind_theorem_P0" class="idref" href="#frame_rule_mut_ind_theorem_P0"><span class="id" title="definition">frame_rule_mut_ind_theorem_P0</span></a> (<a id="P0:30" class="idref" href="#P0:30"><span class="id" title="binder">P0</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#aexp_stack"><span class="id" title="inductive">aexp_stack</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#fun_env_stk"><span class="id" title="definition">fun_env_stk</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>): <span class="id" title="keyword">forall</span> (<a id="l:31" class="idref" href="#l:31"><span class="id" title="binder">l</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#aexp_stack"><span class="id" title="inductive">aexp_stack</span></a>) (<a id="f20:32" class="idref" href="#f20:32"><span class="id" title="binder">f20</span></a>: <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#fun_env_stk"><span class="id" title="definition">fun_env_stk</span></a>) (<a id="n:33" class="idref" href="#n:33"><span class="id" title="binder">n</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>), <a class="idref" href="Imp_LangTrick.Stack.StackFrameBase.html#args_frame_rule"><span class="id" title="inductive">args_frame_rule</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#l:31"><span class="id" title="variable">l</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#f20:32"><span class="id" title="variable">f20</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#n:33"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">fun</span> (<a id="args:34" class="idref" href="#args:34"><span class="id" title="binder">args</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#aexp_stack"><span class="id" title="inductive">aexp_stack</span></a>) (<a id="fenv:35" class="idref" href="#fenv:35"><span class="id" title="binder">fenv</span></a>: <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#fun_env_stk"><span class="id" title="definition">fun_env_stk</span></a>) (<a id="frame:36" class="idref" href="#frame:36"><span class="id" title="binder">frame</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) =&gt;<br/>
&nbsp;&nbsp;<span class="id" title="keyword">fun</span> (<span class="id" title="var">_</span>: <a class="idref" href="Imp_LangTrick.Stack.StackFrameBase.html#args_frame_rule"><span class="id" title="inductive">args_frame_rule</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#args:34"><span class="id" title="variable">args</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#fenv:35"><span class="id" title="variable">fenv</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#frame:36"><span class="id" title="variable">frame</span></a>) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#P0:30"><span class="id" title="variable">P0</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#args:34"><span class="id" title="variable">args</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#fenv:35"><span class="id" title="variable">fenv</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#frame:36"><span class="id" title="variable">frame</span></a>.<br/>
<span class="id" title="keyword">Definition</span> <a id="frame_rule_mut_ind_theorem_P1" class="idref" href="#frame_rule_mut_ind_theorem_P1"><span class="id" title="definition">frame_rule_mut_ind_theorem_P1</span></a> (<a id="P1:37" class="idref" href="#P1:37"><span class="id" title="binder">P1</span></a>: <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#bexp_stack"><span class="id" title="inductive">bexp_stack</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#fun_env_stk"><span class="id" title="definition">fun_env_stk</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>): <span class="id" title="keyword">forall</span> (<a id="b:38" class="idref" href="#b:38"><span class="id" title="binder">b</span></a>: <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#bexp_stack"><span class="id" title="inductive">bexp_stack</span></a>) (<a id="f20:39" class="idref" href="#f20:39"><span class="id" title="binder">f20</span></a>: <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#fun_env_stk"><span class="id" title="definition">fun_env_stk</span></a>) (<a id="n:40" class="idref" href="#n:40"><span class="id" title="binder">n</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>), <a class="idref" href="Imp_LangTrick.Stack.StackFrameBase.html#bexp_frame_rule"><span class="id" title="inductive">bexp_frame_rule</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#b:38"><span class="id" title="variable">b</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#f20:39"><span class="id" title="variable">f20</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#n:40"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">fun</span> (<a id="b:41" class="idref" href="#b:41"><span class="id" title="binder">b</span></a>: <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#bexp_stack"><span class="id" title="inductive">bexp_stack</span></a>) (<a id="fenv:42" class="idref" href="#fenv:42"><span class="id" title="binder">fenv</span></a>: <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#fun_env_stk"><span class="id" title="definition">fun_env_stk</span></a>) (<a id="frame:43" class="idref" href="#frame:43"><span class="id" title="binder">frame</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) =&gt;<br/>
&nbsp;&nbsp;<span class="id" title="keyword">fun</span> (<span class="id" title="var">_</span>: <a class="idref" href="Imp_LangTrick.Stack.StackFrameBase.html#bexp_frame_rule"><span class="id" title="inductive">bexp_frame_rule</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#b:41"><span class="id" title="variable">b</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#fenv:42"><span class="id" title="variable">fenv</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#frame:43"><span class="id" title="variable">frame</span></a>) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#P1:37"><span class="id" title="variable">P1</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#b:41"><span class="id" title="variable">b</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#fenv:42"><span class="id" title="variable">fenv</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#frame:43"><span class="id" title="variable">frame</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="frame_rule_mut_ind_theorem_P2" class="idref" href="#frame_rule_mut_ind_theorem_P2"><span class="id" title="definition">frame_rule_mut_ind_theorem_P2</span></a> (<a id="P2:44" class="idref" href="#P2:44"><span class="id" title="binder">P2</span></a>: <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#imp_stack"><span class="id" title="inductive">imp_stack</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#fun_env_stk"><span class="id" title="definition">fun_env_stk</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>): <span class="id" title="keyword">forall</span> (<a id="i:45" class="idref" href="#i:45"><span class="id" title="binder">i</span></a>: <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#imp_stack"><span class="id" title="inductive">imp_stack</span></a>) (<a id="f20:46" class="idref" href="#f20:46"><span class="id" title="binder">f20</span></a>: <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#fun_env_stk"><span class="id" title="definition">fun_env_stk</span></a>) (<a id="n:47" class="idref" href="#n:47"><span class="id" title="binder">n</span></a> <a id="n0:48" class="idref" href="#n0:48"><span class="id" title="binder">n0</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>), <a class="idref" href="Imp_LangTrick.Stack.StackFrameBase.html#imp_frame_rule"><span class="id" title="inductive">imp_frame_rule</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#i:45"><span class="id" title="variable">i</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#f20:46"><span class="id" title="variable">f20</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#n:47"><span class="id" title="variable">n</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#n0:48"><span class="id" title="variable">n0</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">fun</span> (<a id="i:49" class="idref" href="#i:49"><span class="id" title="binder">i</span></a>: <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#imp_stack"><span class="id" title="inductive">imp_stack</span></a>) (<a id="fenv:50" class="idref" href="#fenv:50"><span class="id" title="binder">fenv</span></a>: <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#fun_env_stk"><span class="id" title="definition">fun_env_stk</span></a>) (<a id="frame:51" class="idref" href="#frame:51"><span class="id" title="binder">frame</span></a> <a id="frame':52" class="idref" href="#frame':52"><span class="id" title="binder">frame'</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) =&gt;<br/>
&nbsp;&nbsp;<span class="id" title="keyword">fun</span> (<span class="id" title="var">_</span>: <a class="idref" href="Imp_LangTrick.Stack.StackFrameBase.html#imp_frame_rule"><span class="id" title="inductive">imp_frame_rule</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#i:49"><span class="id" title="variable">i</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#fenv:50"><span class="id" title="variable">fenv</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#frame:51"><span class="id" title="variable">frame</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#frame':52"><span class="id" title="variable">frame'</span></a>) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#P2:44"><span class="id" title="variable">P2</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#i:49"><span class="id" title="variable">i</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#fenv:50"><span class="id" title="variable">fenv</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#frame:51"><span class="id" title="variable">frame</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#frame':52"><span class="id" title="variable">frame'</span></a>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">frame_rule_mutual_induction</span> <span class="id" title="var">P</span> <span class="id" title="var">P0</span> <span class="id" title="var">P1</span> <span class="id" title="var">P2</span> <span class="id" title="var">P_def</span> <span class="id" title="var">P0_def</span> <span class="id" title="var">P1_def</span> <span class="id" title="var">P2_def</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> (<a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#frame_rule_mut_ind_theorem_P"><span class="id" title="definition">frame_rule_mut_ind_theorem_P</span></a> <span class="id" title="var">P_def</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">P</span>;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> (<a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#frame_rule_mut_ind_theorem_P0"><span class="id" title="definition">frame_rule_mut_ind_theorem_P0</span></a> <span class="id" title="var">P0_def</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">P0</span>;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> (<a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#frame_rule_mut_ind_theorem_P1"><span class="id" title="definition">frame_rule_mut_ind_theorem_P1</span></a> <span class="id" title="var">P1_def</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">P1</span>;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> (<a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#frame_rule_mut_ind_theorem_P2"><span class="id" title="definition">frame_rule_mut_ind_theorem_P2</span></a> <span class="id" title="var">P2_def</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">P2</span>;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="Imp_LangTrick.Stack.StackFrameBase.html#stack_frame_rule_mut_ind"><span class="id" title="definition">stack_frame_rule_mut_ind</span></a> <span class="id" title="var">P</span> <span class="id" title="var">P0</span> <span class="id" title="var">P1</span> <span class="id" title="var">P2</span>);<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">P</span>, <span class="id" title="var">P0</span>, <span class="id" title="var">P1</span>, <span class="id" title="var">P2</span>;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#frame_rule_mut_ind_theorem_P"><span class="id" title="definition">frame_rule_mut_ind_theorem_P</span></a>, <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#frame_rule_mut_ind_theorem_P0"><span class="id" title="definition">frame_rule_mut_ind_theorem_P0</span></a>, <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#frame_rule_mut_ind_theorem_P1"><span class="id" title="definition">frame_rule_mut_ind_theorem_P1</span></a>, <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#frame_rule_mut_ind_theorem_P2"><span class="id" title="definition">frame_rule_mut_ind_theorem_P2</span></a>;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">P_def</span>, <span class="id" title="var">P0_def</span>, <span class="id" title="var">P1_def</span>, <span class="id" title="var">P2_def</span>.<br/>

<br/>
<span class="id" title="keyword">Theorem</span> <a id="frame_implies_pure_rel_old" class="idref" href="#frame_implies_pure_rel_old"><span class="id" title="lemma">frame_implies_pure_rel_old</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">(</span></a><span class="id" title="keyword">forall</span> (<a id="a:53" class="idref" href="#a:53"><span class="id" title="binder">a</span></a> : <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#aexp_stack"><span class="id" title="inductive">aexp_stack</span></a>) (<a id="fenv:54" class="idref" href="#fenv:54"><span class="id" title="binder">fenv</span></a> : <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#fun_env_stk"><span class="id" title="definition">fun_env_stk</span></a>) (<a id="frame:55" class="idref" href="#frame:55"><span class="id" title="binder">frame</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackFrameBase.html#aexp_frame_rule"><span class="id" title="inductive">aexp_frame_rule</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#a:53"><span class="id" title="variable">a</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#fenv:54"><span class="id" title="variable">fenv</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#frame:55"><span class="id" title="variable">frame</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackPure.html#aexp_stack_pure_rel"><span class="id" title="inductive">aexp_stack_pure_rel</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#a:53"><span class="id" title="variable">a</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#fenv:54"><span class="id" title="variable">fenv</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">(</span></a><span class="id" title="keyword">forall</span> (<a id="args:56" class="idref" href="#args:56"><span class="id" title="binder">args</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#aexp_stack"><span class="id" title="inductive">aexp_stack</span></a>) (<a id="fenv:57" class="idref" href="#fenv:57"><span class="id" title="binder">fenv</span></a>: <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#fun_env_stk"><span class="id" title="definition">fun_env_stk</span></a>) (<a id="frame:58" class="idref" href="#frame:58"><span class="id" title="binder">frame</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackFrameBase.html#args_frame_rule"><span class="id" title="inductive">args_frame_rule</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#args:56"><span class="id" title="variable">args</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#fenv:57"><span class="id" title="variable">fenv</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#frame:58"><span class="id" title="variable">frame</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackPure.html#args_stack_pure_rel"><span class="id" title="inductive">args_stack_pure_rel</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#args:56"><span class="id" title="variable">args</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#fenv:57"><span class="id" title="variable">fenv</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">(</span></a><span class="id" title="keyword">forall</span> (<a id="b:59" class="idref" href="#b:59"><span class="id" title="binder">b</span></a>: <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#bexp_stack"><span class="id" title="inductive">bexp_stack</span></a>) (<a id="fenv:60" class="idref" href="#fenv:60"><span class="id" title="binder">fenv</span></a>: <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#fun_env_stk"><span class="id" title="definition">fun_env_stk</span></a>) (<a id="frame:61" class="idref" href="#frame:61"><span class="id" title="binder">frame</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackFrameBase.html#bexp_frame_rule"><span class="id" title="inductive">bexp_frame_rule</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#b:59"><span class="id" title="variable">b</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#fenv:60"><span class="id" title="variable">fenv</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#frame:61"><span class="id" title="variable">frame</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackPure.html#bexp_stack_pure_rel"><span class="id" title="inductive">bexp_stack_pure_rel</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#b:59"><span class="id" title="variable">b</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#fenv:60"><span class="id" title="variable">fenv</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">(</span></a><span class="id" title="keyword">forall</span> (<a id="i:62" class="idref" href="#i:62"><span class="id" title="binder">i</span></a>: <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#imp_stack"><span class="id" title="inductive">imp_stack</span></a>) (<a id="fenv:63" class="idref" href="#fenv:63"><span class="id" title="binder">fenv</span></a>: <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#fun_env_stk"><span class="id" title="definition">fun_env_stk</span></a>) (<a id="frame:64" class="idref" href="#frame:64"><span class="id" title="binder">frame</span></a> <a id="frame':65" class="idref" href="#frame':65"><span class="id" title="binder">frame'</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackFrameBase.html#imp_frame_rule"><span class="id" title="inductive">imp_frame_rule</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#i:62"><span class="id" title="variable">i</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#fenv:63"><span class="id" title="variable">fenv</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#frame:64"><span class="id" title="variable">frame</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#frame':65"><span class="id" title="variable">frame'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackPure.html#never_assigns_out_of_max_stack"><span class="id" title="inductive">never_assigns_out_of_max_stack</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#i:62"><span class="id" title="variable">i</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#frame:64"><span class="id" title="variable">frame</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#frame':65"><span class="id" title="variable">frame'</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#fenv:63"><span class="id" title="variable">fenv</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> (<span class="id" title="keyword">fun</span> (<a id="a:69" class="idref" href="#a:69"><span class="id" title="binder">a</span></a>: <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#aexp_stack"><span class="id" title="inductive">aexp_stack</span></a>) (<a id="fenv:70" class="idref" href="#fenv:70"><span class="id" title="binder">fenv</span></a>: <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#fun_env_stk"><span class="id" title="definition">fun_env_stk</span></a>) (<a id="frame:71" class="idref" href="#frame:71"><span class="id" title="binder">frame</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">fun</span> (<span class="id" title="var">_</span>: <a class="idref" href="Imp_LangTrick.Stack.StackFrameBase.html#aexp_frame_rule"><span class="id" title="inductive">aexp_frame_rule</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#a:66"><span class="id" title="variable">a</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#fenv:67"><span class="id" title="variable">fenv</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#frame:68"><span class="id" title="variable">frame</span></a>) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackPure.html#aexp_stack_pure_rel"><span class="id" title="inductive">aexp_stack_pure_rel</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#a:66"><span class="id" title="variable">a</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#fenv:67"><span class="id" title="variable">fenv</span></a>) <span class="id" title="keyword">as</span> <span class="id" title="var">P</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> (<span class="id" title="keyword">fun</span> (<a id="args:75" class="idref" href="#args:75"><span class="id" title="binder">args</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#aexp_stack"><span class="id" title="inductive">aexp_stack</span></a>) (<a id="fenv:76" class="idref" href="#fenv:76"><span class="id" title="binder">fenv</span></a>: <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#fun_env_stk"><span class="id" title="definition">fun_env_stk</span></a>) (<a id="frame:77" class="idref" href="#frame:77"><span class="id" title="binder">frame</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">fun</span> (<span class="id" title="var">_</span>: <a class="idref" href="Imp_LangTrick.Stack.StackFrameBase.html#args_frame_rule"><span class="id" title="inductive">args_frame_rule</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#args:72"><span class="id" title="variable">args</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#fenv:73"><span class="id" title="variable">fenv</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#frame:74"><span class="id" title="variable">frame</span></a>) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackPure.html#args_stack_pure_rel"><span class="id" title="inductive">args_stack_pure_rel</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#args:72"><span class="id" title="variable">args</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#fenv:73"><span class="id" title="variable">fenv</span></a>) <span class="id" title="keyword">as</span> <span class="id" title="var">P0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> (<span class="id" title="keyword">fun</span> (<a id="b:81" class="idref" href="#b:81"><span class="id" title="binder">b</span></a>: <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#bexp_stack"><span class="id" title="inductive">bexp_stack</span></a>) (<a id="fenv:82" class="idref" href="#fenv:82"><span class="id" title="binder">fenv</span></a>: <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#fun_env_stk"><span class="id" title="definition">fun_env_stk</span></a>) (<a id="frame:83" class="idref" href="#frame:83"><span class="id" title="binder">frame</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">fun</span> (<span class="id" title="var">_</span>: <a class="idref" href="Imp_LangTrick.Stack.StackFrameBase.html#bexp_frame_rule"><span class="id" title="inductive">bexp_frame_rule</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#b:78"><span class="id" title="variable">b</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#fenv:79"><span class="id" title="variable">fenv</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#frame:80"><span class="id" title="variable">frame</span></a>) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackPure.html#bexp_stack_pure_rel"><span class="id" title="inductive">bexp_stack_pure_rel</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#b:78"><span class="id" title="variable">b</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#fenv:79"><span class="id" title="variable">fenv</span></a>) <span class="id" title="keyword">as</span> <span class="id" title="var">P1</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> (<span class="id" title="keyword">fun</span> (<a id="i:88" class="idref" href="#i:88"><span class="id" title="binder">i</span></a>: <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#imp_stack"><span class="id" title="inductive">imp_stack</span></a>) (<a id="fenv:89" class="idref" href="#fenv:89"><span class="id" title="binder">fenv</span></a>: <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#fun_env_stk"><span class="id" title="definition">fun_env_stk</span></a>) (<a id="frame:90" class="idref" href="#frame:90"><span class="id" title="binder">frame</span></a> <a id="frame':91" class="idref" href="#frame':91"><span class="id" title="binder">frame'</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">fun</span> (<span class="id" title="var">_</span>: <a class="idref" href="Imp_LangTrick.Stack.StackFrameBase.html#imp_frame_rule"><span class="id" title="inductive">imp_frame_rule</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#i:84"><span class="id" title="variable">i</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#fenv:85"><span class="id" title="variable">fenv</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#frame:86"><span class="id" title="variable">frame</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#frame':87"><span class="id" title="variable">frame'</span></a>) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackPure.html#never_assigns_out_of_max_stack"><span class="id" title="inductive">never_assigns_out_of_max_stack</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#i:84"><span class="id" title="variable">i</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#frame:86"><span class="id" title="variable">frame</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#frame':87"><span class="id" title="variable">frame'</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#fenv:85"><span class="id" title="variable">fenv</span></a>) <span class="id" title="keyword">as</span> <span class="id" title="var">P2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="Imp_LangTrick.Stack.StackFrameBase.html#stack_frame_rule_mut_ind"><span class="id" title="definition">stack_frame_rule_mut_ind</span></a> <span class="id" title="var">P</span> <span class="id" title="var">P0</span> <span class="id" title="var">P1</span> <span class="id" title="var">P2</span>); <span class="id" title="tactic">unfold</span> <span class="id" title="var">P</span>, <span class="id" title="var">P0</span>, <span class="id" title="var">P1</span>, <span class="id" title="var">P2</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">econstructor</span>; <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">econstructor</span>; <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Arith.PeanoNat.html#Nat.add_comm"><span class="id" title="lemma">Nat.add_comm</span></a>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">econstructor</span>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">assert</span> (<span class="id" title="var">frame</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Nat.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> 1 <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">frame</span>) <span class="id" title="tactic">by</span> <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">assert</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="n:93" class="idref" href="#n:93"><span class="id" title="binder">n</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <span class="id" title="var">frame</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#n:92"><span class="id" title="variable">n</span></a>) <span class="id" title="tactic">by</span> (<span class="id" title="tactic">apply</span> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#geq_one_implies_successor"><span class="id" title="lemma">geq_one_implies_successor</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">g</span>; <span class="id" title="tactic">assumption</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#successor_minus_one_same"><span class="id" title="lemma">successor_minus_one_same</span></a>. <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">econstructor</span>; <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">constructor</span>; <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">assumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="aexp_frame_implies_pure'" class="idref" href="#aexp_frame_implies_pure'"><span class="id" title="lemma">aexp_frame_implies_pure'</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> (<a id="a:94" class="idref" href="#a:94"><span class="id" title="binder">a</span></a>: <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#aexp_stack"><span class="id" title="inductive">aexp_stack</span></a>) (<a id="fenv:95" class="idref" href="#fenv:95"><span class="id" title="binder">fenv</span></a>: <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#fun_env_stk"><span class="id" title="definition">fun_env_stk</span></a>) (<a id="frame:96" class="idref" href="#frame:96"><span class="id" title="binder">frame</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackFrameBase.html#aexp_frame_rule"><span class="id" title="inductive">aexp_frame_rule</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#a:94"><span class="id" title="variable">a</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#fenv:95"><span class="id" title="variable">fenv</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#frame:96"><span class="id" title="variable">frame</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackPure.html#aexp_stack_pure"><span class="id" title="definition">aexp_stack_pure</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#a:94"><span class="id" title="variable">a</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#fenv:95"><span class="id" title="variable">fenv</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#frame_implies_pure_rel_old"><span class="id" title="lemma">frame_implies_pure_rel_old</span></a>) <span class="id" title="keyword">as</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">AEXP</span> &amp; <span class="id" title="var">_</span> ).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">AEXP</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="Imp_LangTrick.Stack.StackPure.html#aexp_stack_pure_backwards"><span class="id" title="lemma">aexp_stack_pure_backwards</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">assumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="aexp_frame_implies_pure" class="idref" href="#aexp_frame_implies_pure"><span class="id" title="lemma">aexp_frame_implies_pure</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> (<a id="a:97" class="idref" href="#a:97"><span class="id" title="binder">a</span></a>: <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#aexp_stack"><span class="id" title="inductive">aexp_stack</span></a>) (<a id="fenv:98" class="idref" href="#fenv:98"><span class="id" title="binder">fenv</span></a>: <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#fun_env_stk"><span class="id" title="definition">fun_env_stk</span></a>) (<a id="frame:99" class="idref" href="#frame:99"><span class="id" title="binder">frame</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<a id="stk:100" class="idref" href="#stk:100"><span class="id" title="binder">stk</span></a> <a id="stk':101" class="idref" href="#stk':101"><span class="id" title="binder">stk'</span></a>: <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#stack"><span class="id" title="definition">stack</span></a>) (<a id="v:102" class="idref" href="#v:102"><span class="id" title="binder">v</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackFrameBase.html#aexp_frame_rule"><span class="id" title="inductive">aexp_frame_rule</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#a:97"><span class="id" title="variable">a</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#fenv:98"><span class="id" title="variable">fenv</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#frame:99"><span class="id" title="variable">frame</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#aexp_stack_sem"><span class="id" title="inductive">aexp_stack_sem</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#a:97"><span class="id" title="variable">a</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#fenv:98"><span class="id" title="variable">fenv</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#stk:100"><span class="id" title="variable">stk</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#stk':101"><span class="id" title="variable">stk'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#v:102"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#stk:100"><span class="id" title="variable">stk</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#stk':101"><span class="id" title="variable">stk'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#aexp_frame_implies_pure'"><span class="id" title="lemma">aexp_frame_implies_pure'</span></a>) <span class="id" title="keyword">as</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Imp_LangTrick.Stack.StackPure.html#aexp_stack_pure"><span class="id" title="definition">aexp_stack_pure</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">H</span>; <span class="id" title="var">eassumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="bexp_frame_implies_pure'" class="idref" href="#bexp_frame_implies_pure'"><span class="id" title="lemma">bexp_frame_implies_pure'</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> (<a id="b:103" class="idref" href="#b:103"><span class="id" title="binder">b</span></a>: <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#bexp_stack"><span class="id" title="inductive">bexp_stack</span></a>) (<a id="fenv:104" class="idref" href="#fenv:104"><span class="id" title="binder">fenv</span></a>: <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#fun_env_stk"><span class="id" title="definition">fun_env_stk</span></a>) (<a id="frame:105" class="idref" href="#frame:105"><span class="id" title="binder">frame</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackFrameBase.html#bexp_frame_rule"><span class="id" title="inductive">bexp_frame_rule</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#b:103"><span class="id" title="variable">b</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#fenv:104"><span class="id" title="variable">fenv</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#frame:105"><span class="id" title="variable">frame</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackPure.html#bexp_stack_pure"><span class="id" title="definition">bexp_stack_pure</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#b:103"><span class="id" title="variable">b</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#fenv:104"><span class="id" title="variable">fenv</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#frame_implies_pure_rel_old"><span class="id" title="lemma">frame_implies_pure_rel_old</span></a>) <span class="id" title="keyword">as</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">_</span> &amp; <span class="id" title="var">_</span> &amp; <span class="id" title="var">BEXP</span> &amp; <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">BEXP</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="Imp_LangTrick.Stack.StackPure.html#stack_pure"><span class="id" title="lemma">stack_pure</span></a>) <span class="id" title="keyword">as</span> <span class="id" title="var">H'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H'</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">_</span> &amp; <span class="id" title="var">_</span> &amp; <span class="id" title="var">BEXP'</span> &amp; <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">BEXP'</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">assumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="bexp_frame_implies_pure" class="idref" href="#bexp_frame_implies_pure"><span class="id" title="lemma">bexp_frame_implies_pure</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> (<a id="b:106" class="idref" href="#b:106"><span class="id" title="binder">b</span></a>: <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#bexp_stack"><span class="id" title="inductive">bexp_stack</span></a>) (<a id="fenv:107" class="idref" href="#fenv:107"><span class="id" title="binder">fenv</span></a>: <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#fun_env_stk"><span class="id" title="definition">fun_env_stk</span></a>) (<a id="frame:108" class="idref" href="#frame:108"><span class="id" title="binder">frame</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<a id="stk:109" class="idref" href="#stk:109"><span class="id" title="binder">stk</span></a> <a id="stk':110" class="idref" href="#stk':110"><span class="id" title="binder">stk'</span></a>: <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#stack"><span class="id" title="definition">stack</span></a>) (<a id="v:111" class="idref" href="#v:111"><span class="id" title="binder">v</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackFrameBase.html#bexp_frame_rule"><span class="id" title="inductive">bexp_frame_rule</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#b:106"><span class="id" title="variable">b</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#fenv:107"><span class="id" title="variable">fenv</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#frame:108"><span class="id" title="variable">frame</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#bexp_stack_sem"><span class="id" title="inductive">bexp_stack_sem</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#b:106"><span class="id" title="variable">b</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#fenv:107"><span class="id" title="variable">fenv</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#stk:109"><span class="id" title="variable">stk</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#stk':110"><span class="id" title="variable">stk'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#v:111"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#stk:109"><span class="id" title="variable">stk</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#stk':110"><span class="id" title="variable">stk'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#bexp_frame_implies_pure'"><span class="id" title="lemma">bexp_frame_implies_pure'</span></a>) <span class="id" title="keyword">as</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Imp_LangTrick.Stack.StackPure.html#bexp_stack_pure"><span class="id" title="definition">bexp_stack_pure</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">H</span>; <span class="id" title="var">eassumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="args_frame_implies_pure" class="idref" href="#args_frame_implies_pure"><span class="id" title="lemma">args_frame_implies_pure</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> (<a id="args:112" class="idref" href="#args:112"><span class="id" title="binder">args</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#aexp_stack"><span class="id" title="inductive">aexp_stack</span></a>) (<a id="fenv:113" class="idref" href="#fenv:113"><span class="id" title="binder">fenv</span></a>: <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#fun_env_stk"><span class="id" title="definition">fun_env_stk</span></a>) (<a id="frame:114" class="idref" href="#frame:114"><span class="id" title="binder">frame</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<a id="stk:115" class="idref" href="#stk:115"><span class="id" title="binder">stk</span></a> <a id="stk':116" class="idref" href="#stk':116"><span class="id" title="binder">stk'</span></a>: <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#stack"><span class="id" title="definition">stack</span></a>) (<a id="vals:117" class="idref" href="#vals:117"><span class="id" title="binder">vals</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackFrameBase.html#args_frame_rule"><span class="id" title="inductive">args_frame_rule</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#args:112"><span class="id" title="variable">args</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#fenv:113"><span class="id" title="variable">fenv</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#frame:114"><span class="id" title="variable">frame</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#args_stack_sem"><span class="id" title="inductive">args_stack_sem</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#args:112"><span class="id" title="variable">args</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#fenv:113"><span class="id" title="variable">fenv</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#stk:115"><span class="id" title="variable">stk</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#stk':116"><span class="id" title="variable">stk'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#vals:117"><span class="id" title="variable">vals</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#stk:115"><span class="id" title="variable">stk</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#stk':116"><span class="id" title="variable">stk'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="Imp_LangTrick.Stack.StackPure.html#stack_pure"><span class="id" title="lemma">stack_pure</span></a>) <span class="id" title="keyword">as</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">_</span> &amp; <span class="id" title="var">_</span> &amp; <span class="id" title="var">_</span> &amp; <span class="id" title="var">ARGS</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#frame_implies_pure_rel_old"><span class="id" title="lemma">frame_implies_pure_rel_old</span></a>) <span class="id" title="keyword">as</span> <span class="id" title="var">PURE</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">PURE</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">_</span> &amp; <span class="id" title="var">ARGS'</span> &amp; <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">ARGS'</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">ARGS</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; [ | <span class="id" title="var">eassumption</span> ].<br/>
&nbsp;&nbsp;<span class="id" title="var">eassumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="imp_frame_implies_never_assigns_out_of_max_stack" class="idref" href="#imp_frame_implies_never_assigns_out_of_max_stack"><span class="id" title="lemma">imp_frame_implies_never_assigns_out_of_max_stack</span></a> :<br/>
&nbsp;&nbsp;(<span class="id" title="keyword">forall</span> (<a id="i:118" class="idref" href="#i:118"><span class="id" title="binder">i</span></a>: <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#imp_stack"><span class="id" title="inductive">imp_stack</span></a>) (<a id="fenv:119" class="idref" href="#fenv:119"><span class="id" title="binder">fenv</span></a>: <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#fun_env_stk"><span class="id" title="definition">fun_env_stk</span></a>) (<a id="frame:120" class="idref" href="#frame:120"><span class="id" title="binder">frame</span></a> <a id="frame':121" class="idref" href="#frame':121"><span class="id" title="binder">frame'</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackFrameBase.html#imp_frame_rule"><span class="id" title="inductive">imp_frame_rule</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#i:118"><span class="id" title="variable">i</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#fenv:119"><span class="id" title="variable">fenv</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#frame:120"><span class="id" title="variable">frame</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#frame':121"><span class="id" title="variable">frame'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackPure.html#never_assigns_out_of_max_stack"><span class="id" title="inductive">never_assigns_out_of_max_stack</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#i:118"><span class="id" title="variable">i</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#frame:120"><span class="id" title="variable">frame</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#frame':121"><span class="id" title="variable">frame'</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#fenv:119"><span class="id" title="variable">fenv</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<span class="id" title="var">PURE</span> := <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#frame_implies_pure_rel_old"><span class="id" title="lemma">frame_implies_pure_rel_old</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">PURE</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">_</span> &amp; <span class="id" title="var">_</span> &amp; <span class="id" title="var">_</span> &amp; <span class="id" title="var">IMP</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IMP</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="imp_frame_implies_untouched_stack" class="idref" href="#imp_frame_implies_untouched_stack"><span class="id" title="lemma">imp_frame_implies_untouched_stack</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <a id="i:122" class="idref" href="#i:122"><span class="id" title="binder">i</span></a> <a id="fenv:123" class="idref" href="#fenv:123"><span class="id" title="binder">fenv</span></a> <a id="max_stack_begin:124" class="idref" href="#max_stack_begin:124"><span class="id" title="binder">max_stack_begin</span></a> <a id="max_stack_end:125" class="idref" href="#max_stack_end:125"><span class="id" title="binder">max_stack_end</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackFrameBase.html#imp_frame_rule"><span class="id" title="inductive">imp_frame_rule</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#i:122"><span class="id" title="variable">i</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#fenv:123"><span class="id" title="variable">fenv</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#max_stack_begin:124"><span class="id" title="variable">max_stack_begin</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#max_stack_end:125"><span class="id" title="variable">max_stack_end</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <a id="stk:126" class="idref" href="#stk:126"><span class="id" title="binder">stk</span></a> <a id="stk':127" class="idref" href="#stk':127"><span class="id" title="binder">stk'</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#imp_stack_sem"><span class="id" title="inductive">imp_stack_sem</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#i:122"><span class="id" title="variable">i</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#fenv:123"><span class="id" title="variable">fenv</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#stk:126"><span class="id" title="variable">stk</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#stk':127"><span class="id" title="variable">stk'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#skipn"><span class="id" title="definition">skipn</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#max_stack_begin:124"><span class="id" title="variable">max_stack_begin</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#stk:126"><span class="id" title="variable">stk</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#skipn"><span class="id" title="definition">skipn</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#max_stack_end:125"><span class="id" title="variable">max_stack_end</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#stk':127"><span class="id" title="variable">stk'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#imp_frame_implies_never_assigns_out_of_max_stack"><span class="id" title="lemma">imp_frame_implies_never_assigns_out_of_max_stack</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="Imp_LangTrick.Stack.StackPure.html#frame_stk"><span class="id" title="lemma">frame_stk</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="le_ge_sym" class="idref" href="#le_ge_sym"><span class="id" title="lemma">le_ge_sym</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> (<a id="m:128" class="idref" href="#m:128"><span class="id" title="binder">m</span></a> <a id="n:129" class="idref" href="#n:129"><span class="id" title="binder">n</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#m:128"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#cb53cf0ee22c036a03b4a9281c68b5a3"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#n:129"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#n:129"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#73030c22bc0b1fa771c65aa5414c65f9"><span class="id" title="notation">&gt;=</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#m:128"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">lia</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="skipn_nil_implies_n_geq_length" class="idref" href="#skipn_nil_implies_n_geq_length"><span class="id" title="lemma">skipn_nil_implies_n_geq_length</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <a id="A:130" class="idref" href="#A:130"><span class="id" title="binder">A</span></a> (<a id="l:131" class="idref" href="#l:131"><span class="id" title="binder">l</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#A:130"><span class="id" title="variable">A</span></a>) (<a id="n:132" class="idref" href="#n:132"><span class="id" title="binder">n</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#skipn"><span class="id" title="definition">skipn</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#n:132"><span class="id" title="variable">n</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#l:131"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#n:132"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#73030c22bc0b1fa771c65aa5414c65f9"><span class="id" title="notation">&gt;=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">Datatypes.length</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#l:131"><span class="id" title="variable">l</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">l</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;-  <span class="id" title="tactic">simpl</span>. <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">n</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#le_ge_sym"><span class="id" title="lemma">le_ge_sym</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#le_n_S"><span class="id" title="lemma">Peano.le_n_S</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#le_ge_sym"><span class="id" title="lemma">le_ge_sym</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">assumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="imp_frame_implies_stack_decomposition" class="idref" href="#imp_frame_implies_stack_decomposition"><span class="id" title="lemma">imp_frame_implies_stack_decomposition</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <a id="i:133" class="idref" href="#i:133"><span class="id" title="binder">i</span></a> <a id="fenv:134" class="idref" href="#fenv:134"><span class="id" title="binder">fenv</span></a> <a id="frame:135" class="idref" href="#frame:135"><span class="id" title="binder">frame</span></a> <a id="frame':136" class="idref" href="#frame':136"><span class="id" title="binder">frame'</span></a> <a id="stk:137" class="idref" href="#stk:137"><span class="id" title="binder">stk</span></a> <a id="stk':138" class="idref" href="#stk':138"><span class="id" title="binder">stk'</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackFrameBase.html#imp_frame_rule"><span class="id" title="inductive">imp_frame_rule</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#i:133"><span class="id" title="variable">i</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#fenv:134"><span class="id" title="variable">fenv</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#frame:135"><span class="id" title="variable">frame</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#frame':136"><span class="id" title="variable">frame'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#imp_stack_sem"><span class="id" title="inductive">imp_stack_sem</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#i:133"><span class="id" title="variable">i</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#fenv:134"><span class="id" title="variable">fenv</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#stk:137"><span class="id" title="variable">stk</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#stk':138"><span class="id" title="variable">stk'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">Datatypes.length</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#stk:137"><span class="id" title="variable">stk</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#73030c22bc0b1fa771c65aa5414c65f9"><span class="id" title="notation">&gt;=</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#frame:135"><span class="id" title="variable">frame</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">Datatypes.length</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#stk':138"><span class="id" title="variable">stk'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#73030c22bc0b1fa771c65aa5414c65f9"><span class="id" title="notation">&gt;=</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#frame':136"><span class="id" title="variable">frame'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="x:139" class="idref" href="#x:139"><span class="id" title="binder">x</span></a> <a id="x':140" class="idref" href="#x':140"><span class="id" title="binder">x'</span></a> <a id="y:141" class="idref" href="#y:141"><span class="id" title="binder">y</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">(</span></a><a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#stk:137"><span class="id" title="variable">stk</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#x:139"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#y:141"><span class="id" title="variable">y</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">(</span></a><a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#stk':138"><span class="id" title="variable">stk'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#x':140"><span class="id" title="variable">x'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#y:141"><span class="id" title="variable">y</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">Datatypes.length</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#x:139"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#frame:135"><span class="id" title="variable">frame</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">Datatypes.length</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#x':140"><span class="id" title="variable">x'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#frame':136"><span class="id" title="variable">frame'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#imp_frame_implies_untouched_stack"><span class="id" title="lemma">imp_frame_implies_untouched_stack</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">stk</span> := <span class="id" title="var">stk</span>) (<span class="id" title="var">stk'</span> := <span class="id" title="var">stk'</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; [ | <span class="id" title="tactic">assumption</span> ].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#firstn"><span class="id" title="definition">firstn</span></a> <span class="id" title="var">frame</span> <span class="id" title="var">stk</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#firstn"><span class="id" title="definition">firstn</span></a> <span class="id" title="var">frame'</span> <span class="id" title="var">stk'</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#skipn"><span class="id" title="definition">skipn</span></a> <span class="id" title="var">frame</span> <span class="id" title="var">stk</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [ | <span class="id" title="tactic">split</span>; [ | <span class="id" title="tactic">split</span> ]].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">symmetry</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#firstn_skipn"><span class="id" title="lemma">firstn_skipn</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">symmetry</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#firstn_skipn"><span class="id" title="lemma">firstn_skipn</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#firstn_length_le"><span class="id" title="lemma">firstn_length_le</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#le_ge_sym"><span class="id" title="lemma">le_ge_sym</span></a>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#firstn_length_le"><span class="id" title="lemma">firstn_length_le</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#le_ge_sym"><span class="id" title="lemma">le_ge_sym</span></a>. <span class="id" title="tactic">assumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="frame_implies_rest_stk_untouched_le" class="idref" href="#frame_implies_rest_stk_untouched_le"><span class="id" title="lemma">frame_implies_rest_stk_untouched_le</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <a id="i:142" class="idref" href="#i:142"><span class="id" title="binder">i</span></a> <a id="frame:143" class="idref" href="#frame:143"><span class="id" title="binder">frame</span></a> <a id="frame':144" class="idref" href="#frame':144"><span class="id" title="binder">frame'</span></a> <a id="fenv:145" class="idref" href="#fenv:145"><span class="id" title="binder">fenv</span></a> <a id="stk:146" class="idref" href="#stk:146"><span class="id" title="binder">stk</span></a> <a id="stk1:147" class="idref" href="#stk1:147"><span class="id" title="binder">stk1</span></a> <a id="stk2:148" class="idref" href="#stk2:148"><span class="id" title="binder">stk2</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackFrameBase.html#imp_frame_rule"><span class="id" title="inductive">imp_frame_rule</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#i:142"><span class="id" title="variable">i</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#fenv:145"><span class="id" title="variable">fenv</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#frame:143"><span class="id" title="variable">frame</span></a> (<a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#frame:143"><span class="id" title="variable">frame</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Nat.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#frame':144"><span class="id" title="variable">frame'</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#frame:143"><span class="id" title="variable">frame</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">Datatypes.length</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#stk1:147"><span class="id" title="variable">stk1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#frame':144"><span class="id" title="variable">frame'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Nat.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#frame:143"><span class="id" title="variable">frame</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#cb53cf0ee22c036a03b4a9281c68b5a3"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">Datatypes.length</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#stk:146"><span class="id" title="variable">stk</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#imp_stack_sem"><span class="id" title="inductive">imp_stack_sem</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#i:142"><span class="id" title="variable">i</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#fenv:145"><span class="id" title="variable">fenv</span></a> (<a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#stk1:147"><span class="id" title="variable">stk1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#stk2:148"><span class="id" title="variable">stk2</span></a>) <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#stk:146"><span class="id" title="variable">stk</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="stk1':149" class="idref" href="#stk1':149"><span class="id" title="binder">stk1'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">Datatypes.length</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#stk1':149"><span class="id" title="variable">stk1'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#frame:143"><span class="id" title="variable">frame</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Nat.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#frame':144"><span class="id" title="variable">frame'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a>  <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#stk:146"><span class="id" title="variable">stk</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#stk1':149"><span class="id" title="variable">stk1'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#stk2:148"><span class="id" title="variable">stk2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Arith.PeanoNat.html#Nat.add_comm"><span class="id" title="lemma">Nat.add_comm</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#imp_frame_implies_never_assigns_out_of_max_stack"><span class="id" title="lemma">imp_frame_implies_never_assigns_out_of_max_stack</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="Imp_LangTrick.Stack.StackPure.html#imp_stack_pure_stack_decomposition"><span class="id" title="lemma">imp_stack_pure_stack_decomposition</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Arith.PeanoNat.html#Nat.add_comm"><span class="id" title="lemma">Nat.add_comm</span></a>. <span class="id" title="tactic">apply</span> <span class="id" title="var">H3</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#imp_frame_implies_untouched_stack"><span class="id" title="lemma">imp_frame_implies_untouched_stack</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Arith.PeanoNat.html#Nat.add_comm"><span class="id" title="lemma">Nat.add_comm</span></a>. <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="same_after_popping_calculate_length" class="idref" href="#same_after_popping_calculate_length"><span class="id" title="lemma">same_after_popping_calculate_length</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> (<a id="stk:150" class="idref" href="#stk:150"><span class="id" title="binder">stk</span></a> <a id="stk':151" class="idref" href="#stk':151"><span class="id" title="binder">stk'</span></a>: <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#stack"><span class="id" title="definition">stack</span></a>) (<a id="n:152" class="idref" href="#n:152"><span class="id" title="binder">n</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#same_after_popping"><span class="id" title="inductive">same_after_popping</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#stk':151"><span class="id" title="variable">stk'</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#stk:150"><span class="id" title="variable">stk</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#n:152"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">Datatypes.length</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#stk':151"><span class="id" title="variable">stk'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">Datatypes.length</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#stk:150"><span class="id" title="variable">stk</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Nat.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#n:152"><span class="id" title="variable">n</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">stk</span> <span class="id" title="var">stk'</span> <span class="id" title="var">n</span>. <span class="id" title="var">revert</span> <span class="id" title="var">stk</span> <span class="id" title="var">stk'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">dependent</span> <span class="id" title="tactic">induction</span> <span class="id" title="var">n</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="var">invs</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">arith</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">IHn</span>. <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="stack_mutated_at_index_preserves_length" class="idref" href="#stack_mutated_at_index_preserves_length"><span class="id" title="lemma">stack_mutated_at_index_preserves_length</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <a id="stk:153" class="idref" href="#stk:153"><span class="id" title="binder">stk</span></a> <a id="stk':154" class="idref" href="#stk':154"><span class="id" title="binder">stk'</span></a> <a id="k:155" class="idref" href="#k:155"><span class="id" title="binder">k</span></a> <a id="c:156" class="idref" href="#c:156"><span class="id" title="binder">c</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#stack_mutated_at_index"><span class="id" title="inductive">stack_mutated_at_index</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#stk':154"><span class="id" title="variable">stk'</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#k:155"><span class="id" title="variable">k</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#c:156"><span class="id" title="variable">c</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#stk:153"><span class="id" title="variable">stk</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">Datatypes.length</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#stk':154"><span class="id" title="variable">stk'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">Datatypes.length</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#stk:153"><span class="id" title="variable">stk</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">invs</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">f_equal</span>. <span class="id" title="tactic">assumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Local</span> <span class="id" title="keyword">Definition</span> <a id="P_stack_length_same" class="idref" href="#P_stack_length_same"><span class="id" title="definition">P_stack_length_same</span></a> (<a id="i:157" class="idref" href="#i:157"><span class="id" title="binder">i</span></a>: <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#imp_stack"><span class="id" title="inductive">imp_stack</span></a>) (<a id="fenv:158" class="idref" href="#fenv:158"><span class="id" title="binder">fenv</span></a>: <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#fun_env_stk"><span class="id" title="definition">fun_env_stk</span></a>) (<a id="stk:159" class="idref" href="#stk:159"><span class="id" title="binder">stk</span></a> <a id="stk':160" class="idref" href="#stk':160"><span class="id" title="binder">stk'</span></a>: <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#stack"><span class="id" title="definition">stack</span></a>) : <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <a id="frame:161" class="idref" href="#frame:161"><span class="id" title="binder">frame</span></a> <a id="frame':162" class="idref" href="#frame':162"><span class="id" title="binder">frame'</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackFrameBase.html#imp_frame_rule"><span class="id" title="inductive">imp_frame_rule</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#i:157"><span class="id" title="variable">i</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#fenv:158"><span class="id" title="variable">fenv</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#frame:161"><span class="id" title="variable">frame</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#frame':162"><span class="id" title="variable">frame'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">Datatypes.length</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#stk:159"><span class="id" title="variable">stk</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Nat.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#frame:161"><span class="id" title="variable">frame</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">Datatypes.length</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#stk':160"><span class="id" title="variable">stk'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Nat.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#frame':162"><span class="id" title="variable">frame'</span></a>.<br/>

<br/>
<span class="id" title="keyword">Local</span> <span class="id" title="keyword">Definition</span> <a id="P0_stack_length_same" class="idref" href="#P0_stack_length_same"><span class="id" title="definition">P0_stack_length_same</span></a> (<a id="a:163" class="idref" href="#a:163"><span class="id" title="binder">a</span></a>: <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#aexp_stack"><span class="id" title="inductive">aexp_stack</span></a>) (<a id="fenv:164" class="idref" href="#fenv:164"><span class="id" title="binder">fenv</span></a>: <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#fun_env_stk"><span class="id" title="definition">fun_env_stk</span></a>) (<a id="stk:165" class="idref" href="#stk:165"><span class="id" title="binder">stk</span></a>: <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#stack"><span class="id" title="definition">stack</span></a>) (<a id="stk'n:166" class="idref" href="#stk'n:166"><span class="id" title="binder">stk'n</span></a>: <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#stack"><span class="id" title="definition">stack</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) : <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <a id="stk':167" class="idref" href="#stk':167"><span class="id" title="binder">stk'</span></a> <a id="n:168" class="idref" href="#n:168"><span class="id" title="binder">n</span></a> <a id="frame:169" class="idref" href="#frame:169"><span class="id" title="binder">frame</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#stk'n:166"><span class="id" title="variable">stk'n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#stk':167"><span class="id" title="variable">stk'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#n:168"><span class="id" title="variable">n</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackFrameBase.html#aexp_frame_rule"><span class="id" title="inductive">aexp_frame_rule</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#a:163"><span class="id" title="variable">a</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#fenv:164"><span class="id" title="variable">fenv</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#frame:169"><span class="id" title="variable">frame</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">Datatypes.length</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#stk:165"><span class="id" title="variable">stk</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">Datatypes.length</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#stk':167"><span class="id" title="variable">stk'</span></a>.<br/>

<br/>
<span class="id" title="keyword">Local</span> <span class="id" title="keyword">Definition</span> <a id="P1_stack_length_same" class="idref" href="#P1_stack_length_same"><span class="id" title="definition">P1_stack_length_same</span></a> (<a id="b:170" class="idref" href="#b:170"><span class="id" title="binder">b</span></a>: <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#bexp_stack"><span class="id" title="inductive">bexp_stack</span></a>) (<a id="fenv:171" class="idref" href="#fenv:171"><span class="id" title="binder">fenv</span></a>: <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#fun_env_stk"><span class="id" title="definition">fun_env_stk</span></a>) (<a id="stk:172" class="idref" href="#stk:172"><span class="id" title="binder">stk</span></a>: <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#stack"><span class="id" title="definition">stack</span></a>) (<a id="stk'v:173" class="idref" href="#stk'v:173"><span class="id" title="binder">stk'v</span></a>: <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#stack"><span class="id" title="definition">stack</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>) : <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <a id="stk':174" class="idref" href="#stk':174"><span class="id" title="binder">stk'</span></a> <a id="v:175" class="idref" href="#v:175"><span class="id" title="binder">v</span></a> <a id="frame:176" class="idref" href="#frame:176"><span class="id" title="binder">frame</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#stk'v:173"><span class="id" title="variable">stk'v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#stk':174"><span class="id" title="variable">stk'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#v:175"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackFrameBase.html#bexp_frame_rule"><span class="id" title="inductive">bexp_frame_rule</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#b:170"><span class="id" title="variable">b</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#fenv:171"><span class="id" title="variable">fenv</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#frame:176"><span class="id" title="variable">frame</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">Datatypes.length</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#stk:172"><span class="id" title="variable">stk</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">Datatypes.length</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#stk':174"><span class="id" title="variable">stk'</span></a>.<br/>

<br/>
<span class="id" title="keyword">Local</span> <span class="id" title="keyword">Definition</span> <a id="P2_stack_length_same" class="idref" href="#P2_stack_length_same"><span class="id" title="definition">P2_stack_length_same</span></a> (<a id="args:177" class="idref" href="#args:177"><span class="id" title="binder">args</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#aexp_stack"><span class="id" title="inductive">aexp_stack</span></a>) (<a id="fenv:178" class="idref" href="#fenv:178"><span class="id" title="binder">fenv</span></a>: <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#fun_env_stk"><span class="id" title="definition">fun_env_stk</span></a>) (<a id="stk:179" class="idref" href="#stk:179"><span class="id" title="binder">stk</span></a>: <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#stack"><span class="id" title="definition">stack</span></a>) (<a id="stk'vals:180" class="idref" href="#stk'vals:180"><span class="id" title="binder">stk'vals</span></a>: <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#stack"><span class="id" title="definition">stack</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">)</span></a>) : <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <a id="stk':181" class="idref" href="#stk':181"><span class="id" title="binder">stk'</span></a> <a id="vals:182" class="idref" href="#vals:182"><span class="id" title="binder">vals</span></a> <a id="frame:183" class="idref" href="#frame:183"><span class="id" title="binder">frame</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#stk'vals:180"><span class="id" title="variable">stk'vals</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#stk':181"><span class="id" title="variable">stk'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#vals:182"><span class="id" title="variable">vals</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackFrameBase.html#args_frame_rule"><span class="id" title="inductive">args_frame_rule</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#args:177"><span class="id" title="variable">args</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#fenv:178"><span class="id" title="variable">fenv</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#frame:183"><span class="id" title="variable">frame</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">Datatypes.length</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#stk:179"><span class="id" title="variable">stk</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">Datatypes.length</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#stk':181"><span class="id" title="variable">stk'</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="n_plus_one_eq_n_false" class="idref" href="#n_plus_one_eq_n_false"><span class="id" title="lemma">n_plus_one_eq_n_false</span></a>:<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> (<a id="P:184" class="idref" href="#P:184"><span class="id" title="binder">P</span></a>: <span class="id" title="keyword">Prop</span>) (<a id="n:185" class="idref" href="#n:185"><span class="id" title="binder">n</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#n:185"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Nat.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> 1 <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#n:185"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#P:184"><span class="id" title="variable">P</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">n</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">invs</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">invs</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">assumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="stack_length_same" class="idref" href="#stack_length_same"><span class="id" title="lemma">stack_length_same</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackSemanticsMutInd.html#stack_sem_mut_ind_theorem"><span class="id" title="definition">stack_sem_mut_ind_theorem</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#P_stack_length_same"><span class="id" title="definition">P_stack_length_same</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#P0_stack_length_same"><span class="id" title="definition">P0_stack_length_same</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#P1_stack_length_same"><span class="id" title="definition">P1_stack_length_same</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#P2_stack_length_same"><span class="id" title="definition">P2_stack_length_same</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">stack_sem_mutual_induction</span> <span class="id" title="var">P</span> <span class="id" title="var">P0</span> <span class="id" title="var">P1</span> <span class="id" title="var">P2</span> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#P_stack_length_same"><span class="id" title="definition">P_stack_length_same</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#P0_stack_length_same"><span class="id" title="definition">P0_stack_length_same</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#P1_stack_length_same"><span class="id" title="definition">P1_stack_length_same</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#P2_stack_length_same"><span class="id" title="definition">P2_stack_length_same</span></a>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">invs</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">invs</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#stack_mutated_at_index_preserves_length"><span class="id" title="lemma">stack_mutated_at_index_preserves_length</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">s</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">s</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">stk</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">stk'</span>) <span class="id" title="tactic">by</span> (<span class="id" title="tactic">eapply</span> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#aexp_frame_implies_pure"><span class="id" title="lemma">aexp_frame_implies_pure</span></a>; [ <span class="id" title="tactic">eapply</span> <span class="id" title="var">H8</span> | <span class="id" title="var">eassumption</span> ]). <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">invs</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Arith.PeanoNat.html#Nat.add_1_r"><span class="id" title="lemma">Nat.add_1_r</span></a>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">invs</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">frame</span>; [ <span class="id" title="var">invs</span> <span class="id" title="var">H0</span> | ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Arith.PeanoNat.html#Nat.sub_0_r"><span class="id" title="lemma">Nat.sub_0_r</span></a>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">invs</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">H</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H4</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">H0</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H8</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H8</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H4</span>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">invs</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">specialize</span> (<span class="id" title="var">H</span> <span class="id" title="var">stk'</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">H</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H5</span>; [ | <span class="id" title="tactic">reflexivity</span> ]. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H5</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">H5</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">H0</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H9</span>. <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">invs</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">specialize</span> (<span class="id" title="var">H</span> <span class="id" title="var">stk'</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a>). <span class="id" title="tactic">eapply</span> <span class="id" title="var">H</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H5</span>; [ | <span class="id" title="tactic">reflexivity</span> ]. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H5</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">H5</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">H0</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H10</span>. <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">invs</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">specialize</span> (<span class="id" title="var">H</span> <span class="id" title="var">stk'</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a>). <span class="id" title="tactic">eapply</span> <span class="id" title="var">H</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H3</span>; [ | <span class="id" title="tactic">reflexivity</span> ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H3</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">invs</span> <span class="id" title="var">H2</span>. <span class="id" title="tactic">specialize</span> (<span class="id" title="var">H</span> <span class="id" title="var">stk1</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>). <span class="id" title="tactic">eapply</span> <span class="id" title="var">H</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H5</span>; [ | <span class="id" title="tactic">reflexivity</span> ]. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H5</span> <span class="id" title="tactic">in</span> *. <span class="id" title="tactic">clear</span> <span class="id" title="var">H5</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">H0</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H9</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H9</span> <span class="id" title="tactic">in</span> *. <span class="id" title="tactic">clear</span> <span class="id" title="var">H9</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">H1</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">invs</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">invs</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">invs</span> <span class="id" title="var">H1</span>. <span class="id" title="var">invs</span> <span class="id" title="var">H2</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">H</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H5</span>; [ | <span class="id" title="tactic">reflexivity</span>]. <span class="id" title="tactic">eapply</span> <span class="id" title="var">H0</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H8</span>; [ | <span class="id" title="tactic">reflexivity</span> ]. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H5</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H8</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">invs</span> <span class="id" title="var">H1</span>. <span class="id" title="var">invs</span> <span class="id" title="var">H2</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">H</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H5</span>; [ | <span class="id" title="tactic">reflexivity</span> ]. <span class="id" title="tactic">eapply</span> <span class="id" title="var">H0</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H8</span>; [ | <span class="id" title="tactic">reflexivity</span> ]. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H5</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H8</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">invc</span> <span class="id" title="var">H2</span>. <span class="id" title="var">invs</span> <span class="id" title="var">H3</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">H</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H5</span>; [ | <span class="id" title="tactic">eauto</span> ]. <span class="id" title="tactic">eapply</span> <span class="id" title="var">H0</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H7</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">H1</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H10</span>; [ | <span class="id" title="tactic">eauto</span> ]. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H5</span> <span class="id" title="tactic">in</span> *. <span class="id" title="tactic">clear</span> <span class="id" title="var">H5</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H10</span> <span class="id" title="tactic">in</span> *. <span class="id" title="tactic">clear</span> <span class="id" title="var">H10</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="Imp_LangTrick.Stack.StackLangTheorems.html#args_stack_sem_preserves_length"><span class="id" title="lemma">args_stack_sem_preserves_length</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">a</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#app_length"><span class="id" title="lemma">app_length</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H7</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">e3</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H7</span>. <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">a</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H7</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Arith.PeanoNat.html#Nat.add_comm"><span class="id" title="lemma">Nat.add_comm</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Arith.PeanoNat.html#Nat.add_sub"><span class="id" title="lemma">Nat.add_sub</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H7</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#same_after_popping_calculate_length"><span class="id" title="lemma">same_after_popping_calculate_length</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">s</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">e3</span> <span class="id" title="tactic">in</span> <span class="id" title="var">s</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">s</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H7</span>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">invs</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">invs</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">invs</span> <span class="id" title="var">H0</span>. <span class="id" title="var">invs</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">H</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H3</span>; [ | <span class="id" title="tactic">eauto</span> ]. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">invs</span> <span class="id" title="var">H1</span>. <span class="id" title="var">invs</span> <span class="id" title="var">H2</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">H</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H5</span>; [ | <span class="id" title="tactic">eauto</span> ]. <span class="id" title="tactic">eapply</span> <span class="id" title="var">H0</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H8</span>; [ | <span class="id" title="tactic">eauto</span> ]. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H5</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H8</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">invc</span> <span class="id" title="var">H1</span>. <span class="id" title="var">invs</span> <span class="id" title="var">H2</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">H</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H4</span>; [ | <span class="id" title="tactic">eauto</span> ]. <span class="id" title="tactic">eapply</span> <span class="id" title="var">H0</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H7</span>; [ | <span class="id" title="tactic">eauto</span> ]. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H4</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H7</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">invc</span> <span class="id" title="var">H1</span>. <span class="id" title="var">invs</span> <span class="id" title="var">H2</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">H</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H4</span>; [ | <span class="id" title="tactic">eauto</span> ]. <span class="id" title="tactic">eapply</span> <span class="id" title="var">H0</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H7</span>; [ | <span class="id" title="tactic">eauto</span> ]. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H4</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H7</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">invc</span> <span class="id" title="var">H1</span>. <span class="id" title="var">invs</span> <span class="id" title="var">H2</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">H</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H4</span>; [ | <span class="id" title="tactic">eauto</span> ]. <span class="id" title="tactic">eapply</span> <span class="id" title="var">H0</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H7</span>; [ | <span class="id" title="tactic">eauto</span> ]. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H4</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H7</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">invs</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">invc</span> <span class="id" title="var">H1</span>. <span class="id" title="var">invs</span> <span class="id" title="var">H2</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">H</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H4</span>; [ | <span class="id" title="tactic">eauto</span> ]. <span class="id" title="tactic">eapply</span> <span class="id" title="var">H0</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H7</span>; [ | <span class="id" title="tactic">eauto</span>]. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H4</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H7</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="imp_stack_len_same" class="idref" href="#imp_stack_len_same"><span class="id" title="lemma">imp_stack_len_same</span></a> :<br/>
&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">forall</span> (<a id="i:186" class="idref" href="#i:186"><span class="id" title="binder">i</span></a> : <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#imp_stack"><span class="id" title="inductive">imp_stack</span></a>) (<a id="fenv:187" class="idref" href="#fenv:187"><span class="id" title="binder">fenv</span></a> : <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#fun_env_stk"><span class="id" title="definition">fun_env_stk</span></a>) (<a id="stk:188" class="idref" href="#stk:188"><span class="id" title="binder">stk</span></a> <a id="stk':189" class="idref" href="#stk':189"><span class="id" title="binder">stk'</span></a> : <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#stack"><span class="id" title="definition">stack</span></a>),<br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#imp_stack_sem"><span class="id" title="inductive">imp_stack_sem</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#i:186"><span class="id" title="variable">i</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#fenv:187"><span class="id" title="variable">fenv</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#stk:188"><span class="id" title="variable">stk</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#stk':189"><span class="id" title="variable">stk'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <a id="frame:190" class="idref" href="#frame:190"><span class="id" title="binder">frame</span></a> <a id="frame':191" class="idref" href="#frame':191"><span class="id" title="binder">frame'</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>,<br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackFrameBase.html#imp_frame_rule"><span class="id" title="inductive">imp_frame_rule</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#i:186"><span class="id" title="variable">i</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#fenv:187"><span class="id" title="variable">fenv</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#frame:190"><span class="id" title="variable">frame</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#frame':191"><span class="id" title="variable">frame'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">Datatypes.length</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#stk:188"><span class="id" title="variable">stk</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Nat.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#frame:190"><span class="id" title="variable">frame</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">Datatypes.length</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#stk':189"><span class="id" title="variable">stk'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Nat.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#frame':191"><span class="id" title="variable">frame'</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#stack_length_same"><span class="id" title="lemma">stack_length_same</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">H</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="aexp_stack_len_same" class="idref" href="#aexp_stack_len_same"><span class="id" title="lemma">aexp_stack_len_same</span></a> :<br/>
&nbsp;&nbsp;(<span class="id" title="keyword">forall</span> (<a id="a:192" class="idref" href="#a:192"><span class="id" title="binder">a</span></a> : <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#aexp_stack"><span class="id" title="inductive">aexp_stack</span></a>) (<a id="fenv:193" class="idref" href="#fenv:193"><span class="id" title="binder">fenv</span></a> : <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#fun_env_stk"><span class="id" title="definition">fun_env_stk</span></a>) (<a id="stk:194" class="idref" href="#stk:194"><span class="id" title="binder">stk</span></a> : <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#stack"><span class="id" title="definition">stack</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="stk'n:195" class="idref" href="#stk'n:195"><span class="id" title="binder">stk'n</span></a> : <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#stack"><span class="id" title="definition">stack</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>),<br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#aexp_stack_sem"><span class="id" title="inductive">aexp_stack_sem</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#a:192"><span class="id" title="variable">a</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#fenv:193"><span class="id" title="variable">fenv</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#stk:194"><span class="id" title="variable">stk</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#stk'n:195"><span class="id" title="variable">stk'n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> (<a id="stk':196" class="idref" href="#stk':196"><span class="id" title="binder">stk'</span></a> : <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#stack"><span class="id" title="definition">stack</span></a>) (<a id="n:197" class="idref" href="#n:197"><span class="id" title="binder">n</span></a> <a id="frame:198" class="idref" href="#frame:198"><span class="id" title="binder">frame</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>),<br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#stk'n:195"><span class="id" title="variable">stk'n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#stk':196"><span class="id" title="variable">stk'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#n:197"><span class="id" title="variable">n</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackFrameBase.html#aexp_frame_rule"><span class="id" title="inductive">aexp_frame_rule</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#a:192"><span class="id" title="variable">a</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#fenv:193"><span class="id" title="variable">fenv</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#frame:198"><span class="id" title="variable">frame</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">Datatypes.length</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#stk:194"><span class="id" title="variable">stk</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">Datatypes.length</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#stk':196"><span class="id" title="variable">stk'</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#stack_length_same"><span class="id" title="lemma">stack_length_same</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">H0</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="bexp_stack_len_same" class="idref" href="#bexp_stack_len_same"><span class="id" title="lemma">bexp_stack_len_same</span></a> :<br/>
&nbsp;&nbsp;(<span class="id" title="keyword">forall</span> (<a id="b:199" class="idref" href="#b:199"><span class="id" title="binder">b</span></a> : <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#bexp_stack"><span class="id" title="inductive">bexp_stack</span></a>) (<a id="fenv:200" class="idref" href="#fenv:200"><span class="id" title="binder">fenv</span></a> : <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#fun_env_stk"><span class="id" title="definition">fun_env_stk</span></a>) (<a id="stk:201" class="idref" href="#stk:201"><span class="id" title="binder">stk</span></a> : <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#stack"><span class="id" title="definition">stack</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="stk'v:202" class="idref" href="#stk'v:202"><span class="id" title="binder">stk'v</span></a> : <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#stack"><span class="id" title="definition">stack</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>),<br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#bexp_stack_sem"><span class="id" title="inductive">bexp_stack_sem</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#b:199"><span class="id" title="variable">b</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#fenv:200"><span class="id" title="variable">fenv</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#stk:201"><span class="id" title="variable">stk</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#stk'v:202"><span class="id" title="variable">stk'v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> (<a id="stk':203" class="idref" href="#stk':203"><span class="id" title="binder">stk'</span></a> : <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#stack"><span class="id" title="definition">stack</span></a>) (<a id="v:204" class="idref" href="#v:204"><span class="id" title="binder">v</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>) (<a id="frame:205" class="idref" href="#frame:205"><span class="id" title="binder">frame</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>),<br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#stk'v:202"><span class="id" title="variable">stk'v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#stk':203"><span class="id" title="variable">stk'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#v:204"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackFrameBase.html#bexp_frame_rule"><span class="id" title="inductive">bexp_frame_rule</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#b:199"><span class="id" title="variable">b</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#fenv:200"><span class="id" title="variable">fenv</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#frame:205"><span class="id" title="variable">frame</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">Datatypes.length</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#stk:201"><span class="id" title="variable">stk</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">Datatypes.length</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#stk':203"><span class="id" title="variable">stk'</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#stack_length_same"><span class="id" title="lemma">stack_length_same</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">H1</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="args_stack_len_same" class="idref" href="#args_stack_len_same"><span class="id" title="lemma">args_stack_len_same</span></a> :<br/>
&nbsp;&nbsp;(<span class="id" title="keyword">forall</span> (<a id="args:206" class="idref" href="#args:206"><span class="id" title="binder">args</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#aexp_stack"><span class="id" title="inductive">aexp_stack</span></a>) (<a id="fenv:207" class="idref" href="#fenv:207"><span class="id" title="binder">fenv</span></a> : <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#fun_env_stk"><span class="id" title="definition">fun_env_stk</span></a>) <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="stk:208" class="idref" href="#stk:208"><span class="id" title="binder">stk</span></a> : <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#stack"><span class="id" title="definition">stack</span></a>) (<a id="stk'vals:209" class="idref" href="#stk'vals:209"><span class="id" title="binder">stk'vals</span></a> : <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#stack"><span class="id" title="definition">stack</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>),<br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#args_stack_sem"><span class="id" title="inductive">args_stack_sem</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#args:206"><span class="id" title="variable">args</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#fenv:207"><span class="id" title="variable">fenv</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#stk:208"><span class="id" title="variable">stk</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#stk'vals:209"><span class="id" title="variable">stk'vals</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> (<a id="stk':210" class="idref" href="#stk':210"><span class="id" title="binder">stk'</span></a> : <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#stack"><span class="id" title="definition">stack</span></a>) (<a id="vals:211" class="idref" href="#vals:211"><span class="id" title="binder">vals</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<a id="frame:212" class="idref" href="#frame:212"><span class="id" title="binder">frame</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>),<br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#stk'vals:209"><span class="id" title="variable">stk'vals</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#stk':210"><span class="id" title="variable">stk'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#vals:211"><span class="id" title="variable">vals</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackFrameBase.html#args_frame_rule"><span class="id" title="inductive">args_frame_rule</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#args:206"><span class="id" title="variable">args</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#fenv:207"><span class="id" title="variable">fenv</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#frame:212"><span class="id" title="variable">frame</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">Datatypes.length</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#stk:208"><span class="id" title="variable">stk</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">Datatypes.length</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#stk':210"><span class="id" title="variable">stk'</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#stack_length_same"><span class="id" title="lemma">stack_length_same</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#P_stack_length_same"><span class="id" title="definition">P_stack_length_same</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">H2</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="frame_relative_section" class="idref" href="#frame_relative_section"><span class="id" title="section">frame_relative_section</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">From</span> <span class="id" title="var">Coq</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ZArith.ZArith.html#"><span class="id" title="library">ZArith</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="int_diff_nats" class="idref" href="#int_diff_nats"><span class="id" title="definition">int_diff_nats</span></a> (<a id="n1:213" class="idref" href="#n1:213"><span class="id" title="binder">n1</span></a> <a id="n2:214" class="idref" href="#n2:214"><span class="id" title="binder">n2</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>): <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ZArith.BinInt.html#Z.of_nat"><span class="id" title="definition">Z.of_nat</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#n1:213"><span class="id" title="variable">n1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ZArith.BinInt.html#Z.of_nat"><span class="id" title="definition">Z.of_nat</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#n2:214"><span class="id" title="variable">n2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x"><span class="id" title="notation">)</span></a>)%<span class="id" title="var">Z</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="neq_pred" class="idref" href="#neq_pred"><span class="id" title="lemma">neq_pred</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <a id="frame:215" class="idref" href="#frame:215"><span class="id" title="binder">frame</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#frame:215"><span class="id" title="variable">frame</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#73030c22bc0b1fa771c65aa5414c65f9"><span class="id" title="notation">&gt;=</span></a> 1 <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#frame:215"><span class="id" title="variable">frame</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#frame:215"><span class="id" title="variable">frame</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Nat.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> 1.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">frame</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">invs</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Arith.PeanoNat.html#Nat.sub_succ"><span class="id" title="lemma">Nat.sub_succ</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Arith.PeanoNat.html#Nat.sub_0_r"><span class="id" title="lemma">Nat.sub_0_r</span></a>. <span class="id" title="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#not"><span class="id" title="definition">not</span></a>. <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Arith.PeanoNat.html#Nat.neq_succ_diag_r"><span class="id" title="lemma">Nat.neq_succ_diag_r</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="frame_relative" class="idref" href="#frame_relative"><span class="id" title="lemma">frame_relative</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> (<a id="i:216" class="idref" href="#i:216"><span class="id" title="binder">i</span></a>: <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#imp_stack"><span class="id" title="inductive">imp_stack</span></a>) (<a id="fenv:217" class="idref" href="#fenv:217"><span class="id" title="binder">fenv</span></a>: <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#fun_env_stk"><span class="id" title="definition">fun_env_stk</span></a>) (<a id="frame:218" class="idref" href="#frame:218"><span class="id" title="binder">frame</span></a> <a id="frame':219" class="idref" href="#frame':219"><span class="id" title="binder">frame'</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackFrameBase.html#imp_frame_rule"><span class="id" title="inductive">imp_frame_rule</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#i:216"><span class="id" title="variable">i</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#fenv:217"><span class="id" title="variable">fenv</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#frame:218"><span class="id" title="variable">frame</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#frame':219"><span class="id" title="variable">frame'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> (<a id="f:220" class="idref" href="#f:220"><span class="id" title="binder">f</span></a> <a id="f':221" class="idref" href="#f':221"><span class="id" title="binder">f'</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackFrameBase.html#imp_frame_rule"><span class="id" title="inductive">imp_frame_rule</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#i:216"><span class="id" title="variable">i</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#fenv:217"><span class="id" title="variable">fenv</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#f:220"><span class="id" title="variable">f</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#f':221"><span class="id" title="variable">f'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#int_diff_nats"><span class="id" title="definition">int_diff_nats</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#f':221"><span class="id" title="variable">f'</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#f:220"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#int_diff_nats"><span class="id" title="definition">int_diff_nats</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#frame':219"><span class="id" title="variable">frame'</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#frame:218"><span class="id" title="variable">frame</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#int_diff_nats"><span class="id" title="definition">int_diff_nats</span></a>. <span class="id" title="tactic">induction</span> <span class="id" title="var">i</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">invs</span> <span class="id" title="var">H0</span>. <span class="id" title="var">invs</span> <span class="id" title="var">H</span>. <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">invs</span> <span class="id" title="var">H</span>. <span class="id" title="var">invs</span> <span class="id" title="var">H0</span>. <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">invs</span> <span class="id" title="var">H</span>. <span class="id" title="var">invs</span> <span class="id" title="var">H0</span>. <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">invs</span> <span class="id" title="var">H</span>. <span class="id" title="var">invs</span> <span class="id" title="var">H0</span>. <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">invs</span> <span class="id" title="var">H</span>. <span class="id" title="var">invs</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHi1</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H3</span>; [ | <span class="id" title="tactic">eapply</span> <span class="id" title="var">H4</span> ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHi2</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H7</span>; [ | <span class="id" title="tactic">eapply</span> <span class="id" title="var">H9</span> ]. <span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ZArith.BinInt.html#Z.sub_move_r"><span class="id" title="lemma">Z.sub_move_r</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H7</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ZArith.BinInt.html#Z.sub_move_r"><span class="id" title="lemma">Z.sub_move_r</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H3</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H7</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ZArith.BinInt.html#Z.opp_sub_distr"><span class="id" title="lemma">Z.opp_sub_distr</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H7</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ZArith.BinInt.html#Z.opp_sub_distr"><span class="id" title="lemma">Z.opp_sub_distr</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H7</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ZArith.BinInt.html#Z.add_opp_r"><span class="id" title="lemma">Z.add_opp_r</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H7</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ZArith.BinInt.html#Z.add_opp_l"><span class="id" title="lemma">Z.add_opp_l</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H7</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ZArith.BinInt.html#Z.sub_sub_distr"><span class="id" title="lemma">Z.sub_sub_distr</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H7</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ZArith.BinInt.html#Z.sub_add_distr"><span class="id" title="lemma">Z.sub_add_distr</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H7</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ZArith.BinInt.html#Z.add_comm"><span class="id" title="lemma">Z.add_comm</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ZArith.BinInt.html#Z.of_nat"><span class="id" title="definition">Z.of_nat</span></a> <span class="id" title="var">frame'0</span>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ZArith.BinInt.html#Z.of_nat"><span class="id" title="definition">Z.of_nat</span></a> <span class="id" title="var">frame</span>)) <span class="id" title="tactic">in</span> <span class="id" title="var">H7</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ZArith.BinInt.html#Z.sub_add_distr"><span class="id" title="lemma">Z.sub_add_distr</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H7</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ZArith.BinInt.html#Z.sub_add"><span class="id" title="lemma">Z.sub_add</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H7</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H7</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ZArith.BinInt.html#Z.sub_move_r"><span class="id" title="lemma">Z.sub_move_r</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H7</span>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">invs</span> <span class="id" title="var">H</span>. <span class="id" title="var">invs</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHi1</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H8</span>; [ | <span class="id" title="tactic">eapply</span> <span class="id" title="var">H11</span> ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H8</span>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">invs</span> <span class="id" title="var">H</span>. <span class="id" title="var">invs</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ZArith.BinInt.html#Z.sub_diag"><span class="id" title="lemma">Z.sub_diag</span></a>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="exists_nat_pos" class="idref" href="#exists_nat_pos"><span class="id" title="lemma">exists_nat_pos</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> (<a id="p:222" class="idref" href="#p:222"><span class="id" title="binder">p</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Numbers.BinNums.html#positive"><span class="id" title="inductive">positive</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">(</span></a><a id="n:223" class="idref" href="#n:223"><span class="id" title="binder">n</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">),</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ZArith.BinInt.html#Z.pos"><span class="id" title="abbreviation">Z.pos</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#p:222"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ZArith.BinInt.html#Z.of_nat"><span class="id" title="definition">Z.of_nat</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#n:223"><span class="id" title="variable">n</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">exists</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ZArith.BinInt.html#Z.to_nat"><span class="id" title="definition">Z.to_nat</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ZArith.BinInt.html#Z.pos"><span class="id" title="abbreviation">Z.pos</span></a> (<span class="id" title="var">p</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.PArith.BinPosDef.html#119ad21c8e0c4947cd973f1f72e5feea"><span class="id" title="notation">~1</span></a>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ZArith.Znat.html#Z2Nat.id"><span class="id" title="lemma">Z2Nat.id</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">exists</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ZArith.BinInt.html#Z.to_nat"><span class="id" title="definition">Z.to_nat</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ZArith.BinInt.html#Z.pos"><span class="id" title="abbreviation">Z.pos</span></a> (<span class="id" title="var">p</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.PArith.BinPosDef.html#35713fcadfdd66af247cbf95acf859fa"><span class="id" title="notation">~0</span></a>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ZArith.Znat.html#Z2Nat.id"><span class="id" title="lemma">Z2Nat.id</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">exists</span> 1. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="frame_relative''" class="idref" href="#frame_relative''"><span class="id" title="lemma">frame_relative''</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> (<a id="i:224" class="idref" href="#i:224"><span class="id" title="binder">i</span></a>: <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#imp_stack"><span class="id" title="inductive">imp_stack</span></a>) (<a id="fenv:225" class="idref" href="#fenv:225"><span class="id" title="binder">fenv</span></a>: <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#fun_env_stk"><span class="id" title="definition">fun_env_stk</span></a>) (<a id="frame:226" class="idref" href="#frame:226"><span class="id" title="binder">frame</span></a> <a id="frame':227" class="idref" href="#frame':227"><span class="id" title="binder">frame'</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackFrameBase.html#imp_frame_rule"><span class="id" title="inductive">imp_frame_rule</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#i:224"><span class="id" title="variable">i</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#fenv:225"><span class="id" title="variable">fenv</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#frame:226"><span class="id" title="variable">frame</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#frame':227"><span class="id" title="variable">frame'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> (<a id="f:228" class="idref" href="#f:228"><span class="id" title="binder">f</span></a> <a id="f':229" class="idref" href="#f':229"><span class="id" title="binder">f'</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackFrameBase.html#imp_frame_rule"><span class="id" title="inductive">imp_frame_rule</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#i:224"><span class="id" title="variable">i</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#fenv:225"><span class="id" title="variable">fenv</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#f:228"><span class="id" title="variable">f</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#f':229"><span class="id" title="variable">f'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#frame:226"><span class="id" title="variable">frame</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#cb53cf0ee22c036a03b4a9281c68b5a3"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#frame':227"><span class="id" title="variable">frame'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#f:228"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#cb53cf0ee22c036a03b4a9281c68b5a3"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#f':229"><span class="id" title="variable">f'</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#frame_relative"><span class="id" title="lemma">frame_relative</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">H2</span> <span class="id" title="var">i</span> <span class="id" title="var">fenv</span> <span class="id" title="var">frame</span> <span class="id" title="var">frame'</span> <span class="id" title="var">H</span> <span class="id" title="var">f</span> <span class="id" title="var">f'</span> <span class="id" title="var">H0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#int_diff_nats"><span class="id" title="definition">int_diff_nats</span></a> <span class="id" title="var">f'</span> <span class="id" title="var">f</span>) <span class="id" title="var">eqn</span>:?; <span class="id" title="tactic">unfold</span> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#int_diff_nats"><span class="id" title="definition">int_diff_nats</span></a> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ZArith.BinInt.html#Zminus_eq"><span class="id" title="lemma">Zminus_eq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ZArith.BinInt.html#Zminus_eq"><span class="id" title="lemma">Zminus_eq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Heqz</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#f_equal"><span class="id" title="lemma">f_equal</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ZArith.BinInt.html#Z.to_nat"><span class="id" title="definition">Z.to_nat</span></a> <span class="id" title="var">Heqz</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ZArith.Znat.html#Nat2Z.id"><span class="id" title="lemma">Nat2Z.id</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ZArith.BinInt.html#Z.sub_move_r"><span class="id" title="lemma">Z.sub_move_r</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Heqz</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#exists_nat_pos"><span class="id" title="lemma">exists_nat_pos</span></a> <span class="id" title="var">p</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H3</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H3</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Heqz</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ZArith.Znat.html#Nat2Z.inj_add"><span class="id" title="lemma">Nat2Z.inj_add</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Heqz</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#f_equal"><span class="id" title="lemma">f_equal</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ZArith.BinInt.html#Z.to_nat"><span class="id" title="definition">Z.to_nat</span></a> <span class="id" title="var">Heqz</span>). <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ZArith.Znat.html#Nat2Z.id"><span class="id" title="lemma">Nat2Z.id</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H4</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H4</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Arith.PeanoNat.html#Nat.add_comm"><span class="id" title="lemma">Nat.add_comm</span></a>. <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">f'</span>, <span class="id" title="var">f</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Heqz</span>. <span class="id" title="var">invs</span> <span class="id" title="var">Heqz</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Heqz</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ZArith.BinInt.html#Z.of_nat"><span class="id" title="definition">Z.of_nat</span></a> <span class="id" title="var">frame</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ZArith.BinInt.html#Z.of_nat"><span class="id" title="definition">Z.of_nat</span></a> <span class="id" title="var">frame'</span>)%<span class="id" title="var">Z</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (0 <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ZArith.BinInt.html#Z.of_nat"><span class="id" title="definition">Z.of_nat</span></a> <span class="id" title="var">frame'</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ZArith.BinInt.html#Z.of_nat"><span class="id" title="definition">Z.of_nat</span></a> <span class="id" title="var">frame</span>)%<span class="id" title="var">Z</span> <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ZArith.Wf_Z.html#Z_of_nat_complete"><span class="id" title="lemma">Z_of_nat_complete</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H4</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H4</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H4</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ZArith.BinInt.html#Z.of_nat"><span class="id" title="definition">Z.of_nat</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">invs</span> <span class="id" title="var">H2</span>. <span class="id" title="var">invs</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lia</span>. <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ZArith.Zorder.html#Zlt_neg_0"><span class="id" title="lemma">Zlt_neg_0</span></a> <span class="id" title="var">p</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">Heqz</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H3</span>. <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ZArith.BinInt.html#Z.lt_sub_0"><span class="id" title="lemma">Z.lt_sub_0</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">H4</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ZArith.BinInt.html#Z.of_nat"><span class="id" title="definition">Z.of_nat</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">f'</span>)) (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ZArith.BinInt.html#Z.of_nat"><span class="id" title="definition">Z.of_nat</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">f</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H4</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H3</span>. <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="frame_relative_leq" class="idref" href="#frame_relative_leq"><span class="id" title="lemma">frame_relative_leq</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> (<a id="i:230" class="idref" href="#i:230"><span class="id" title="binder">i</span></a>: <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#imp_stack"><span class="id" title="inductive">imp_stack</span></a>) (<a id="fenv:231" class="idref" href="#fenv:231"><span class="id" title="binder">fenv</span></a>: <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#fun_env_stk"><span class="id" title="definition">fun_env_stk</span></a>) (<a id="frame:232" class="idref" href="#frame:232"><span class="id" title="binder">frame</span></a> <a id="frame':233" class="idref" href="#frame':233"><span class="id" title="binder">frame'</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackFrameBase.html#imp_frame_rule"><span class="id" title="inductive">imp_frame_rule</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#i:230"><span class="id" title="variable">i</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#fenv:231"><span class="id" title="variable">fenv</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#frame:232"><span class="id" title="variable">frame</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#frame':233"><span class="id" title="variable">frame'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> (<a id="f:234" class="idref" href="#f:234"><span class="id" title="binder">f</span></a> <a id="f':235" class="idref" href="#f':235"><span class="id" title="binder">f'</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackFrameBase.html#imp_frame_rule"><span class="id" title="inductive">imp_frame_rule</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#i:230"><span class="id" title="variable">i</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#fenv:231"><span class="id" title="variable">fenv</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#f:234"><span class="id" title="variable">f</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#f':235"><span class="id" title="variable">f'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#frame:232"><span class="id" title="variable">frame</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#73030c22bc0b1fa771c65aa5414c65f9"><span class="id" title="notation">&gt;=</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#frame':233"><span class="id" title="variable">frame'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#f:234"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#73030c22bc0b1fa771c65aa5414c65f9"><span class="id" title="notation">&gt;=</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#f':235"><span class="id" title="variable">f'</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#frame_relative"><span class="id" title="lemma">frame_relative</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">H2</span> <span class="id" title="var">i</span> <span class="id" title="var">fenv</span> <span class="id" title="var">frame</span> <span class="id" title="var">frame'</span> <span class="id" title="var">H</span> <span class="id" title="var">f</span> <span class="id" title="var">f'</span> <span class="id" title="var">H0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#int_diff_nats"><span class="id" title="definition">int_diff_nats</span></a> <span class="id" title="var">f'</span> <span class="id" title="var">f</span>) <span class="id" title="var">eqn</span>:?; <span class="id" title="tactic">unfold</span> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#int_diff_nats"><span class="id" title="definition">int_diff_nats</span></a> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ZArith.BinInt.html#Zminus_eq"><span class="id" title="lemma">Zminus_eq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ZArith.BinInt.html#Zminus_eq"><span class="id" title="lemma">Zminus_eq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Heqz</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#f_equal"><span class="id" title="lemma">f_equal</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ZArith.BinInt.html#Z.to_nat"><span class="id" title="definition">Z.to_nat</span></a> <span class="id" title="var">Heqz</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ZArith.Znat.html#Nat2Z.id"><span class="id" title="lemma">Nat2Z.id</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">assert</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ZArith.BinInt.html#Z.of_nat"><span class="id" title="definition">Z.of_nat</span></a> <span class="id" title="var">frame</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ZArith.BinInt.html#b1f0780291abe9bd18804d2c9a5039d4"><span class="id" title="notation">&gt;=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ZArith.BinInt.html#Z.of_nat"><span class="id" title="definition">Z.of_nat</span></a> <span class="id" title="var">frame'</span>)%<span class="id" title="var">Z</span> <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (0 <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ZArith.BinInt.html#b1f0780291abe9bd18804d2c9a5039d4"><span class="id" title="notation">&gt;=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ZArith.BinInt.html#Z.of_nat"><span class="id" title="definition">Z.of_nat</span></a> <span class="id" title="var">frame'</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ZArith.BinInt.html#Z.of_nat"><span class="id" title="definition">Z.of_nat</span></a> <span class="id" title="var">frame</span>)%<span class="id" title="var">Z</span> <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ZArith.Wf_Z.html#Z_of_nat_complete"><span class="id" title="lemma">Z_of_nat_complete</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">H5</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ZArith.BinInt.html#Z.pos"><span class="id" title="abbreviation">Z.pos</span></a> <span class="id" title="var">p</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (0 <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ZArith.BinInt.html#Z.pos"><span class="id" title="abbreviation">Z.pos</span></a> <span class="id" title="var">p</span>)%<span class="id" title="var">Z</span> <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<span class="id" title="var">H7</span> := <span class="id" title="var">H6</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H5</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H6</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H6</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H2</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H6</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ZArith.BinInt.html#Z.le_sub_0"><span class="id" title="lemma">Z.le_sub_0</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">H8</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ZArith.BinInt.html#Z.of_nat"><span class="id" title="definition">Z.of_nat</span></a> <span class="id" title="var">frame'</span>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ZArith.BinInt.html#Z.of_nat"><span class="id" title="definition">Z.of_nat</span></a> <span class="id" title="var">frame</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ZArith.BinInt.html#Z.of_nat"><span class="id" title="definition">Z.of_nat</span></a> <span class="id" title="var">frame'</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ZArith.BinInt.html#Z.of_nat"><span class="id" title="definition">Z.of_nat</span></a> <span class="id" title="var">frame</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e"><span class="id" title="notation">&lt;=</span></a> 0)%<span class="id" title="var">Z</span> <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H8</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H9</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ZArith.BinInt.html#Z.of_nat"><span class="id" title="definition">Z.of_nat</span></a> <span class="id" title="var">frame</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ZArith.BinInt.html#b1f0780291abe9bd18804d2c9a5039d4"><span class="id" title="notation">&gt;=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ZArith.BinInt.html#Z.of_nat"><span class="id" title="definition">Z.of_nat</span></a> <span class="id" title="var">frame'</span>)%<span class="id" title="var">Z</span> <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ZArith.BinInt.html#Z.of_nat"><span class="id" title="definition">Z.of_nat</span></a> <span class="id" title="var">frame'</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ZArith.BinInt.html#Z.of_nat"><span class="id" title="definition">Z.of_nat</span></a> <span class="id" title="var">frame</span>)%<span class="id" title="var">Z</span> <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H11</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ZArith.BinInt.html#Z.sub_diag"><span class="id" title="lemma">Z.sub_diag</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>. <span class="id" title="var">invs</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ZArith.Zorder.html#Zlt_neg_0"><span class="id" title="lemma">Zlt_neg_0</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">H3</span> <span class="id" title="var">p</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">Heqz</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ZArith.BinInt.html#Z.of_nat"><span class="id" title="definition">Z.of_nat</span></a> <span class="id" title="var">f'</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ZArith.BinInt.html#::Z_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.ZArith.BinInt.html#Z.of_nat"><span class="id" title="definition">Z.of_nat</span></a> <span class="id" title="var">f</span>)%<span class="id" title="var">Z</span> <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#frame_relative_section"><span class="id" title="section">frame_relative_section</span></a>.<br/>

<br/>
<span class="id" title="keyword">Local</span> <span class="id" title="keyword">Definition</span> <a id="P_frame_expansion" class="idref" href="#P_frame_expansion"><span class="id" title="definition">P_frame_expansion</span></a> (<a id="a:236" class="idref" href="#a:236"><span class="id" title="binder">a</span></a>: <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#aexp_stack"><span class="id" title="inductive">aexp_stack</span></a>) (<a id="fenv:237" class="idref" href="#fenv:237"><span class="id" title="binder">fenv</span></a>: <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#fun_env_stk"><span class="id" title="definition">fun_env_stk</span></a>) (<a id="frame:238" class="idref" href="#frame:238"><span class="id" title="binder">frame</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>): <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <a id="frame':239" class="idref" href="#frame':239"><span class="id" title="binder">frame'</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#frame:238"><span class="id" title="variable">frame</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#cb53cf0ee22c036a03b4a9281c68b5a3"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#frame':239"><span class="id" title="variable">frame'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackFrameBase.html#aexp_frame_rule"><span class="id" title="inductive">aexp_frame_rule</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#a:236"><span class="id" title="variable">a</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#fenv:237"><span class="id" title="variable">fenv</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#frame':239"><span class="id" title="variable">frame'</span></a>.<br/>

<br/>
<span class="id" title="keyword">Local</span> <span class="id" title="keyword">Definition</span> <a id="P0_frame_expansion" class="idref" href="#P0_frame_expansion"><span class="id" title="definition">P0_frame_expansion</span></a> (<a id="args:240" class="idref" href="#args:240"><span class="id" title="binder">args</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#aexp_stack"><span class="id" title="inductive">aexp_stack</span></a>) (<a id="fenv:241" class="idref" href="#fenv:241"><span class="id" title="binder">fenv</span></a>: <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#fun_env_stk"><span class="id" title="definition">fun_env_stk</span></a>) (<a id="frame:242" class="idref" href="#frame:242"><span class="id" title="binder">frame</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>): <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <a id="frame':243" class="idref" href="#frame':243"><span class="id" title="binder">frame'</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#frame:242"><span class="id" title="variable">frame</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#cb53cf0ee22c036a03b4a9281c68b5a3"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#frame':243"><span class="id" title="variable">frame'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackFrameBase.html#args_frame_rule"><span class="id" title="inductive">args_frame_rule</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#args:240"><span class="id" title="variable">args</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#fenv:241"><span class="id" title="variable">fenv</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#frame':243"><span class="id" title="variable">frame'</span></a>.<br/>

<br/>
<span class="id" title="keyword">Local</span> <span class="id" title="keyword">Definition</span> <a id="P1_frame_expansion" class="idref" href="#P1_frame_expansion"><span class="id" title="definition">P1_frame_expansion</span></a> (<a id="b:244" class="idref" href="#b:244"><span class="id" title="binder">b</span></a>: <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#bexp_stack"><span class="id" title="inductive">bexp_stack</span></a>) (<a id="fenv:245" class="idref" href="#fenv:245"><span class="id" title="binder">fenv</span></a>: <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#fun_env_stk"><span class="id" title="definition">fun_env_stk</span></a>) (<a id="frame:246" class="idref" href="#frame:246"><span class="id" title="binder">frame</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) : <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <a id="frame':247" class="idref" href="#frame':247"><span class="id" title="binder">frame'</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#frame:246"><span class="id" title="variable">frame</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#cb53cf0ee22c036a03b4a9281c68b5a3"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#frame':247"><span class="id" title="variable">frame'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackFrameBase.html#bexp_frame_rule"><span class="id" title="inductive">bexp_frame_rule</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#b:244"><span class="id" title="variable">b</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#fenv:245"><span class="id" title="variable">fenv</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#frame':247"><span class="id" title="variable">frame'</span></a>.<br/>

<br/>
<span class="id" title="keyword">Local</span> <span class="id" title="keyword">Definition</span> <a id="P2_frame_expansion" class="idref" href="#P2_frame_expansion"><span class="id" title="definition">P2_frame_expansion</span></a> (<a id="i:248" class="idref" href="#i:248"><span class="id" title="binder">i</span></a>: <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#imp_stack"><span class="id" title="inductive">imp_stack</span></a>) (<a id="fenv:249" class="idref" href="#fenv:249"><span class="id" title="binder">fenv</span></a>: <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#fun_env_stk"><span class="id" title="definition">fun_env_stk</span></a>) (<a id="frame:250" class="idref" href="#frame:250"><span class="id" title="binder">frame</span></a> <a id="frame':251" class="idref" href="#frame':251"><span class="id" title="binder">frame'</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>): <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <a id="frame'':252" class="idref" href="#frame'':252"><span class="id" title="binder">frame''</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#frame:250"><span class="id" title="variable">frame</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#cb53cf0ee22c036a03b4a9281c68b5a3"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#frame'':252"><span class="id" title="variable">frame''</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackFrameBase.html#imp_frame_rule"><span class="id" title="inductive">imp_frame_rule</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#i:248"><span class="id" title="variable">i</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#fenv:249"><span class="id" title="variable">fenv</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#frame'':252"><span class="id" title="variable">frame''</span></a> (<a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#frame'':252"><span class="id" title="variable">frame''</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Nat.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#frame':251"><span class="id" title="variable">frame'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Nat.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#frame:250"><span class="id" title="variable">frame</span></a>).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="frame_expansion" class="idref" href="#frame_expansion"><span class="id" title="lemma">frame_expansion</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#frame_rule_mut_ind_theorem"><span class="id" title="definition">frame_rule_mut_ind_theorem</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#P_frame_expansion"><span class="id" title="definition">P_frame_expansion</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#P0_frame_expansion"><span class="id" title="definition">P0_frame_expansion</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#P1_frame_expansion"><span class="id" title="definition">P1_frame_expansion</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#P2_frame_expansion"><span class="id" title="definition">P2_frame_expansion</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">frame_rule_mutual_induction</span> <span class="id" title="var">P</span> <span class="id" title="var">P0</span> <span class="id" title="var">P1</span> <span class="id" title="var">P2</span> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#P_frame_expansion"><span class="id" title="definition">P_frame_expansion</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#P0_frame_expansion"><span class="id" title="definition">P0_frame_expansion</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#P1_frame_expansion"><span class="id" title="definition">P1_frame_expansion</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#P2_frame_expansion"><span class="id" title="definition">P2_frame_expansion</span></a>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">constructor</span>; <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <span class="id" title="var">H</span>. <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <span class="id" title="var">H0</span>. <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">constructor</span>; [ <span class="id" title="tactic">eapply</span> <span class="id" title="var">H</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">H0</span> ]; <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">constructor</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">constructor</span>; [ <span class="id" title="tactic">eapply</span> <span class="id" title="var">H</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">H0</span> ]; <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">constructor</span>; [ <span class="id" title="tactic">eapply</span> <span class="id" title="var">H</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">H0</span> ]; <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">constructor</span>; [ <span class="id" title="tactic">eapply</span> <span class="id" title="var">H</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">H0</span> ]; <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">constructor</span>; [ <span class="id" title="tactic">eapply</span> <span class="id" title="var">H</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">H0</span> ]; <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Arith.PeanoNat.html#Nat.add_sub"><span class="id" title="lemma">Nat.add_sub</span></a>. <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Arith.PeanoNat.html#Nat.add_sub"><span class="id" title="lemma">Nat.add_sub</span></a>. <span class="id" title="tactic">constructor</span>. <span class="id" title="var">lia</span>. <span class="id" title="var">lia</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Arith.PeanoNat.html#Nat.add_sub_assoc"><span class="id" title="lemma">Nat.add_sub_assoc</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Check</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Arith.Minus.html#minus_plus"><span class="id" title="abbreviation">minus_plus</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">remember</span> (<span class="id" title="var">frame</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Nat.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> 1 <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Nat.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <span class="id" title="var">frame</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">frame1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Arith.PeanoNat.html#Nat.add_comm"><span class="id" title="lemma">Nat.add_comm</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Heqframe1</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Arith.PeanoNat.html#Nat.add_sub"><span class="id" title="lemma">Nat.add_sub</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Heqframe1</span>. <span class="id" title="tactic">subst</span> <span class="id" title="var">frame1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>. <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Arith.PeanoNat.html#Nat.add_sub_assoc"><span class="id" title="lemma">Nat.add_sub_assoc</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Arith.PeanoNat.html#Nat.add_sub_swap"><span class="id" title="lemma">Nat.add_sub_swap</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Arith.PeanoNat.html#Nat.add_sub_assoc"><span class="id" title="lemma">Nat.add_sub_assoc</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Arith.PeanoNat.html#Nat.sub_diag"><span class="id" title="lemma">Nat.sub_diag</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Arith.PeanoNat.html#Nat.add_0_r"><span class="id" title="lemma">Nat.add_0_r</span></a>. <span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lia</span>. <span class="id" title="var">lia</span>. <span class="id" title="var">lia</span>. <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <span class="id" title="var">H</span>. <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">assert</span> (<span class="id" title="var">Hframe</span> : <span class="id" title="var">frame''0</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Nat.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <span class="id" title="var">frame'</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Nat.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <span class="id" title="var">frame</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Nat.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <span class="id" title="var">frame''</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Nat.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <span class="id" title="var">frame'</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">frame''0</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Nat.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <span class="id" title="var">frame''</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Nat.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <span class="id" title="var">frame</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Arith.PeanoNat.html#Nat.add_sub_swap"><span class="id" title="lemma">Nat.add_sub_swap</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Arith.PeanoNat.html#Nat.add_sub_swap"><span class="id" title="lemma">Nat.add_sub_swap</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">remember</span> (<span class="id" title="var">frame''0</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Nat.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <span class="id" title="var">frame</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">sth</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Arith.PeanoNat.html#Nat.add_comm"><span class="id" title="lemma">Nat.add_comm</span></a> <span class="id" title="var">sth</span> <span class="id" title="var">frame'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">remember</span> (<span class="id" title="var">frame'</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Nat.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <span class="id" title="var">sth</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Nat.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <span class="id" title="var">frame'</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">F</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Arith.PeanoNat.html#Nat.add_comm"><span class="id" title="lemma">Nat.add_comm</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Arith.PeanoNat.html#Nat.add_sub"><span class="id" title="lemma">Nat.add_sub</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">HeqF</span>. <span class="id" title="tactic">subst</span> <span class="id" title="var">F</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heqsth</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Arith.PeanoNat.html#Nat.add_sub_swap"><span class="id" title="lemma">Nat.add_sub_swap</span></a>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">frame''0</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Nat.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <span class="id" title="var">frame</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#73030c22bc0b1fa771c65aa5414c65f9"><span class="id" title="notation">&gt;=</span></a> 0) <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Arith.PeanoNat.html#Nat.add_sub_swap"><span class="id" title="lemma">Nat.add_sub_swap</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Arith.PeanoNat.html#Nat.add_comm"><span class="id" title="lemma">Nat.add_comm</span></a>. <span class="id" title="var">lia</span>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">Hframe</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Arith.PeanoNat.html#Nat.add_sub_swap"><span class="id" title="lemma">Nat.add_sub_swap</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Arith.PeanoNat.html#Nat.add_comm"><span class="id" title="lemma">Nat.add_comm</span></a>. <span class="id" title="var">lia</span>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Arith.PeanoNat.html#Nat.add_comm"><span class="id" title="lemma">Nat.add_comm</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Arith.PeanoNat.html#Nat.add_comm"><span class="id" title="lemma">Nat.add_comm</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Arith.PeanoNat.html#Nat.add_sub"><span class="id" title="lemma">Nat.add_sub</span></a>. <span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">specialize</span> (<span class="id" title="var">H0</span> <span class="id" title="var">frame''</span>). <span class="id" title="tactic">eapply</span> <span class="id" title="var">H0</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Arith.PeanoNat.html#Nat.add_comm"><span class="id" title="lemma">Nat.add_comm</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Arith.PeanoNat.html#Nat.add_comm"><span class="id" title="lemma">Nat.add_comm</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Arith.PeanoNat.html#Nat.add_sub"><span class="id" title="lemma">Nat.add_sub</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">assumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="aexp_frame_expansion" class="idref" href="#aexp_frame_expansion"><span class="id" title="lemma">aexp_frame_expansion</span></a> :<br/>
&nbsp;&nbsp;(<span class="id" title="keyword">forall</span> (<a id="a:253" class="idref" href="#a:253"><span class="id" title="binder">a</span></a> : <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#aexp_stack"><span class="id" title="inductive">aexp_stack</span></a>) (<a id="fenv:254" class="idref" href="#fenv:254"><span class="id" title="binder">fenv</span></a> : <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#fun_env_stk"><span class="id" title="definition">fun_env_stk</span></a>) (<a id="frame:255" class="idref" href="#frame:255"><span class="id" title="binder">frame</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>),<br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackFrameBase.html#aexp_frame_rule"><span class="id" title="inductive">aexp_frame_rule</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#a:253"><span class="id" title="variable">a</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#fenv:254"><span class="id" title="variable">fenv</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#frame:255"><span class="id" title="variable">frame</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <a id="frame':256" class="idref" href="#frame':256"><span class="id" title="binder">frame'</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>, <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#frame:255"><span class="id" title="variable">frame</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#cb53cf0ee22c036a03b4a9281c68b5a3"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#frame':256"><span class="id" title="variable">frame'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrameBase.html#aexp_frame_rule"><span class="id" title="inductive">aexp_frame_rule</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#a:253"><span class="id" title="variable">a</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#fenv:254"><span class="id" title="variable">fenv</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#frame':256"><span class="id" title="variable">frame'</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#frame_expansion"><span class="id" title="lemma">frame_expansion</span></a>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="args_frame_expansion" class="idref" href="#args_frame_expansion"><span class="id" title="lemma">args_frame_expansion</span></a> :<br/>
&nbsp;&nbsp;(<span class="id" title="keyword">forall</span> (<a id="args:257" class="idref" href="#args:257"><span class="id" title="binder">args</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#aexp_stack"><span class="id" title="inductive">aexp_stack</span></a>) (<a id="fenv:258" class="idref" href="#fenv:258"><span class="id" title="binder">fenv</span></a> : <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#fun_env_stk"><span class="id" title="definition">fun_env_stk</span></a>) (<a id="frame:259" class="idref" href="#frame:259"><span class="id" title="binder">frame</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>),<br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackFrameBase.html#args_frame_rule"><span class="id" title="inductive">args_frame_rule</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#args:257"><span class="id" title="variable">args</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#fenv:258"><span class="id" title="variable">fenv</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#frame:259"><span class="id" title="variable">frame</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <a id="frame':260" class="idref" href="#frame':260"><span class="id" title="binder">frame'</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#frame:259"><span class="id" title="variable">frame</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#cb53cf0ee22c036a03b4a9281c68b5a3"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#frame':260"><span class="id" title="variable">frame'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrameBase.html#args_frame_rule"><span class="id" title="inductive">args_frame_rule</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#args:257"><span class="id" title="variable">args</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#fenv:258"><span class="id" title="variable">fenv</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#frame':260"><span class="id" title="variable">frame'</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#frame_expansion"><span class="id" title="lemma">frame_expansion</span></a>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">H0</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="bexp_frame_expansion" class="idref" href="#bexp_frame_expansion"><span class="id" title="lemma">bexp_frame_expansion</span></a> :<br/>
&nbsp;&nbsp;(<span class="id" title="keyword">forall</span> (<a id="b:261" class="idref" href="#b:261"><span class="id" title="binder">b</span></a> : <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#bexp_stack"><span class="id" title="inductive">bexp_stack</span></a>) (<a id="fenv:262" class="idref" href="#fenv:262"><span class="id" title="binder">fenv</span></a> : <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#fun_env_stk"><span class="id" title="definition">fun_env_stk</span></a>) (<a id="frame:263" class="idref" href="#frame:263"><span class="id" title="binder">frame</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>),<br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackFrameBase.html#bexp_frame_rule"><span class="id" title="inductive">bexp_frame_rule</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#b:261"><span class="id" title="variable">b</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#fenv:262"><span class="id" title="variable">fenv</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#frame:263"><span class="id" title="variable">frame</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <a id="frame':264" class="idref" href="#frame':264"><span class="id" title="binder">frame'</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>, <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#frame:263"><span class="id" title="variable">frame</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#cb53cf0ee22c036a03b4a9281c68b5a3"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#frame':264"><span class="id" title="variable">frame'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrameBase.html#bexp_frame_rule"><span class="id" title="inductive">bexp_frame_rule</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#b:261"><span class="id" title="variable">b</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#fenv:262"><span class="id" title="variable">fenv</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#frame':264"><span class="id" title="variable">frame'</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#frame_expansion"><span class="id" title="lemma">frame_expansion</span></a>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">H1</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="imp_frame_expansion" class="idref" href="#imp_frame_expansion"><span class="id" title="lemma">imp_frame_expansion</span></a> :<br/>
&nbsp;&nbsp;(<span class="id" title="keyword">forall</span> (<a id="i:265" class="idref" href="#i:265"><span class="id" title="binder">i</span></a> : <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#imp_stack"><span class="id" title="inductive">imp_stack</span></a>) (<a id="fenv:266" class="idref" href="#fenv:266"><span class="id" title="binder">fenv</span></a> : <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#fun_env_stk"><span class="id" title="definition">fun_env_stk</span></a>) (<a id="frame:267" class="idref" href="#frame:267"><span class="id" title="binder">frame</span></a> <a id="frame':268" class="idref" href="#frame':268"><span class="id" title="binder">frame'</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>),<br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackFrameBase.html#imp_frame_rule"><span class="id" title="inductive">imp_frame_rule</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#i:265"><span class="id" title="variable">i</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#fenv:266"><span class="id" title="variable">fenv</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#frame:267"><span class="id" title="variable">frame</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#frame':268"><span class="id" title="variable">frame'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <a id="frame'':269" class="idref" href="#frame'':269"><span class="id" title="binder">frame''</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>,<br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#frame:267"><span class="id" title="variable">frame</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#cb53cf0ee22c036a03b4a9281c68b5a3"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#frame'':269"><span class="id" title="variable">frame''</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackFrameBase.html#imp_frame_rule"><span class="id" title="inductive">imp_frame_rule</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#i:265"><span class="id" title="variable">i</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#fenv:266"><span class="id" title="variable">fenv</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#frame'':269"><span class="id" title="variable">frame''</span></a> (<a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#frame'':269"><span class="id" title="variable">frame''</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Nat.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#frame':268"><span class="id" title="variable">frame'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Nat.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#frame:267"><span class="id" title="variable">frame</span></a>)).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#frame_expansion"><span class="id" title="lemma">frame_expansion</span></a>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">H2</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="frame_diff_equal" class="idref" href="#frame_diff_equal"><span class="id" title="lemma">frame_diff_equal</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> (<a id="i:270" class="idref" href="#i:270"><span class="id" title="binder">i</span></a> : <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#imp_stack"><span class="id" title="inductive">imp_stack</span></a>) (<a id="fenv:271" class="idref" href="#fenv:271"><span class="id" title="binder">fenv</span></a> : <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#fun_env_stk"><span class="id" title="definition">fun_env_stk</span></a>) (<a id="frame:272" class="idref" href="#frame:272"><span class="id" title="binder">frame</span></a> <a id="frame':273" class="idref" href="#frame':273"><span class="id" title="binder">frame'</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackFrameBase.html#imp_frame_rule"><span class="id" title="inductive">imp_frame_rule</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#i:270"><span class="id" title="variable">i</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#fenv:271"><span class="id" title="variable">fenv</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#frame:272"><span class="id" title="variable">frame</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#frame':273"><span class="id" title="variable">frame'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <a id="f:274" class="idref" href="#f:274"><span class="id" title="binder">f</span></a> <a id="f':275" class="idref" href="#f':275"><span class="id" title="binder">f'</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackFrameBase.html#imp_frame_rule"><span class="id" title="inductive">imp_frame_rule</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#i:270"><span class="id" title="variable">i</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#fenv:271"><span class="id" title="variable">fenv</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#f:274"><span class="id" title="variable">f</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#f':275"><span class="id" title="variable">f'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">(</span></a><a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#frame':273"><span class="id" title="variable">frame'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#73030c22bc0b1fa771c65aa5414c65f9"><span class="id" title="notation">&gt;=</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#frame:272"><span class="id" title="variable">frame</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#frame':273"><span class="id" title="variable">frame'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Nat.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#frame:272"><span class="id" title="variable">frame</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#f':275"><span class="id" title="variable">f'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Nat.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#f:274"><span class="id" title="variable">f</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">\/</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">(</span></a><a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#frame':273"><span class="id" title="variable">frame'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#cb53cf0ee22c036a03b4a9281c68b5a3"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#frame:272"><span class="id" title="variable">frame</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#frame:272"><span class="id" title="variable">frame</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Nat.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#frame':273"><span class="id" title="variable">frame'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#f:274"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Nat.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#f':275"><span class="id" title="variable">f'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#frame_relative"><span class="id" title="lemma">frame_relative</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Arith.Compare_dec.html#le_ge_dec"><span class="id" title="definition">le_ge_dec</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">H2</span> <span class="id" title="var">frame'</span> <span class="id" title="var">frame</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">H1</span> <span class="id" title="var">i</span> <span class="id" title="var">fenv</span> <span class="id" title="var">frame</span> <span class="id" title="var">frame'</span> <span class="id" title="var">H</span> <span class="id" title="var">f</span> <span class="id" title="var">f'</span> <span class="id" title="var">H0</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">right</span>. <span class="id" title="tactic">split</span>; [ <span class="id" title="tactic">assumption</span> | ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#int_diff_nats"><span class="id" title="definition">int_diff_nats</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">left</span>. <span class="id" title="tactic">split</span>; [ <span class="id" title="tactic">assumption</span> | ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#int_diff_nats"><span class="id" title="definition">int_diff_nats</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>. <span class="id" title="var">lia</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="frame_diff_equal'" class="idref" href="#frame_diff_equal'"><span class="id" title="lemma">frame_diff_equal'</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> (<a id="i:276" class="idref" href="#i:276"><span class="id" title="binder">i</span></a> : <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#imp_stack"><span class="id" title="inductive">imp_stack</span></a>) (<a id="fenv:277" class="idref" href="#fenv:277"><span class="id" title="binder">fenv</span></a> : <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#fun_env_stk"><span class="id" title="definition">fun_env_stk</span></a>) (<a id="frame:278" class="idref" href="#frame:278"><span class="id" title="binder">frame</span></a> <a id="frame':279" class="idref" href="#frame':279"><span class="id" title="binder">frame'</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackFrameBase.html#imp_frame_rule"><span class="id" title="inductive">imp_frame_rule</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#i:276"><span class="id" title="variable">i</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#fenv:277"><span class="id" title="variable">fenv</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#frame:278"><span class="id" title="variable">frame</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#frame':279"><span class="id" title="variable">frame'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <a id="f:280" class="idref" href="#f:280"><span class="id" title="binder">f</span></a> <a id="f':281" class="idref" href="#f':281"><span class="id" title="binder">f'</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackFrameBase.html#imp_frame_rule"><span class="id" title="inductive">imp_frame_rule</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#i:276"><span class="id" title="variable">i</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#fenv:277"><span class="id" title="variable">fenv</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#f:280"><span class="id" title="variable">f</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#f':281"><span class="id" title="variable">f'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">(</span></a><a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#frame':279"><span class="id" title="variable">frame'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#73030c22bc0b1fa771c65aa5414c65f9"><span class="id" title="notation">&gt;=</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#frame:278"><span class="id" title="variable">frame</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="diff:282" class="idref" href="#diff:282"><span class="id" title="binder">diff</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#frame':279"><span class="id" title="variable">frame'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#frame:278"><span class="id" title="variable">frame</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Nat.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#diff:282"><span class="id" title="variable">diff</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#f':281"><span class="id" title="variable">f'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#f:280"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Nat.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#diff:282"><span class="id" title="variable">diff</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">\/</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">(</span></a><a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#frame':279"><span class="id" title="variable">frame'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#cb53cf0ee22c036a03b4a9281c68b5a3"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#frame:278"><span class="id" title="variable">frame</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="diff:283" class="idref" href="#diff:283"><span class="id" title="binder">diff</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#frame':279"><span class="id" title="variable">frame'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Nat.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#diff:283"><span class="id" title="variable">diff</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#frame:278"><span class="id" title="variable">frame</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#f':281"><span class="id" title="variable">f'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Nat.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#diff:283"><span class="id" title="variable">diff</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#f:280"><span class="id" title="variable">f</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#frame_diff_equal"><span class="id" title="lemma">frame_diff_equal</span></a> <span class="id" title="var">i</span> <span class="id" title="var">fenv</span> <span class="id" title="var">frame</span> <span class="id" title="var">frame'</span> <span class="id" title="var">H</span> <span class="id" title="var">f</span> <span class="id" title="var">f'</span> <span class="id" title="var">H0</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">left</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">exists</span> (<span class="id" title="var">frame'</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Nat.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <span class="id" title="var">frame</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Arith.PeanoNat.html#Nat.add_sub_assoc"><span class="id" title="lemma">Nat.add_sub_assoc</span></a>; [ | <span class="id" title="tactic">assumption</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Arith.PeanoNat.html#Nat.add_comm"><span class="id" title="lemma">Nat.add_comm</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Arith.PeanoNat.html#Nat.add_sub"><span class="id" title="lemma">Nat.add_sub</span></a>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">assert</span> (<span class="id" title="var">frame'</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">f'</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Nat.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <span class="id" title="var">f</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Nat.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <span class="id" title="var">frame</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Arith.PeanoNat.html#Nat.add_sub"><span class="id" title="lemma">Nat.add_sub</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Arith.PeanoNat.html#Nat.add_sub_assoc"><span class="id" title="lemma">Nat.add_sub_assoc</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Arith.PeanoNat.html#Nat.add_comm"><span class="id" title="lemma">Nat.add_comm</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Arith.PeanoNat.html#Nat.add_sub"><span class="id" title="lemma">Nat.add_sub</span></a>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#frame_relative''"><span class="id" title="lemma">frame_relative''</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">H</span>. <span class="id" title="var">eassumption</span>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">right</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">split</span>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<span class="id" title="var">frame</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Nat.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <span class="id" title="var">frame'</span>). <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Arith.PeanoNat.html#Nat.add_sub_assoc"><span class="id" title="lemma">Nat.add_sub_assoc</span></a>; [ | <span class="id" title="tactic">assumption</span> ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Arith.PeanoNat.html#Nat.add_comm"><span class="id" title="lemma">Nat.add_comm</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Arith.PeanoNat.html#Nat.add_sub"><span class="id" title="lemma">Nat.add_sub</span></a>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Arith.PeanoNat.html#Nat.add_sub_assoc"><span class="id" title="lemma">Nat.add_sub_assoc</span></a>; [ | <span class="id" title="tactic">assumption</span> ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">frame</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">f</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Nat.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <span class="id" title="var">f'</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Nat.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <span class="id" title="var">frame'</span>) <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H3</span>. <span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Arith.PeanoNat.html#Nat.add_sub_assoc"><span class="id" title="lemma">Nat.add_sub_assoc</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Arith.PeanoNat.html#Nat.add_sub"><span class="id" title="lemma">Nat.add_sub</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Arith.PeanoNat.html#Nat.add_sub_assoc"><span class="id" title="lemma">Nat.add_sub_assoc</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Arith.PeanoNat.html#Nat.add_comm"><span class="id" title="lemma">Nat.add_comm</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Arith.PeanoNat.html#Nat.add_sub"><span class="id" title="lemma">Nat.add_sub</span></a>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#frame_relative_leq"><span class="id" title="lemma">frame_relative_leq</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">H0</span>. <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H3</span>. <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="frame_is_enough" class="idref" href="#frame_is_enough"><span class="id" title="lemma">frame_is_enough</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> (<a id="i:284" class="idref" href="#i:284"><span class="id" title="binder">i</span></a>: <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#imp_stack"><span class="id" title="inductive">imp_stack</span></a>) (<a id="fenv:285" class="idref" href="#fenv:285"><span class="id" title="binder">fenv</span></a>: <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#fun_env_stk"><span class="id" title="definition">fun_env_stk</span></a>) (<a id="frame:286" class="idref" href="#frame:286"><span class="id" title="binder">frame</span></a> <a id="frame':287" class="idref" href="#frame':287"><span class="id" title="binder">frame'</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackFrameBase.html#imp_frame_rule"><span class="id" title="inductive">imp_frame_rule</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#i:284"><span class="id" title="variable">i</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#fenv:285"><span class="id" title="variable">fenv</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#frame:286"><span class="id" title="variable">frame</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#frame':287"><span class="id" title="variable">frame'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#frame':287"><span class="id" title="variable">frame'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#cb53cf0ee22c036a03b4a9281c68b5a3"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#frame:286"><span class="id" title="variable">frame</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <a id="f:288" class="idref" href="#f:288"><span class="id" title="binder">f</span></a> <a id="f':289" class="idref" href="#f':289"><span class="id" title="binder">f'</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackFrameBase.html#imp_frame_rule"><span class="id" title="inductive">imp_frame_rule</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#i:284"><span class="id" title="variable">i</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#fenv:285"><span class="id" title="variable">fenv</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#f:288"><span class="id" title="variable">f</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#f':289"><span class="id" title="variable">f'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#f:288"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#73030c22bc0b1fa771c65aa5414c65f9"><span class="id" title="notation">&gt;=</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#frame:286"><span class="id" title="variable">frame</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Nat.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#frame':287"><span class="id" title="variable">frame'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#frame_diff_equal"><span class="id" title="lemma">frame_diff_equal</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">H2</span> <span class="id" title="var">i</span> <span class="id" title="var">fenv</span> <span class="id" title="var">frame</span> <span class="id" title="var">frame'</span> <span class="id" title="var">H</span> <span class="id" title="var">f</span> <span class="id" title="var">f'</span> <span class="id" title="var">H1</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">frame'</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">frame</span>) <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H4</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Arith.PeanoNat.html#Nat.sub_diag"><span class="id" title="lemma">Nat.sub_diag</span></a>. <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H3</span>. <span class="id" title="var">lia</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="frames_equal" class="idref" href="#frames_equal"><span class="id" title="lemma">frames_equal</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> (<a id="i:290" class="idref" href="#i:290"><span class="id" title="binder">i</span></a> : <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#imp_stack"><span class="id" title="inductive">imp_stack</span></a>) (<a id="fenv:291" class="idref" href="#fenv:291"><span class="id" title="binder">fenv</span></a> : <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#fun_env_stk"><span class="id" title="definition">fun_env_stk</span></a>) (<a id="frame:292" class="idref" href="#frame:292"><span class="id" title="binder">frame</span></a> <a id="frame':293" class="idref" href="#frame':293"><span class="id" title="binder">frame'</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackFrameBase.html#imp_frame_rule"><span class="id" title="inductive">imp_frame_rule</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#i:290"><span class="id" title="variable">i</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#fenv:291"><span class="id" title="variable">fenv</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#frame:292"><span class="id" title="variable">frame</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#frame':293"><span class="id" title="variable">frame'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <a id="f:294" class="idref" href="#f:294"><span class="id" title="binder">f</span></a> <a id="f':295" class="idref" href="#f':295"><span class="id" title="binder">f'</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackFrameBase.html#imp_frame_rule"><span class="id" title="inductive">imp_frame_rule</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#i:290"><span class="id" title="variable">i</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#fenv:291"><span class="id" title="variable">fenv</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#f:294"><span class="id" title="variable">f</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#f':295"><span class="id" title="variable">f'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#frame:292"><span class="id" title="variable">frame</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#frame':293"><span class="id" title="variable">frame'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#f:294"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#f':295"><span class="id" title="variable">f'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#frame_relative''"><span class="id" title="lemma">frame_relative''</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#frame_relative_leq"><span class="id" title="lemma">frame_relative_leq</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">H2</span> <span class="id" title="var">i</span> <span class="id" title="var">fenv</span> <span class="id" title="var">frame</span> <span class="id" title="var">frame'</span> <span class="id" title="var">H</span> <span class="id" title="var">f</span> <span class="id" title="var">f'</span> <span class="id" title="var">H0</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">H3</span> <span class="id" title="var">i</span> <span class="id" title="var">fenv</span> <span class="id" title="var">frame</span> <span class="id" title="var">frame'</span> <span class="id" title="var">H</span> <span class="id" title="var">f</span> <span class="id" title="var">f'</span> <span class="id" title="var">H0</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">frame</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#cb53cf0ee22c036a03b4a9281c68b5a3"><span class="id" title="notation">&lt;=</span></a> <span class="id" title="var">frame'</span>) <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">frame</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#73030c22bc0b1fa771c65aa5414c65f9"><span class="id" title="notation">&gt;=</span></a> <span class="id" title="var">frame'</span>) <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">H2</span> <span class="id" title="var">H4</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">H3</span> <span class="id" title="var">H5</span>).<br/>
&nbsp;&nbsp;<span class="id" title="var">lia</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="frame_deterministic" class="idref" href="#frame_deterministic"><span class="id" title="lemma">frame_deterministic</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> (<a id="i:296" class="idref" href="#i:296"><span class="id" title="binder">i</span></a>: <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#imp_stack"><span class="id" title="inductive">imp_stack</span></a>) (<a id="fenv:297" class="idref" href="#fenv:297"><span class="id" title="binder">fenv</span></a>: <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#fun_env_stk"><span class="id" title="definition">fun_env_stk</span></a>) (<a id="frame:298" class="idref" href="#frame:298"><span class="id" title="binder">frame</span></a> <a id="frame':299" class="idref" href="#frame':299"><span class="id" title="binder">frame'</span></a> <a id="frame'':300" class="idref" href="#frame'':300"><span class="id" title="binder">frame''</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackFrameBase.html#imp_frame_rule"><span class="id" title="inductive">imp_frame_rule</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#i:296"><span class="id" title="variable">i</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#fenv:297"><span class="id" title="variable">fenv</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#frame:298"><span class="id" title="variable">frame</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#frame':299"><span class="id" title="variable">frame'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackFrameBase.html#imp_frame_rule"><span class="id" title="inductive">imp_frame_rule</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#i:296"><span class="id" title="variable">i</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#fenv:297"><span class="id" title="variable">fenv</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#frame:298"><span class="id" title="variable">frame</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#frame'':300"><span class="id" title="variable">frame''</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#frame':299"><span class="id" title="variable">frame'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#frame'':300"><span class="id" title="variable">frame''</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">i</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">invs</span> <span class="id" title="var">H</span>. <span class="id" title="var">invs</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">invs</span> <span class="id" title="var">H</span>. <span class="id" title="var">invs</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">invs</span> <span class="id" title="var">H</span>. <span class="id" title="var">invs</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">invs</span> <span class="id" title="var">H</span>. <span class="id" title="var">invs</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">invs</span> <span class="id" title="var">H</span>. <span class="id" title="var">invs</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHi1</span> <span class="id" title="var">fenv</span> <span class="id" title="var">frame</span> <span class="id" title="var">frame'0</span> <span class="id" title="var">frame'1</span> <span class="id" title="var">H3</span> <span class="id" title="var">H4</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">frame'0</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">H4</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHi2</span> <span class="id" title="var">fenv</span> <span class="id" title="var">frame'1</span> <span class="id" title="var">frame'</span> <span class="id" title="var">frame''</span> <span class="id" title="var">H7</span> <span class="id" title="var">H9</span>). <span class="id" title="tactic">subst</span> <span class="id" title="var">frame'</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">invs</span> <span class="id" title="var">H</span>. <span class="id" title="var">invs</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHi1</span> <span class="id" title="var">fenv</span> <span class="id" title="var">frame</span> <span class="id" title="var">frame'</span> <span class="id" title="var">frame''</span> <span class="id" title="var">H8</span> <span class="id" title="var">H11</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">invs</span> <span class="id" title="var">H</span>. <span class="id" title="var">invs</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="frame_deterministic'" class="idref" href="#frame_deterministic'"><span class="id" title="lemma">frame_deterministic'</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> (<a id="i:301" class="idref" href="#i:301"><span class="id" title="binder">i</span></a>: <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#imp_stack"><span class="id" title="inductive">imp_stack</span></a>) (<a id="fenv:302" class="idref" href="#fenv:302"><span class="id" title="binder">fenv</span></a>: <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#fun_env_stk"><span class="id" title="definition">fun_env_stk</span></a>) (<a id="frame:303" class="idref" href="#frame:303"><span class="id" title="binder">frame</span></a> <a id="frame':304" class="idref" href="#frame':304"><span class="id" title="binder">frame'</span></a> <a id="frame'':305" class="idref" href="#frame'':305"><span class="id" title="binder">frame''</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackFrameBase.html#imp_frame_rule"><span class="id" title="inductive">imp_frame_rule</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#i:301"><span class="id" title="variable">i</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#fenv:302"><span class="id" title="variable">fenv</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#frame:303"><span class="id" title="variable">frame</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#frame'':305"><span class="id" title="variable">frame''</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackFrameBase.html#imp_frame_rule"><span class="id" title="inductive">imp_frame_rule</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#i:301"><span class="id" title="variable">i</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#fenv:302"><span class="id" title="variable">fenv</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#frame':304"><span class="id" title="variable">frame'</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#frame'':305"><span class="id" title="variable">frame''</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#frame:303"><span class="id" title="variable">frame</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#frame':304"><span class="id" title="variable">frame'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">i</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="var">invs</span> <span class="id" title="var">H</span>; <span class="id" title="var">invs</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Arith.PeanoNat.html#Nat.add_1_r"><span class="id" title="lemma">Nat.add_1_r</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>. <span class="id" title="var">invs</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">frame'</span>, <span class="id" title="var">frame</span>; <span class="id" title="var">invs</span> <span class="id" title="var">H1</span>; <span class="id" title="var">invs</span> <span class="id" title="var">H3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Arith.PeanoNat.html#Nat.sub_0_r"><span class="id" title="lemma">Nat.sub_0_r</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>. <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Arith.PeanoNat.html#Nat.sub_succ"><span class="id" title="lemma">Nat.sub_succ</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Arith.PeanoNat.html#Nat.sub_succ"><span class="id" title="lemma">Nat.sub_succ</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Arith.PeanoNat.html#Nat.sub_0_r"><span class="id" title="lemma">Nat.sub_0_r</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>. <span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>. <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Arith.PeanoNat.html#Nat.sub_succ"><span class="id" title="lemma">Nat.sub_succ</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>. <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Arith.PeanoNat.html#Nat.sub_0_r"><span class="id" title="lemma">Nat.sub_0_r</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>. <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHi2</span> <span class="id" title="var">fenv</span> <span class="id" title="var">frame'0</span> <span class="id" title="var">frame'1</span> <span class="id" title="var">frame''</span> <span class="id" title="var">H7</span> <span class="id" title="var">H9</span>). <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHi1</span> <span class="id" title="var">fenv</span> <span class="id" title="var">frame</span> <span class="id" title="var">frame'</span> <span class="id" title="var">frame'1</span> <span class="id" title="var">H3</span> <span class="id" title="var">H4</span>). <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHi1</span> <span class="id" title="var">fenv</span> <span class="id" title="var">frame</span> <span class="id" title="var">frame'</span> <span class="id" title="var">frame''</span> <span class="id" title="var">H8</span> <span class="id" title="var">H11</span>). <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="frame_relative'''" class="idref" href="#frame_relative'''"><span class="id" title="lemma">frame_relative'''</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> (<a id="i:306" class="idref" href="#i:306"><span class="id" title="binder">i</span></a>: <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#imp_stack"><span class="id" title="inductive">imp_stack</span></a>) (<a id="fenv:307" class="idref" href="#fenv:307"><span class="id" title="binder">fenv</span></a>: <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#fun_env_stk"><span class="id" title="definition">fun_env_stk</span></a>) (<a id="frame:308" class="idref" href="#frame:308"><span class="id" title="binder">frame</span></a> <a id="frame':309" class="idref" href="#frame':309"><span class="id" title="binder">frame'</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackFrameBase.html#imp_frame_rule"><span class="id" title="inductive">imp_frame_rule</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#i:306"><span class="id" title="variable">i</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#fenv:307"><span class="id" title="variable">fenv</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#frame:308"><span class="id" title="variable">frame</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#frame':309"><span class="id" title="variable">frame'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> (<a id="f:310" class="idref" href="#f:310"><span class="id" title="binder">f</span></a> <a id="f':311" class="idref" href="#f':311"><span class="id" title="binder">f'</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackFrameBase.html#imp_frame_rule"><span class="id" title="inductive">imp_frame_rule</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#i:306"><span class="id" title="variable">i</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#fenv:307"><span class="id" title="variable">fenv</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#f:310"><span class="id" title="variable">f</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#f':311"><span class="id" title="variable">f'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">(</span></a><a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#frame':309"><span class="id" title="variable">frame'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#73030c22bc0b1fa771c65aa5414c65f9"><span class="id" title="notation">&gt;=</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#frame:308"><span class="id" title="variable">frame</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#f':311"><span class="id" title="variable">f'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#f:310"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Nat.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#frame':309"><span class="id" title="variable">frame'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Nat.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#frame:308"><span class="id" title="variable">frame</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">\/</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">(</span></a><a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#frame':309"><span class="id" title="variable">frame'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#cb53cf0ee22c036a03b4a9281c68b5a3"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#frame:308"><span class="id" title="variable">frame</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#f':311"><span class="id" title="variable">f'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Nat.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#frame:308"><span class="id" title="variable">frame</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Nat.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#frame':309"><span class="id" title="variable">frame'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#f:310"><span class="id" title="variable">f</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#frame_diff_equal"><span class="id" title="lemma">frame_diff_equal</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">H1</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H0</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">left</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">assert</span> (<span class="id" title="var">frame'</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">f'</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Nat.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <span class="id" title="var">f</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Nat.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <span class="id" title="var">frame</span>) <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H3</span>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Arith.PeanoNat.html#Nat.add_sub_assoc"><span class="id" title="lemma">Nat.add_sub_assoc</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Arith.PeanoNat.html#Nat.add_sub"><span class="id" title="lemma">Nat.add_sub</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Arith.PeanoNat.html#Nat.add_sub_assoc"><span class="id" title="lemma">Nat.add_sub_assoc</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Arith.PeanoNat.html#Nat.add_comm"><span class="id" title="lemma">Nat.add_comm</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Arith.PeanoNat.html#Nat.add_sub"><span class="id" title="lemma">Nat.add_sub</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#frame_relative''"><span class="id" title="lemma">frame_relative''</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">H4</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H3</span>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">right</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">assert</span> (<span class="id" title="var">frame</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">f</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Nat.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <span class="id" title="var">f'</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Nat.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <span class="id" title="var">frame'</span>) <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H3</span>. <span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Arith.PeanoNat.html#Nat.add_sub_assoc"><span class="id" title="lemma">Nat.add_sub_assoc</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Arith.PeanoNat.html#Nat.add_sub"><span class="id" title="lemma">Nat.add_sub</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Arith.PeanoNat.html#Nat.add_sub_assoc"><span class="id" title="lemma">Nat.add_sub_assoc</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Arith.PeanoNat.html#Nat.add_comm"><span class="id" title="lemma">Nat.add_comm</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Arith.PeanoNat.html#Nat.add_sub"><span class="id" title="lemma">Nat.add_sub</span></a>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#frame_relative_leq"><span class="id" title="lemma">frame_relative_leq</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">H4</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H3</span>. <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="frame_diff_cant_be_bigger_than_start" class="idref" href="#frame_diff_cant_be_bigger_than_start"><span class="id" title="lemma">frame_diff_cant_be_bigger_than_start</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> (<a id="i:312" class="idref" href="#i:312"><span class="id" title="binder">i</span></a>: <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#imp_stack"><span class="id" title="inductive">imp_stack</span></a>) (<a id="fenv:313" class="idref" href="#fenv:313"><span class="id" title="binder">fenv</span></a>: <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#fun_env_stk"><span class="id" title="definition">fun_env_stk</span></a>) (<a id="frame:314" class="idref" href="#frame:314"><span class="id" title="binder">frame</span></a> <a id="frame':315" class="idref" href="#frame':315"><span class="id" title="binder">frame'</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackFrameBase.html#imp_frame_rule"><span class="id" title="inductive">imp_frame_rule</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#i:312"><span class="id" title="variable">i</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#fenv:313"><span class="id" title="variable">fenv</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#frame:314"><span class="id" title="variable">frame</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#frame':315"><span class="id" title="variable">frame'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> (<a id="f:316" class="idref" href="#f:316"><span class="id" title="binder">f</span></a> <a id="f':317" class="idref" href="#f':317"><span class="id" title="binder">f'</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackFrameBase.html#imp_frame_rule"><span class="id" title="inductive">imp_frame_rule</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#i:312"><span class="id" title="variable">i</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#fenv:313"><span class="id" title="variable">fenv</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#f:316"><span class="id" title="variable">f</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#f':317"><span class="id" title="variable">f'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">(</span></a><a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#frame':315"><span class="id" title="variable">frame'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#73030c22bc0b1fa771c65aa5414c65f9"><span class="id" title="notation">&gt;=</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#frame:314"><span class="id" title="variable">frame</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#f':317"><span class="id" title="variable">f'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#73030c22bc0b1fa771c65aa5414c65f9"><span class="id" title="notation">&gt;=</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#f:316"><span class="id" title="variable">f</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">\/</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">(</span></a><a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#frame':315"><span class="id" title="variable">frame'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#frame:314"><span class="id" title="variable">frame</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#frame:314"><span class="id" title="variable">frame</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Nat.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#frame':315"><span class="id" title="variable">frame'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#cb53cf0ee22c036a03b4a9281c68b5a3"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#f:316"><span class="id" title="variable">f</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#frame_relative'''"><span class="id" title="lemma">frame_relative'''</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Arith.Compare_dec.html#le_gt_dec"><span class="id" title="definition">le_gt_dec</span></a> <span class="id" title="var">frame</span> <span class="id" title="var">frame'</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">H1</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H0</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">left</span>. <span class="id" title="tactic">split</span>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">f</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#cb53cf0ee22c036a03b4a9281c68b5a3"><span class="id" title="notation">&lt;=</span></a> <span class="id" title="var">f'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#frame_relative''"><span class="id" title="lemma">frame_relative''</span></a>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">assumption</span>. <span class="id" title="tactic">assumption</span>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">right</span>. <span class="id" title="tactic">split</span>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">assert</span> (<span class="id" title="var">frame</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#cb53cf0ee22c036a03b4a9281c68b5a3"><span class="id" title="notation">&lt;=</span></a> <span class="id" title="var">frame'</span>) <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Arith.PeanoNat.html#Nat.le_ngt"><span class="id" title="lemma">Nat.le_ngt</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H3</span>. <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> <span class="id" title="var">H1</span>. <span class="id" title="var">lia</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="frame_relative'" class="idref" href="#frame_relative'"><span class="id" title="lemma">frame_relative'</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> (<a id="i:318" class="idref" href="#i:318"><span class="id" title="binder">i</span></a>: <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#imp_stack"><span class="id" title="inductive">imp_stack</span></a>) (<a id="fenv:319" class="idref" href="#fenv:319"><span class="id" title="binder">fenv</span></a>: <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#fun_env_stk"><span class="id" title="definition">fun_env_stk</span></a>) (<a id="frame:320" class="idref" href="#frame:320"><span class="id" title="binder">frame</span></a> <a id="frame':321" class="idref" href="#frame':321"><span class="id" title="binder">frame'</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackFrameBase.html#imp_frame_rule"><span class="id" title="inductive">imp_frame_rule</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#i:318"><span class="id" title="variable">i</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#fenv:319"><span class="id" title="variable">fenv</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#frame:320"><span class="id" title="variable">frame</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#frame':321"><span class="id" title="variable">frame'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> (<a id="f:322" class="idref" href="#f:322"><span class="id" title="binder">f</span></a> <a id="f':323" class="idref" href="#f':323"><span class="id" title="binder">f'</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackFrameBase.html#imp_frame_rule"><span class="id" title="inductive">imp_frame_rule</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#i:318"><span class="id" title="variable">i</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#fenv:319"><span class="id" title="variable">fenv</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#f:322"><span class="id" title="variable">f</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#f':323"><span class="id" title="variable">f'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackFrameBase.html#imp_frame_rule"><span class="id" title="inductive">imp_frame_rule</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#i:318"><span class="id" title="variable">i</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#fenv:319"><span class="id" title="variable">fenv</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#f:322"><span class="id" title="variable">f</span></a> (<a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#f:322"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Nat.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#frame':321"><span class="id" title="variable">frame'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Nat.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#frame:320"><span class="id" title="variable">frame</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">i</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">invs</span> <span class="id" title="var">H</span>. <span class="id" title="var">invs</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Arith.PeanoNat.html#Nat.add_comm"><span class="id" title="lemma">Nat.add_comm</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Arith.PeanoNat.html#Nat.add_comm"><span class="id" title="lemma">Nat.add_comm</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Arith.PeanoNat.html#Nat.add_sub"><span class="id" title="lemma">Nat.add_sub</span></a>. <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">invs</span> <span class="id" title="var">H</span>. <span class="id" title="var">invs</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Arith.PeanoNat.html#Nat.add_comm"><span class="id" title="lemma">Nat.add_comm</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Arith.PeanoNat.html#Nat.add_comm"><span class="id" title="lemma">Nat.add_comm</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Arith.PeanoNat.html#Nat.add_sub"><span class="id" title="lemma">Nat.add_sub</span></a>. <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">invs</span> <span class="id" title="var">H0</span>. <span class="id" title="var">invs</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Arith.PeanoNat.html#Nat.add_assoc"><span class="id" title="lemma">Nat.add_assoc</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">f</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Nat.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <span class="id" title="var">frame</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Nat.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> 1 <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Nat.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <span class="id" title="var">frame</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">f</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Nat.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> 1) <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">invs</span> <span class="id" title="var">H0</span>. <span class="id" title="var">invs</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Arith.PeanoNat.html#Nat.add_sub_assoc"><span class="id" title="lemma">Nat.add_sub_assoc</span></a>. <span class="id" title="tactic">assert</span> (<span class="id" title="var">f</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Nat.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <span class="id" title="var">frame</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Nat.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> 1 <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Nat.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <span class="id" title="var">frame</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">f</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Nat.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> 1) <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="Imp_LangTrick.Stack.StackFrame1.html#frame_relative'''"><span class="id" title="lemma">frame_relative'''</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">H1</span> (<a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#Seq_Stk"><span class="id" title="constructor">Seq_Stk</span></a> <span class="id" title="var">i1</span> <span class="id" title="var">i2</span>) <span class="id" title="var">fenv</span> <span class="id" title="var">frame</span> <span class="id" title="var">frame'</span> <span class="id" title="var">H</span> <span class="id" title="var">f</span> <span class="id" title="var">f'</span> <span class="id" title="var">H0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H2</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Arith.PeanoNat.html#Nat.sub_add"><span class="id" title="lemma">Nat.sub_add</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Arith.PeanoNat.html#Nat.add_sub"><span class="id" title="lemma">Nat.add_sub</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H2</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">f'</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Nat.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <span class="id" title="var">frame</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">f</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Nat.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <span class="id" title="var">frame'</span>) <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">invs</span> <span class="id" title="var">H</span>. <span class="id" title="var">invs</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHi1</span> <span class="id" title="var">fenv</span> <span class="id" title="var">frame</span> <span class="id" title="var">frame'</span> <span class="id" title="var">H8</span> <span class="id" title="var">f</span> <span class="id" title="var">f'</span> <span class="id" title="var">H11</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHi2</span> <span class="id" title="var">fenv</span> <span class="id" title="var">frame</span> <span class="id" title="var">frame'</span> <span class="id" title="var">H9</span> <span class="id" title="var">f</span> <span class="id" title="var">f'</span> <span class="id" title="var">H12</span>). <span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">invs</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Arith.PeanoNat.html#Nat.add_sub"><span class="id" title="lemma">Nat.add_sub</span></a>. <span class="id" title="var">invs</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">assumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>
</div>

<div id="footer">
<hr/><a href="index.html">Index</a><hr/>This page has been generated by <a href="http://coq.inria.fr/">coqdoc</a>
</div>

</div>

</body>
</html>