<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<title>Imp_LangTrick.Stack.StackPurest</title>
</head>

<body>

<div id="page">

<div id="header">
</div>

<div id="main">

<h1 class="libtitle">Library Imp_LangTrick.Stack.StackPurest</h1>

<div class="code">
<span class="id" title="keyword">From</span> <span class="id" title="var">Coq</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Arith.Arith.html#"><span class="id" title="library">Arith</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.micromega.Psatz.html#"><span class="id" title="library">Psatz</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Bool.Bool.html#"><span class="id" title="library">Bool</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Strings.String.html#"><span class="id" title="library">String</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#"><span class="id" title="library">List</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Nat.html#"><span class="id" title="library">Nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Program.Equality.html#"><span class="id" title="library">Program.Equality</span></a>.<br/>

<br/>
<span class="id" title="keyword">Local Open</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">string_scope</span>.<br/>
<span class="id" title="keyword">Local Open</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">nat_scope</span>.<br/>
<span class="id" title="keyword">Local Open</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">list_scope</span>.<br/>

<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">Imp_LangTrick.Stack</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#"><span class="id" title="library">StackLanguage</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackLogicBase.html#"><span class="id" title="library">StackLogicBase</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackFrame.html#"><span class="id" title="library">StackFrame</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackExprWellFormed.html#"><span class="id" title="library">StackExprWellFormed</span></a>.<br/>

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="Imp_LangTrick.LogicProp.LogicProp.html#"><span class="id" title="library">Imp_LangTrick.LogicProp.LogicProp</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Export</span> <a class="idref" href="Imp_LangTrick.Stack.StackPurestBase.html#"><span class="id" title="library">Imp_LangTrick.Stack.StackPurestBase</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="P_preserves_purity" class="idref" href="#P_preserves_purity"><span class="id" title="definition">P_preserves_purity</span></a> (<a id="n:1" class="idref" href="#n:1"><span class="id" title="binder">n</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<a id="a:2" class="idref" href="#a:2"><span class="id" title="binder">a</span></a> <a id="a':3" class="idref" href="#a':3"><span class="id" title="binder">a'</span></a>: <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#aexp_stack"><span class="id" title="inductive">aexp_stack</span></a>): <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <a id="fenv:4" class="idref" href="#fenv:4"><span class="id" title="binder">fenv</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackPurestBase.html#aexp_stack_pure_rel"><span class="id" title="inductive">aexp_stack_pure_rel</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#a:2"><span class="id" title="variable">a</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#fenv:4"><span class="id" title="variable">fenv</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackPurestBase.html#aexp_stack_pure_rel"><span class="id" title="inductive">aexp_stack_pure_rel</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#a':3"><span class="id" title="variable">a'</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#fenv:4"><span class="id" title="variable">fenv</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="P0_preserves_purity" class="idref" href="#P0_preserves_purity"><span class="id" title="definition">P0_preserves_purity</span></a> (<a id="n:5" class="idref" href="#n:5"><span class="id" title="binder">n</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<a id="l:6" class="idref" href="#l:6"><span class="id" title="binder">l</span></a> <a id="l':7" class="idref" href="#l':7"><span class="id" title="binder">l'</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#aexp_stack"><span class="id" title="inductive">aexp_stack</span></a>): <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <a id="fenv:8" class="idref" href="#fenv:8"><span class="id" title="binder">fenv</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackPurestBase.html#args_stack_pure_rel"><span class="id" title="inductive">args_stack_pure_rel</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#l:6"><span class="id" title="variable">l</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#fenv:8"><span class="id" title="variable">fenv</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackPurestBase.html#args_stack_pure_rel"><span class="id" title="inductive">args_stack_pure_rel</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#l':7"><span class="id" title="variable">l'</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#fenv:8"><span class="id" title="variable">fenv</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="aexp_args_size_inc_preserves_purity" class="idref" href="#aexp_args_size_inc_preserves_purity"><span class="id" title="lemma">aexp_args_size_inc_preserves_purity</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackIncrease.html#aexp_args_size_inc_rel_mut_ind_theorem"><span class="id" title="definition">aexp_args_size_inc_rel_mut_ind_theorem</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#P_preserves_purity"><span class="id" title="definition">P_preserves_purity</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#P0_preserves_purity"><span class="id" title="definition">P0_preserves_purity</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">aexp_args_size_inc_rel_mutual_induction</span> <span class="id" title="var">P</span> <span class="id" title="var">P0</span> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#P_preserves_purity"><span class="id" title="definition">P_preserves_purity</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#P0_preserves_purity"><span class="id" title="definition">P0_preserves_purity</span></a>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">invs</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">constructor</span>. <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">invs</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">invs</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">inversion</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">H3</span>. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">invs</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">assumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="expr_purity_implies_well_formed" class="idref" href="#expr_purity_implies_well_formed"><span class="id" title="lemma">expr_purity_implies_well_formed</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">(</span></a><span class="id" title="keyword">forall</span> (<a id="a:9" class="idref" href="#a:9"><span class="id" title="binder">a</span></a> : <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#aexp_stack"><span class="id" title="inductive">aexp_stack</span></a>) (<a id="fenv:10" class="idref" href="#fenv:10"><span class="id" title="binder">fenv</span></a>: <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#fun_env_stk"><span class="id" title="definition">fun_env_stk</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackPurestBase.html#aexp_stack_pure_rel"><span class="id" title="inductive">aexp_stack_pure_rel</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#a:9"><span class="id" title="variable">a</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#fenv:10"><span class="id" title="variable">fenv</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackExprWellFormed.html#aexp_well_formed"><span class="id" title="inductive">aexp_well_formed</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#a:9"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">(</span></a><span class="id" title="keyword">forall</span> (<a id="b:11" class="idref" href="#b:11"><span class="id" title="binder">b</span></a>: <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#bexp_stack"><span class="id" title="inductive">bexp_stack</span></a>) (<a id="fenv:12" class="idref" href="#fenv:12"><span class="id" title="binder">fenv</span></a>: <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#fun_env_stk"><span class="id" title="definition">fun_env_stk</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackPurestBase.html#bexp_stack_pure_rel"><span class="id" title="inductive">bexp_stack_pure_rel</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#b:11"><span class="id" title="variable">b</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#fenv:12"><span class="id" title="variable">fenv</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackExprWellFormed.html#bexp_well_formed"><span class="id" title="inductive">bexp_well_formed</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#b:11"><span class="id" title="variable">b</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">(</span></a><span class="id" title="keyword">forall</span> (<a id="args:13" class="idref" href="#args:13"><span class="id" title="binder">args</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#aexp_stack"><span class="id" title="inductive">aexp_stack</span></a>) (<a id="fenv:14" class="idref" href="#fenv:14"><span class="id" title="binder">fenv</span></a>: <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#fun_env_stk"><span class="id" title="definition">fun_env_stk</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackPurestBase.html#args_stack_pure_rel"><span class="id" title="inductive">args_stack_pure_rel</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#args:13"><span class="id" title="variable">args</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#fenv:14"><span class="id" title="variable">fenv</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackExprWellFormed.html#args_well_formed"><span class="id" title="inductive">args_well_formed</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#args:13"><span class="id" title="variable">args</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> (<span class="id" title="keyword">fun</span> (<a id="a:17" class="idref" href="#a:17"><span class="id" title="binder">a</span></a>: <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#aexp_stack"><span class="id" title="inductive">aexp_stack</span></a>) (<a id="fenv:18" class="idref" href="#fenv:18"><span class="id" title="binder">fenv</span></a>: <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#fun_env_stk"><span class="id" title="definition">fun_env_stk</span></a>) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">fun</span> (<span class="id" title="var">_</span>: <a class="idref" href="Imp_LangTrick.Stack.StackPurestBase.html#aexp_stack_pure_rel"><span class="id" title="inductive">aexp_stack_pure_rel</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#a:15"><span class="id" title="variable">a</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#fenv:16"><span class="id" title="variable">fenv</span></a>) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackExprWellFormed.html#aexp_well_formed"><span class="id" title="inductive">aexp_well_formed</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#a:15"><span class="id" title="variable">a</span></a>) <span class="id" title="keyword">as</span> <span class="id" title="var">P</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> (<span class="id" title="keyword">fun</span> (<a id="b:21" class="idref" href="#b:21"><span class="id" title="binder">b</span></a>: <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#bexp_stack"><span class="id" title="inductive">bexp_stack</span></a>) (<a id="fenv:22" class="idref" href="#fenv:22"><span class="id" title="binder">fenv</span></a>: <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#fun_env_stk"><span class="id" title="definition">fun_env_stk</span></a>) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">fun</span> (<span class="id" title="var">_</span>: <a class="idref" href="Imp_LangTrick.Stack.StackPurestBase.html#bexp_stack_pure_rel"><span class="id" title="inductive">bexp_stack_pure_rel</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#b:19"><span class="id" title="variable">b</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#fenv:20"><span class="id" title="variable">fenv</span></a>) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackExprWellFormed.html#bexp_well_formed"><span class="id" title="inductive">bexp_well_formed</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#b:19"><span class="id" title="variable">b</span></a>) <span class="id" title="keyword">as</span> <span class="id" title="var">P0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> (<span class="id" title="keyword">fun</span> (<a id="args:25" class="idref" href="#args:25"><span class="id" title="binder">args</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#aexp_stack"><span class="id" title="inductive">aexp_stack</span></a>) (<a id="fenv:26" class="idref" href="#fenv:26"><span class="id" title="binder">fenv</span></a>: <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#fun_env_stk"><span class="id" title="definition">fun_env_stk</span></a>) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">fun</span> (<span class="id" title="var">_</span>: <a class="idref" href="Imp_LangTrick.Stack.StackPurestBase.html#args_stack_pure_rel"><span class="id" title="inductive">args_stack_pure_rel</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#args:23"><span class="id" title="variable">args</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#fenv:24"><span class="id" title="variable">fenv</span></a>) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackExprWellFormed.html#args_well_formed"><span class="id" title="inductive">args_well_formed</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#args:23"><span class="id" title="variable">args</span></a>) <span class="id" title="keyword">as</span> <span class="id" title="var">P1</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="Imp_LangTrick.Stack.StackPurestBase.html#pure_stack_mut_ind"><span class="id" title="definition">pure_stack_mut_ind</span></a> <span class="id" title="var">P</span> <span class="id" title="var">P0</span> <span class="id" title="var">P1</span>); <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">unfold</span> <span class="id" title="var">P</span>, <span class="id" title="var">P0</span>, <span class="id" title="var">P1</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">econstructor</span>; <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">econstructor</span>; <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">econstructor</span>; <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">econstructor</span>. <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">econstructor</span>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">econstructor</span>; <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">econstructor</span>; <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">econstructor</span>; <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">econstructor</span>; <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">econstructor</span>; <span class="id" title="var">eassumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="aexp_purity_implies_well_formed" class="idref" href="#aexp_purity_implies_well_formed"><span class="id" title="lemma">aexp_purity_implies_well_formed</span></a> :<br/>
&nbsp;&nbsp;(<span class="id" title="keyword">forall</span> (<a id="a:27" class="idref" href="#a:27"><span class="id" title="binder">a</span></a> : <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#aexp_stack"><span class="id" title="inductive">aexp_stack</span></a>) (<a id="fenv:28" class="idref" href="#fenv:28"><span class="id" title="binder">fenv</span></a>: <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#fun_env_stk"><span class="id" title="definition">fun_env_stk</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackPurestBase.html#aexp_stack_pure_rel"><span class="id" title="inductive">aexp_stack_pure_rel</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#a:27"><span class="id" title="variable">a</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#fenv:28"><span class="id" title="variable">fenv</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackExprWellFormed.html#aexp_well_formed"><span class="id" title="inductive">aexp_well_formed</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#a:27"><span class="id" title="variable">a</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#expr_purity_implies_well_formed"><span class="id" title="lemma">expr_purity_implies_well_formed</span></a>) <span class="id" title="keyword">as</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">AEXP</span> &amp; <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">AEXP</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="bexp_purity_implies_well_formed" class="idref" href="#bexp_purity_implies_well_formed"><span class="id" title="lemma">bexp_purity_implies_well_formed</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> (<a id="b:29" class="idref" href="#b:29"><span class="id" title="binder">b</span></a>: <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#bexp_stack"><span class="id" title="inductive">bexp_stack</span></a>) (<a id="fenv:30" class="idref" href="#fenv:30"><span class="id" title="binder">fenv</span></a>: <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#fun_env_stk"><span class="id" title="definition">fun_env_stk</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackPurestBase.html#bexp_stack_pure_rel"><span class="id" title="inductive">bexp_stack_pure_rel</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#b:29"><span class="id" title="variable">b</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#fenv:30"><span class="id" title="variable">fenv</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackExprWellFormed.html#bexp_well_formed"><span class="id" title="inductive">bexp_well_formed</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#b:29"><span class="id" title="variable">b</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#expr_purity_implies_well_formed"><span class="id" title="lemma">expr_purity_implies_well_formed</span></a>) <span class="id" title="keyword">as</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">_</span> &amp; <span class="id" title="var">BEXP</span> &amp; <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">BEXP</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="args_purity_implies_well_formed" class="idref" href="#args_purity_implies_well_formed"><span class="id" title="lemma">args_purity_implies_well_formed</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> (<a id="args:31" class="idref" href="#args:31"><span class="id" title="binder">args</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#aexp_stack"><span class="id" title="inductive">aexp_stack</span></a>) (<a id="fenv:32" class="idref" href="#fenv:32"><span class="id" title="binder">fenv</span></a>: <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#fun_env_stk"><span class="id" title="definition">fun_env_stk</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackPurestBase.html#args_stack_pure_rel"><span class="id" title="inductive">args_stack_pure_rel</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#args:31"><span class="id" title="variable">args</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#fenv:32"><span class="id" title="variable">fenv</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackExprWellFormed.html#args_well_formed"><span class="id" title="inductive">args_well_formed</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#args:31"><span class="id" title="variable">args</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#expr_purity_implies_well_formed"><span class="id" title="lemma">expr_purity_implies_well_formed</span></a>) <span class="id" title="keyword">as</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">_</span> &amp; <span class="id" title="var">_</span> &amp; <span class="id" title="var">ARGS</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">ARGS</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="P_preserves_purity'" class="idref" href="#P_preserves_purity'"><span class="id" title="definition">P_preserves_purity'</span></a> (<a id="n:33" class="idref" href="#n:33"><span class="id" title="binder">n</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<a id="a:34" class="idref" href="#a:34"><span class="id" title="binder">a</span></a> <a id="a':35" class="idref" href="#a':35"><span class="id" title="binder">a'</span></a>: <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#aexp_stack"><span class="id" title="inductive">aexp_stack</span></a>): <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackExprWellFormed.html#aexp_well_formed"><span class="id" title="inductive">aexp_well_formed</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#a:34"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <a id="fenv:36" class="idref" href="#fenv:36"><span class="id" title="binder">fenv</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackPurestBase.html#aexp_stack_pure_rel"><span class="id" title="inductive">aexp_stack_pure_rel</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#a':35"><span class="id" title="variable">a'</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#fenv:36"><span class="id" title="variable">fenv</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackPurestBase.html#aexp_stack_pure_rel"><span class="id" title="inductive">aexp_stack_pure_rel</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#a:34"><span class="id" title="variable">a</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#fenv:36"><span class="id" title="variable">fenv</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="P0_preserves_purity'" class="idref" href="#P0_preserves_purity'"><span class="id" title="definition">P0_preserves_purity'</span></a> (<a id="n:37" class="idref" href="#n:37"><span class="id" title="binder">n</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<a id="l:38" class="idref" href="#l:38"><span class="id" title="binder">l</span></a> <a id="l':39" class="idref" href="#l':39"><span class="id" title="binder">l'</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#aexp_stack"><span class="id" title="inductive">aexp_stack</span></a>): <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackExprWellFormed.html#args_well_formed"><span class="id" title="inductive">args_well_formed</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#l:38"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <a id="fenv:40" class="idref" href="#fenv:40"><span class="id" title="binder">fenv</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackPurestBase.html#args_stack_pure_rel"><span class="id" title="inductive">args_stack_pure_rel</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#l':39"><span class="id" title="variable">l'</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#fenv:40"><span class="id" title="variable">fenv</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackPurestBase.html#args_stack_pure_rel"><span class="id" title="inductive">args_stack_pure_rel</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#l:38"><span class="id" title="variable">l</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#fenv:40"><span class="id" title="variable">fenv</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="aexp_args_size_inc_preserves_purity'" class="idref" href="#aexp_args_size_inc_preserves_purity'"><span class="id" title="lemma">aexp_args_size_inc_preserves_purity'</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackIncrease.html#aexp_args_size_inc_rel_mut_ind_theorem"><span class="id" title="definition">aexp_args_size_inc_rel_mut_ind_theorem</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#P_preserves_purity'"><span class="id" title="definition">P_preserves_purity'</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#P0_preserves_purity'"><span class="id" title="definition">P0_preserves_purity'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">aexp_args_size_inc_rel_mutual_induction</span> <span class="id" title="var">P</span> <span class="id" title="var">P0</span> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#P_preserves_purity'"><span class="id" title="definition">P_preserves_purity'</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#P0_preserves_purity'"><span class="id" title="definition">P0_preserves_purity'</span></a>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">invs</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">constructor</span>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">invs</span> <span class="id" title="var">H2</span>. <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="var">invs</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">invs</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">invs</span> <span class="id" title="var">H1</span>. <span class="id" title="var">invs</span> <span class="id" title="var">H2</span>. <span class="id" title="tactic">constructor</span>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">H</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">H0</span>]; <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">invs</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">eassumption</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">eapply</span> <span class="id" title="var">H</span>; <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">invc</span> <span class="id" title="var">H1</span>. <span class="id" title="var">invc</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">H</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">H0</span>]; <span class="id" title="tactic">assumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="aexp_size_inc_preserves_purity" class="idref" href="#aexp_size_inc_preserves_purity"><span class="id" title="lemma">aexp_size_inc_preserves_purity</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <a id="a:41" class="idref" href="#a:41"><span class="id" title="binder">a</span></a> <a id="a':42" class="idref" href="#a':42"><span class="id" title="binder">a'</span></a> <a id="n:43" class="idref" href="#n:43"><span class="id" title="binder">n</span></a> <a id="fenv:44" class="idref" href="#fenv:44"><span class="id" title="binder">fenv</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackIncrease.html#aexp_stk_size_inc_rel"><span class="id" title="inductive">aexp_stk_size_inc_rel</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#n:43"><span class="id" title="variable">n</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#a:41"><span class="id" title="variable">a</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#a':42"><span class="id" title="variable">a'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackPurestBase.html#aexp_stack_pure_rel"><span class="id" title="inductive">aexp_stack_pure_rel</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#a:41"><span class="id" title="variable">a</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#fenv:44"><span class="id" title="variable">fenv</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackPurestBase.html#aexp_stack_pure_rel"><span class="id" title="inductive">aexp_stack_pure_rel</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#a':42"><span class="id" title="variable">a'</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#fenv:44"><span class="id" title="variable">fenv</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#aexp_args_size_inc_preserves_purity"><span class="id" title="lemma">aexp_args_size_inc_preserves_purity</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Imp_LangTrick.Stack.StackIncrease.html#aexp_args_size_inc_rel_mut_ind_theorem"><span class="id" title="definition">aexp_args_size_inc_rel_mut_ind_theorem</span></a>, <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#P_preserves_purity"><span class="id" title="definition">P_preserves_purity</span></a>, <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#P0_preserves_purity"><span class="id" title="definition">P0_preserves_purity</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">AEXP</span> &amp; <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">AEXP</span>; <span class="id" title="var">eassumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="aexp_size_inc_preserves_purity'" class="idref" href="#aexp_size_inc_preserves_purity'"><span class="id" title="lemma">aexp_size_inc_preserves_purity'</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <a id="a:45" class="idref" href="#a:45"><span class="id" title="binder">a</span></a> <a id="a':46" class="idref" href="#a':46"><span class="id" title="binder">a'</span></a> <a id="n:47" class="idref" href="#n:47"><span class="id" title="binder">n</span></a> <a id="fenv:48" class="idref" href="#fenv:48"><span class="id" title="binder">fenv</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackIncrease.html#aexp_stk_size_inc_rel"><span class="id" title="inductive">aexp_stk_size_inc_rel</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#n:47"><span class="id" title="variable">n</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#a:45"><span class="id" title="variable">a</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#a':46"><span class="id" title="variable">a'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackExprWellFormed.html#aexp_well_formed"><span class="id" title="inductive">aexp_well_formed</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#a:45"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackPurestBase.html#aexp_stack_pure_rel"><span class="id" title="inductive">aexp_stack_pure_rel</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#a':46"><span class="id" title="variable">a'</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#fenv:48"><span class="id" title="variable">fenv</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackPurestBase.html#aexp_stack_pure_rel"><span class="id" title="inductive">aexp_stack_pure_rel</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#a:45"><span class="id" title="variable">a</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#fenv:48"><span class="id" title="variable">fenv</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#aexp_args_size_inc_preserves_purity'"><span class="id" title="lemma">aexp_args_size_inc_preserves_purity'</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Imp_LangTrick.Stack.StackIncrease.html#aexp_args_size_inc_rel_mut_ind_theorem"><span class="id" title="definition">aexp_args_size_inc_rel_mut_ind_theorem</span></a>, <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#P_preserves_purity'"><span class="id" title="definition">P_preserves_purity'</span></a>, <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#P0_preserves_purity'"><span class="id" title="definition">P0_preserves_purity'</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">AEXP</span> &amp; <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">AEXP</span>; <span class="id" title="var">eassumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="args_size_inc_preserves_purity" class="idref" href="#args_size_inc_preserves_purity"><span class="id" title="lemma">args_size_inc_preserves_purity</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <a id="args:49" class="idref" href="#args:49"><span class="id" title="binder">args</span></a> <a id="args':50" class="idref" href="#args':50"><span class="id" title="binder">args'</span></a> <a id="n:51" class="idref" href="#n:51"><span class="id" title="binder">n</span></a> <a id="fenv:52" class="idref" href="#fenv:52"><span class="id" title="binder">fenv</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackIncrease.html#args_stk_size_inc_rel"><span class="id" title="inductive">args_stk_size_inc_rel</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#n:51"><span class="id" title="variable">n</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#args:49"><span class="id" title="variable">args</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#args':50"><span class="id" title="variable">args'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackPurestBase.html#args_stack_pure_rel"><span class="id" title="inductive">args_stack_pure_rel</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#args:49"><span class="id" title="variable">args</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#fenv:52"><span class="id" title="variable">fenv</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackPurestBase.html#args_stack_pure_rel"><span class="id" title="inductive">args_stack_pure_rel</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#args':50"><span class="id" title="variable">args'</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#fenv:52"><span class="id" title="variable">fenv</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#aexp_args_size_inc_preserves_purity"><span class="id" title="lemma">aexp_args_size_inc_preserves_purity</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Imp_LangTrick.Stack.StackIncrease.html#aexp_args_size_inc_rel_mut_ind_theorem"><span class="id" title="definition">aexp_args_size_inc_rel_mut_ind_theorem</span></a>, <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#P_preserves_purity"><span class="id" title="definition">P_preserves_purity</span></a>, <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#P0_preserves_purity"><span class="id" title="definition">P0_preserves_purity</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">_</span> &amp; <span class="id" title="var">ARGS</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">ARGS</span>; <span class="id" title="var">eassumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="args_size_inc_preserves_purity'" class="idref" href="#args_size_inc_preserves_purity'"><span class="id" title="lemma">args_size_inc_preserves_purity'</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <a id="args:53" class="idref" href="#args:53"><span class="id" title="binder">args</span></a> <a id="args':54" class="idref" href="#args':54"><span class="id" title="binder">args'</span></a> <a id="n:55" class="idref" href="#n:55"><span class="id" title="binder">n</span></a> <a id="fenv:56" class="idref" href="#fenv:56"><span class="id" title="binder">fenv</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackIncrease.html#args_stk_size_inc_rel"><span class="id" title="inductive">args_stk_size_inc_rel</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#n:55"><span class="id" title="variable">n</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#args:53"><span class="id" title="variable">args</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#args':54"><span class="id" title="variable">args'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackExprWellFormed.html#args_well_formed"><span class="id" title="inductive">args_well_formed</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#args:53"><span class="id" title="variable">args</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackPurestBase.html#args_stack_pure_rel"><span class="id" title="inductive">args_stack_pure_rel</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#args':54"><span class="id" title="variable">args'</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#fenv:56"><span class="id" title="variable">fenv</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackPurestBase.html#args_stack_pure_rel"><span class="id" title="inductive">args_stack_pure_rel</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#args:53"><span class="id" title="variable">args</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#fenv:56"><span class="id" title="variable">fenv</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#aexp_args_size_inc_preserves_purity'"><span class="id" title="lemma">aexp_args_size_inc_preserves_purity'</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Imp_LangTrick.Stack.StackIncrease.html#aexp_args_size_inc_rel_mut_ind_theorem"><span class="id" title="definition">aexp_args_size_inc_rel_mut_ind_theorem</span></a>, <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#P_preserves_purity'"><span class="id" title="definition">P_preserves_purity'</span></a>, <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#P0_preserves_purity'"><span class="id" title="definition">P0_preserves_purity'</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">_</span> &amp; <span class="id" title="var">ARGS</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">ARGS</span>; <span class="id" title="var">eassumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="bexp_size_inc_preserves_purity" class="idref" href="#bexp_size_inc_preserves_purity"><span class="id" title="lemma">bexp_size_inc_preserves_purity</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <a id="b:57" class="idref" href="#b:57"><span class="id" title="binder">b</span></a> <a id="b':58" class="idref" href="#b':58"><span class="id" title="binder">b'</span></a> <a id="n:59" class="idref" href="#n:59"><span class="id" title="binder">n</span></a> <a id="fenv:60" class="idref" href="#fenv:60"><span class="id" title="binder">fenv</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackIncrease.html#bexp_stk_size_inc_rel"><span class="id" title="inductive">bexp_stk_size_inc_rel</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#n:59"><span class="id" title="variable">n</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#b:57"><span class="id" title="variable">b</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#b':58"><span class="id" title="variable">b'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackPurestBase.html#bexp_stack_pure_rel"><span class="id" title="inductive">bexp_stack_pure_rel</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#b:57"><span class="id" title="variable">b</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#fenv:60"><span class="id" title="variable">fenv</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackPurestBase.html#bexp_stack_pure_rel"><span class="id" title="inductive">bexp_stack_pure_rel</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#b':58"><span class="id" title="variable">b'</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#fenv:60"><span class="id" title="variable">fenv</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> 1; <span class="id" title="tactic">intros</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| [ <span class="id" title="var">H</span> : <a class="idref" href="Imp_LangTrick.Stack.StackPurestBase.html#bexp_stack_pure_rel"><span class="id" title="inductive">bexp_stack_pure_rel</span></a> ?<span class="id" title="var">b</span> <span class="id" title="var">_</span> |- <span class="id" title="var">_</span> ] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">invs</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">assumption</span>; <span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHbexp_stk_size_inc_rel</span>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHbexp_stk_size_inc_rel1</span>; <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHbexp_stk_size_inc_rel2</span>; <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHbexp_stk_size_inc_rel1</span>; <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">IHbexp_stk_size_inc_rel2</span>; <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#aexp_size_inc_preserves_purity"><span class="id" title="lemma">aexp_size_inc_preserves_purity</span></a>; <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#aexp_size_inc_preserves_purity"><span class="id" title="lemma">aexp_size_inc_preserves_purity</span></a>; <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#aexp_size_inc_preserves_purity"><span class="id" title="lemma">aexp_size_inc_preserves_purity</span></a>; <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#aexp_size_inc_preserves_purity"><span class="id" title="lemma">aexp_size_inc_preserves_purity</span></a>; <span class="id" title="var">eassumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="bexp_size_inc_preserves_purity'" class="idref" href="#bexp_size_inc_preserves_purity'"><span class="id" title="lemma">bexp_size_inc_preserves_purity'</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <a id="b:61" class="idref" href="#b:61"><span class="id" title="binder">b</span></a> <a id="b':62" class="idref" href="#b':62"><span class="id" title="binder">b'</span></a> <a id="n:63" class="idref" href="#n:63"><span class="id" title="binder">n</span></a> <a id="fenv:64" class="idref" href="#fenv:64"><span class="id" title="binder">fenv</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackIncrease.html#bexp_stk_size_inc_rel"><span class="id" title="inductive">bexp_stk_size_inc_rel</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#n:63"><span class="id" title="variable">n</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#b:61"><span class="id" title="variable">b</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#b':62"><span class="id" title="variable">b'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackExprWellFormed.html#bexp_well_formed"><span class="id" title="inductive">bexp_well_formed</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#b:61"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackPurestBase.html#bexp_stack_pure_rel"><span class="id" title="inductive">bexp_stack_pure_rel</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#b':62"><span class="id" title="variable">b'</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#fenv:64"><span class="id" title="variable">fenv</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackPurestBase.html#bexp_stack_pure_rel"><span class="id" title="inductive">bexp_stack_pure_rel</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#b:61"><span class="id" title="variable">b</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#fenv:64"><span class="id" title="variable">fenv</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> 1; <span class="id" title="tactic">intros</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| [ <span class="id" title="var">H</span> : <a class="idref" href="Imp_LangTrick.Stack.StackPurestBase.html#bexp_stack_pure_rel"><span class="id" title="inductive">bexp_stack_pure_rel</span></a> ?<span class="id" title="var">b</span> <span class="id" title="var">_</span> |- <span class="id" title="var">_</span> ] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">invs</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| [ <span class="id" title="var">H</span> : <a class="idref" href="Imp_LangTrick.Stack.StackExprWellFormed.html#bexp_well_formed"><span class="id" title="inductive">bexp_well_formed</span></a> ?<span class="id" title="var">b</span> |- <span class="id" title="var">_</span> ] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">invs</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">assumption</span>; <span class="id" title="tactic">econstructor</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> (<span class="id" title="tactic">eapply</span> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#aexp_size_inc_preserves_purity'"><span class="id" title="lemma">aexp_size_inc_preserves_purity'</span></a>; <span class="id" title="var">eassumption</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHbexp_stk_size_inc_rel</span>; <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHbexp_stk_size_inc_rel1</span>; <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHbexp_stk_size_inc_rel2</span>; <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHbexp_stk_size_inc_rel1</span>; <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHbexp_stk_size_inc_rel2</span>; <span class="id" title="var">eassumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="bexp_pure_rel" class="idref" href="#bexp_pure_rel"><span class="id" title="definition">bexp_pure_rel</span></a> (<a id="fenv:65" class="idref" href="#fenv:65"><span class="id" title="binder">fenv</span></a>: <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#fun_env_stk"><span class="id" title="definition">fun_env_stk</span></a>): <a class="idref" href="Imp_LangTrick.Stack.StackLogicGrammar.html#bexp_unary_rel"><span class="id" title="definition">bexp_unary_rel</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">fun</span> <a id="boolexpr:66" class="idref" href="#boolexpr:66"><span class="id" title="binder">boolexpr</span></a> : <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#bexp_stack"><span class="id" title="inductive">bexp_stack</span></a> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackPurestBase.html#bexp_stack_pure_rel"><span class="id" title="inductive">bexp_stack_pure_rel</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#boolexpr:66"><span class="id" title="variable">boolexpr</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#fenv:65"><span class="id" title="variable">fenv</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="aexp_pure_rel" class="idref" href="#aexp_pure_rel"><span class="id" title="definition">aexp_pure_rel</span></a> (<a id="fenv:67" class="idref" href="#fenv:67"><span class="id" title="binder">fenv</span></a>: <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#fun_env_stk"><span class="id" title="definition">fun_env_stk</span></a>): <a class="idref" href="Imp_LangTrick.Stack.StackLogicGrammar.html#aexp_unary_rel"><span class="id" title="definition">aexp_unary_rel</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">fun</span> <a id="natexpr:68" class="idref" href="#natexpr:68"><span class="id" title="binder">natexpr</span></a> : <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#aexp_stack"><span class="id" title="inductive">aexp_stack</span></a> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackPurestBase.html#aexp_stack_pure_rel"><span class="id" title="inductive">aexp_stack_pure_rel</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#natexpr:68"><span class="id" title="variable">natexpr</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#fenv:67"><span class="id" title="variable">fenv</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="bool_prop_pure" class="idref" href="#bool_prop_pure"><span class="id" title="definition">bool_prop_pure</span></a> (<a id="fenv:69" class="idref" href="#fenv:69"><span class="id" title="binder">fenv</span></a>: <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#fun_env_stk"><span class="id" title="definition">fun_env_stk</span></a>): <a class="idref" href="Imp_LangTrick.Stack.StackLogicGrammar.html#StkBoolProp"><span class="id" title="definition">StkBoolProp</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.LogicProp.LogicProp.html#prop_rel"><span class="id" title="inductive">prop_rel</span></a> (<span class="id" title="var">V</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>) (<a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#bexp_pure_rel"><span class="id" title="definition">bexp_pure_rel</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#fenv:69"><span class="id" title="variable">fenv</span></a>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="nat_prop_pure" class="idref" href="#nat_prop_pure"><span class="id" title="definition">nat_prop_pure</span></a> (<a id="fenv:70" class="idref" href="#fenv:70"><span class="id" title="binder">fenv</span></a>: <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#fun_env_stk"><span class="id" title="definition">fun_env_stk</span></a>): <a class="idref" href="Imp_LangTrick.Stack.StackLogicGrammar.html#StkNatProp"><span class="id" title="definition">StkNatProp</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.LogicProp.LogicProp.html#prop_rel"><span class="id" title="inductive">prop_rel</span></a> (<span class="id" title="var">V</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#aexp_pure_rel"><span class="id" title="definition">aexp_pure_rel</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#fenv:70"><span class="id" title="variable">fenv</span></a>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="bool_prop_stk_size_inc" class="idref" href="#bool_prop_stk_size_inc"><span class="id" title="definition">bool_prop_stk_size_inc</span></a> (<a id="n:71" class="idref" href="#n:71"><span class="id" title="binder">n</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>): <a class="idref" href="Imp_LangTrick.Stack.StackLogicGrammar.html#StkBoolProp"><span class="id" title="definition">StkBoolProp</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackLogicGrammar.html#StkBoolProp"><span class="id" title="definition">StkBoolProp</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackLogicGrammar.html#bool_binary_prop_rel"><span class="id" title="definition">bool_binary_prop_rel</span></a> (<a class="idref" href="Imp_LangTrick.Stack.StackIncrease.html#bexp_stk_size_inc_rel"><span class="id" title="inductive">bexp_stk_size_inc_rel</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#n:71"><span class="id" title="variable">n</span></a>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="nat_prop_stk_size_inc" class="idref" href="#nat_prop_stk_size_inc"><span class="id" title="definition">nat_prop_stk_size_inc</span></a> (<a id="n:72" class="idref" href="#n:72"><span class="id" title="binder">n</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>): <a class="idref" href="Imp_LangTrick.Stack.StackLogicGrammar.html#StkNatProp"><span class="id" title="definition">StkNatProp</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackLogicGrammar.html#StkNatProp"><span class="id" title="definition">StkNatProp</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackLogicGrammar.html#nat_binary_prop_rel"><span class="id" title="definition">nat_binary_prop_rel</span></a> (<a class="idref" href="Imp_LangTrick.Stack.StackIncrease.html#aexp_stk_size_inc_rel"><span class="id" title="inductive">aexp_stk_size_inc_rel</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#n:72"><span class="id" title="variable">n</span></a>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="nat_prop_wf" class="idref" href="#nat_prop_wf"><span class="id" title="definition">nat_prop_wf</span></a>: <a class="idref" href="Imp_LangTrick.Stack.StackLogicGrammar.html#StkNatProp"><span class="id" title="definition">StkNatProp</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackLogicGrammar.html#nat_prop_rel"><span class="id" title="definition">nat_prop_rel</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackExprWellFormed.html#aexp_well_formed"><span class="id" title="inductive">aexp_well_formed</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="bool_prop_wf" class="idref" href="#bool_prop_wf"><span class="id" title="definition">bool_prop_wf</span></a>: <a class="idref" href="Imp_LangTrick.Stack.StackLogicGrammar.html#StkBoolProp"><span class="id" title="definition">StkBoolProp</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackLogicGrammar.html#bool_prop_rel"><span class="id" title="definition">bool_prop_rel</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackExprWellFormed.html#bexp_well_formed"><span class="id" title="inductive">bexp_well_formed</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="bool_prop_args_wf" class="idref" href="#bool_prop_args_wf"><span class="id" title="definition">bool_prop_args_wf</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#bexp_stack"><span class="id" title="inductive">bexp_stack</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackLogicGrammar.html#bool_prop_args_rel"><span class="id" title="definition">bool_prop_args_rel</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackExprWellFormed.html#bexp_well_formed"><span class="id" title="inductive">bexp_well_formed</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="nat_prop_args_wf" class="idref" href="#nat_prop_args_wf"><span class="id" title="definition">nat_prop_args_wf</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#aexp_stack"><span class="id" title="inductive">aexp_stack</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackLogicGrammar.html#nat_prop_args_rel"><span class="id" title="definition">nat_prop_args_rel</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackExprWellFormed.html#aexp_well_formed"><span class="id" title="inductive">aexp_well_formed</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="bool_prop_args_rel_prop_stk_inc_preserves_purity" class="idref" href="#bool_prop_args_rel_prop_stk_inc_preserves_purity"><span class="id" title="lemma">bool_prop_args_rel_prop_stk_inc_preserves_purity</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <a id="args:73" class="idref" href="#args:73"><span class="id" title="binder">args</span></a> <a id="args':74" class="idref" href="#args':74"><span class="id" title="binder">args'</span></a> <a id="fenv:75" class="idref" href="#fenv:75"><span class="id" title="binder">fenv</span></a> <a id="n:76" class="idref" href="#n:76"><span class="id" title="binder">n</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.LogicProp.LogicProp.html#prop_args_rel"><span class="id" title="inductive">prop_args_rel</span></a> (<span class="id" title="var">V</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>) (<span class="id" title="keyword">fun</span> <a id="boolexpr:77" class="idref" href="#boolexpr:77"><span class="id" title="binder">boolexpr</span></a>: <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#bexp_stack"><span class="id" title="inductive">bexp_stack</span></a> =&gt; <a class="idref" href="Imp_LangTrick.Stack.StackPurestBase.html#bexp_stack_pure_rel"><span class="id" title="inductive">bexp_stack_pure_rel</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#boolexpr:77"><span class="id" title="variable">boolexpr</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#fenv:75"><span class="id" title="variable">fenv</span></a>) <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#args:73"><span class="id" title="variable">args</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.LogicProp.LogicProp.html#transformed_prop_exprs_args"><span class="id" title="inductive">transformed_prop_exprs_args</span></a> (<span class="id" title="var">V</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>) (<a class="idref" href="Imp_LangTrick.Stack.StackIncrease.html#bexp_stk_size_inc_rel"><span class="id" title="inductive">bexp_stk_size_inc_rel</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#n:76"><span class="id" title="variable">n</span></a>) <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#args:73"><span class="id" title="variable">args</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#args':74"><span class="id" title="variable">args'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.LogicProp.LogicProp.html#prop_args_rel"><span class="id" title="inductive">prop_args_rel</span></a> (<span class="id" title="var">V</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>) (<span class="id" title="keyword">fun</span> <a id="boolexpr:78" class="idref" href="#boolexpr:78"><span class="id" title="binder">boolexpr</span></a>: <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#bexp_stack"><span class="id" title="inductive">bexp_stack</span></a> =&gt; <a class="idref" href="Imp_LangTrick.Stack.StackPurestBase.html#bexp_stack_pure_rel"><span class="id" title="inductive">bexp_stack_pure_rel</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#boolexpr:78"><span class="id" title="variable">boolexpr</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#fenv:75"><span class="id" title="variable">fenv</span></a>) <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#args':74"><span class="id" title="variable">args'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">args</span>; <span class="id" title="tactic">intros</span> ? ? ? <span class="id" title="var">PURE</span> <span class="id" title="var">INC</span>; <span class="id" title="var">invs</span> <span class="id" title="var">INC</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">invs</span> <span class="id" title="var">PURE</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#bexp_size_inc_preserves_purity"><span class="id" title="lemma">bexp_size_inc_preserves_purity</span></a>; <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHargs</span>; <span class="id" title="var">eassumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="bool_prop_args_rel_prop_stk_inc_preserves_purity'_folded" class="idref" href="#bool_prop_args_rel_prop_stk_inc_preserves_purity'_folded"><span class="id" title="lemma">bool_prop_args_rel_prop_stk_inc_preserves_purity'_folded</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <a id="args':79" class="idref" href="#args':79"><span class="id" title="binder">args'</span></a> <a id="args:80" class="idref" href="#args:80"><span class="id" title="binder">args</span></a> <a id="fenv:81" class="idref" href="#fenv:81"><span class="id" title="binder">fenv</span></a> <a id="n:82" class="idref" href="#n:82"><span class="id" title="binder">n</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.LogicProp.LogicProp.html#prop_args_rel"><span class="id" title="inductive">prop_args_rel</span></a> (<span class="id" title="var">V</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>) (<span class="id" title="keyword">fun</span> <a id="boolexpr:83" class="idref" href="#boolexpr:83"><span class="id" title="binder">boolexpr</span></a>: <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#bexp_stack"><span class="id" title="inductive">bexp_stack</span></a> =&gt; <a class="idref" href="Imp_LangTrick.Stack.StackPurestBase.html#bexp_stack_pure_rel"><span class="id" title="inductive">bexp_stack_pure_rel</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#boolexpr:83"><span class="id" title="variable">boolexpr</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#fenv:81"><span class="id" title="variable">fenv</span></a>) <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#args':79"><span class="id" title="variable">args'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#bool_prop_args_wf"><span class="id" title="definition">bool_prop_args_wf</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#args:80"><span class="id" title="variable">args</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.LogicProp.LogicProp.html#transformed_prop_exprs_args"><span class="id" title="inductive">transformed_prop_exprs_args</span></a> (<span class="id" title="var">V</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>) (<a class="idref" href="Imp_LangTrick.Stack.StackIncrease.html#bexp_stk_size_inc_rel"><span class="id" title="inductive">bexp_stk_size_inc_rel</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#n:82"><span class="id" title="variable">n</span></a>) <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#args:80"><span class="id" title="variable">args</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#args':79"><span class="id" title="variable">args'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.LogicProp.LogicProp.html#prop_args_rel"><span class="id" title="inductive">prop_args_rel</span></a> (<span class="id" title="var">V</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>) (<span class="id" title="keyword">fun</span> <a id="boolexpr:84" class="idref" href="#boolexpr:84"><span class="id" title="binder">boolexpr</span></a>: <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#bexp_stack"><span class="id" title="inductive">bexp_stack</span></a> =&gt; <a class="idref" href="Imp_LangTrick.Stack.StackPurestBase.html#bexp_stack_pure_rel"><span class="id" title="inductive">bexp_stack_pure_rel</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#boolexpr:84"><span class="id" title="variable">boolexpr</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#fenv:81"><span class="id" title="variable">fenv</span></a>) <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#args:80"><span class="id" title="variable">args</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#bool_prop_args_wf"><span class="id" title="definition">bool_prop_args_wf</span></a>. <span class="id" title="var">unfold_prop_helpers</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">args'</span>; <span class="id" title="tactic">intros</span> ? ? ? <span class="id" title="var">PURE</span> <span class="id" title="var">WF</span> <span class="id" title="var">INC</span>; <span class="id" title="var">invs</span> <span class="id" title="var">INC</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">invs</span> <span class="id" title="var">PURE</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">invs</span> <span class="id" title="var">WF</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#bexp_size_inc_preserves_purity'"><span class="id" title="lemma">bexp_size_inc_preserves_purity'</span></a>; <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHargs'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">invs</span> <span class="id" title="var">WF</span>. <span class="id" title="tactic">assumption</span>. <span class="id" title="var">eassumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="anon_function_implies_well_formed" class="idref" href="#anon_function_implies_well_formed"><span class="id" title="lemma">anon_function_implies_well_formed</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <a id="args:85" class="idref" href="#args:85"><span class="id" title="binder">args</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#bool_prop_args_wf"><span class="id" title="definition">bool_prop_args_wf</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#args:85"><span class="id" title="variable">args</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a> <a class="idref" href="Imp_LangTrick.LogicProp.LogicProp.html#prop_args_rel"><span class="id" title="inductive">prop_args_rel</span></a> (<span class="id" title="var">V</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>) (<span class="id" title="keyword">fun</span> <a id="b:86" class="idref" href="#b:86"><span class="id" title="binder">b</span></a>: <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#bexp_stack"><span class="id" title="inductive">bexp_stack</span></a> =&gt; <a class="idref" href="Imp_LangTrick.Stack.StackExprWellFormed.html#bexp_well_formed"><span class="id" title="inductive">bexp_well_formed</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#b:86"><span class="id" title="variable">b</span></a>) <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#args:85"><span class="id" title="variable">args</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">args</span>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">IHargs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">invs</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">invs</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">IHargs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">invs</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">invs</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">assumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="bool_prop_args_rel_prop_stk_inc_preserves_purity'" class="idref" href="#bool_prop_args_rel_prop_stk_inc_preserves_purity'"><span class="id" title="lemma">bool_prop_args_rel_prop_stk_inc_preserves_purity'</span></a>:<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> (<a id="args':87" class="idref" href="#args':87"><span class="id" title="binder">args'</span></a> <a id="args:88" class="idref" href="#args:88"><span class="id" title="binder">args</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#bexp_stack"><span class="id" title="inductive">bexp_stack</span></a>) (<a id="fenv:89" class="idref" href="#fenv:89"><span class="id" title="binder">fenv</span></a> : <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#fun_env_stk"><span class="id" title="definition">fun_env_stk</span></a>) (<a id="n:90" class="idref" href="#n:90"><span class="id" title="binder">n</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.LogicProp.LogicProp.html#prop_args_rel"><span class="id" title="inductive">prop_args_rel</span></a> (<span class="id" title="var">V</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>) (<span class="id" title="keyword">fun</span> <a id="boolexpr:91" class="idref" href="#boolexpr:91"><span class="id" title="binder">boolexpr</span></a> : <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#bexp_stack"><span class="id" title="inductive">bexp_stack</span></a> =&gt; <a class="idref" href="Imp_LangTrick.Stack.StackPurestBase.html#bexp_stack_pure_rel"><span class="id" title="inductive">bexp_stack_pure_rel</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#boolexpr:91"><span class="id" title="variable">boolexpr</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#fenv:89"><span class="id" title="variable">fenv</span></a>) <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#args':87"><span class="id" title="variable">args'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.LogicProp.LogicProp.html#prop_args_rel"><span class="id" title="inductive">prop_args_rel</span></a> (<span class="id" title="var">V</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>) (<span class="id" title="keyword">fun</span> <a id="b:92" class="idref" href="#b:92"><span class="id" title="binder">b</span></a> : <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#bexp_stack"><span class="id" title="inductive">bexp_stack</span></a> =&gt; <a class="idref" href="Imp_LangTrick.Stack.StackExprWellFormed.html#bexp_well_formed"><span class="id" title="inductive">bexp_well_formed</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#b:92"><span class="id" title="variable">b</span></a>) <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#args:88"><span class="id" title="variable">args</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.LogicProp.LogicProp.html#transformed_prop_exprs_args"><span class="id" title="inductive">transformed_prop_exprs_args</span></a> (<span class="id" title="var">V</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>) (<a class="idref" href="Imp_LangTrick.Stack.StackIncrease.html#bexp_stk_size_inc_rel"><span class="id" title="inductive">bexp_stk_size_inc_rel</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#n:90"><span class="id" title="variable">n</span></a>) <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#args:88"><span class="id" title="variable">args</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#args':87"><span class="id" title="variable">args'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.LogicProp.LogicProp.html#prop_args_rel"><span class="id" title="inductive">prop_args_rel</span></a> (<span class="id" title="var">V</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>) (<span class="id" title="keyword">fun</span> <a id="boolexpr:93" class="idref" href="#boolexpr:93"><span class="id" title="binder">boolexpr</span></a> : <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#bexp_stack"><span class="id" title="inductive">bexp_stack</span></a> =&gt; <a class="idref" href="Imp_LangTrick.Stack.StackPurestBase.html#bexp_stack_pure_rel"><span class="id" title="inductive">bexp_stack_pure_rel</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#boolexpr:93"><span class="id" title="variable">boolexpr</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#fenv:89"><span class="id" title="variable">fenv</span></a>) <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#args:88"><span class="id" title="variable">args</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#bool_prop_args_rel_prop_stk_inc_preserves_purity'_folded"><span class="id" title="lemma">bool_prop_args_rel_prop_stk_inc_preserves_purity'_folded</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#bool_prop_args_wf"><span class="id" title="definition">bool_prop_args_wf</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Imp_LangTrick.Stack.StackLogicGrammar.html#bool_prop_args_rel"><span class="id" title="definition">bool_prop_args_rel</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#anon_function_implies_well_formed"><span class="id" title="lemma">anon_function_implies_well_formed</span></a>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">eassumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="nat_prop_args_rel_prop_stk_inc_preserves_purity_folded" class="idref" href="#nat_prop_args_rel_prop_stk_inc_preserves_purity_folded"><span class="id" title="lemma">nat_prop_args_rel_prop_stk_inc_preserves_purity_folded</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <a id="args:94" class="idref" href="#args:94"><span class="id" title="binder">args</span></a> <a id="args':95" class="idref" href="#args':95"><span class="id" title="binder">args'</span></a> <a id="fenv:96" class="idref" href="#fenv:96"><span class="id" title="binder">fenv</span></a> <a id="n:97" class="idref" href="#n:97"><span class="id" title="binder">n</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackLogicGrammar.html#nat_prop_args_rel"><span class="id" title="definition">nat_prop_args_rel</span></a> (<a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#aexp_pure_rel"><span class="id" title="definition">aexp_pure_rel</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#fenv:96"><span class="id" title="variable">fenv</span></a>) <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#args:94"><span class="id" title="variable">args</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackLogicGrammar.html#nat_prop_args_binary_rel"><span class="id" title="definition">nat_prop_args_binary_rel</span></a> (<a class="idref" href="Imp_LangTrick.Stack.StackIncrease.html#aexp_stk_size_inc_rel"><span class="id" title="inductive">aexp_stk_size_inc_rel</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#n:97"><span class="id" title="variable">n</span></a>) <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#args:94"><span class="id" title="variable">args</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#args':95"><span class="id" title="variable">args'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackLogicGrammar.html#nat_prop_args_rel"><span class="id" title="definition">nat_prop_args_rel</span></a> (<a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#aexp_pure_rel"><span class="id" title="definition">aexp_pure_rel</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#fenv:96"><span class="id" title="variable">fenv</span></a>) <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#args':95"><span class="id" title="variable">args'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">unfold_prop_helpers</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#aexp_pure_rel"><span class="id" title="definition">aexp_pure_rel</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">args</span>; <span class="id" title="tactic">intros</span> ? ? ? <span class="id" title="var">PURE</span> <span class="id" title="var">INC</span>; <span class="id" title="var">invs</span> <span class="id" title="var">INC</span>; <span class="id" title="var">invs</span> <span class="id" title="var">PURE</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#aexp_args_size_inc_preserves_purity"><span class="id" title="lemma">aexp_args_size_inc_preserves_purity</span></a>; <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHargs</span>; <span class="id" title="var">eassumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="nat_prop_args_rel_prop_stk_inc_preserves_purity_folded'" class="idref" href="#nat_prop_args_rel_prop_stk_inc_preserves_purity_folded'"><span class="id" title="lemma">nat_prop_args_rel_prop_stk_inc_preserves_purity_folded'</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <a id="args':98" class="idref" href="#args':98"><span class="id" title="binder">args'</span></a> <a id="args:99" class="idref" href="#args:99"><span class="id" title="binder">args</span></a> <a id="fenv:100" class="idref" href="#fenv:100"><span class="id" title="binder">fenv</span></a> <a id="n:101" class="idref" href="#n:101"><span class="id" title="binder">n</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackLogicGrammar.html#nat_prop_args_rel"><span class="id" title="definition">nat_prop_args_rel</span></a> (<a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#aexp_pure_rel"><span class="id" title="definition">aexp_pure_rel</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#fenv:100"><span class="id" title="variable">fenv</span></a>) <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#args':98"><span class="id" title="variable">args'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#nat_prop_args_wf"><span class="id" title="definition">nat_prop_args_wf</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#args:99"><span class="id" title="variable">args</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackLogicGrammar.html#nat_prop_args_binary_rel"><span class="id" title="definition">nat_prop_args_binary_rel</span></a> (<a class="idref" href="Imp_LangTrick.Stack.StackIncrease.html#aexp_stk_size_inc_rel"><span class="id" title="inductive">aexp_stk_size_inc_rel</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#n:101"><span class="id" title="variable">n</span></a>) <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#args:99"><span class="id" title="variable">args</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#args':98"><span class="id" title="variable">args'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackLogicGrammar.html#nat_prop_args_rel"><span class="id" title="definition">nat_prop_args_rel</span></a> (<a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#aexp_pure_rel"><span class="id" title="definition">aexp_pure_rel</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#fenv:100"><span class="id" title="variable">fenv</span></a>) <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#args:99"><span class="id" title="variable">args</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">unfold_prop_helpers</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#aexp_pure_rel"><span class="id" title="definition">aexp_pure_rel</span></a>, <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#nat_prop_args_wf"><span class="id" title="definition">nat_prop_args_wf</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">unfold_prop_helpers</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">args'</span>; <span class="id" title="tactic">intros</span> ? ? ? <span class="id" title="var">PURE</span> <span class="id" title="var">WF</span> <span class="id" title="var">INC</span>; <span class="id" title="var">invs</span> <span class="id" title="var">INC</span>; <span class="id" title="var">invs</span> <span class="id" title="var">PURE</span>; <span class="id" title="var">invs</span> <span class="id" title="var">WF</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#aexp_args_size_inc_preserves_purity'"><span class="id" title="lemma">aexp_args_size_inc_preserves_purity'</span></a>; <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHargs'</span>; <span class="id" title="var">eassumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="nat_prop_args_rel_prop_stk_inc_preserves_purity" class="idref" href="#nat_prop_args_rel_prop_stk_inc_preserves_purity"><span class="id" title="lemma">nat_prop_args_rel_prop_stk_inc_preserves_purity</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> (<a id="args:102" class="idref" href="#args:102"><span class="id" title="binder">args</span></a> <a id="args':103" class="idref" href="#args':103"><span class="id" title="binder">args'</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#aexp_stack"><span class="id" title="inductive">aexp_stack</span></a>) (<a id="fenv:104" class="idref" href="#fenv:104"><span class="id" title="binder">fenv</span></a> : <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#fun_env_stk"><span class="id" title="definition">fun_env_stk</span></a>) (<a id="n:105" class="idref" href="#n:105"><span class="id" title="binder">n</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.LogicProp.LogicProp.html#prop_args_rel"><span class="id" title="inductive">prop_args_rel</span></a> (<span class="id" title="var">V</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <a id="natexpr:106" class="idref" href="#natexpr:106"><span class="id" title="binder">natexpr</span></a> : <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#aexp_stack"><span class="id" title="inductive">aexp_stack</span></a> =&gt; <a class="idref" href="Imp_LangTrick.Stack.StackPurestBase.html#aexp_stack_pure_rel"><span class="id" title="inductive">aexp_stack_pure_rel</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#natexpr:106"><span class="id" title="variable">natexpr</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#fenv:104"><span class="id" title="variable">fenv</span></a>) <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#args:102"><span class="id" title="variable">args</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.LogicProp.LogicProp.html#transformed_prop_exprs_args"><span class="id" title="inductive">transformed_prop_exprs_args</span></a>  (<span class="id" title="var">V</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<a class="idref" href="Imp_LangTrick.Stack.StackIncrease.html#aexp_stk_size_inc_rel"><span class="id" title="inductive">aexp_stk_size_inc_rel</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#n:105"><span class="id" title="variable">n</span></a>) <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#args:102"><span class="id" title="variable">args</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#args':103"><span class="id" title="variable">args'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.LogicProp.LogicProp.html#prop_args_rel"><span class="id" title="inductive">prop_args_rel</span></a> (<span class="id" title="var">V</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <a id="natexpr:107" class="idref" href="#natexpr:107"><span class="id" title="binder">natexpr</span></a> : <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#aexp_stack"><span class="id" title="inductive">aexp_stack</span></a> =&gt; <a class="idref" href="Imp_LangTrick.Stack.StackPurestBase.html#aexp_stack_pure_rel"><span class="id" title="inductive">aexp_stack_pure_rel</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#natexpr:107"><span class="id" title="variable">natexpr</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#fenv:104"><span class="id" title="variable">fenv</span></a>) <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#args':103"><span class="id" title="variable">args'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#nat_prop_args_rel_prop_stk_inc_preserves_purity_folded"><span class="id" title="lemma">nat_prop_args_rel_prop_stk_inc_preserves_purity_folded</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="nat_anon_function_implies_well_formed" class="idref" href="#nat_anon_function_implies_well_formed"><span class="id" title="lemma">nat_anon_function_implies_well_formed</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <a id="args:108" class="idref" href="#args:108"><span class="id" title="binder">args</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#nat_prop_args_wf"><span class="id" title="definition">nat_prop_args_wf</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#args:108"><span class="id" title="variable">args</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a> <a class="idref" href="Imp_LangTrick.LogicProp.LogicProp.html#prop_args_rel"><span class="id" title="inductive">prop_args_rel</span></a> (<span class="id" title="var">V</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<span class="id" title="keyword">fun</span> <a id="b:109" class="idref" href="#b:109"><span class="id" title="binder">b</span></a>: <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#aexp_stack"><span class="id" title="inductive">aexp_stack</span></a> =&gt; <a class="idref" href="Imp_LangTrick.Stack.StackExprWellFormed.html#aexp_well_formed"><span class="id" title="inductive">aexp_well_formed</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#b:109"><span class="id" title="variable">b</span></a>) <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#args:108"><span class="id" title="variable">args</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">args</span>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">IHargs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">invs</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">invs</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">IHargs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">invs</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">invs</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">assumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="nat_prop_args_rel_prop_stk_inc_preserves_purity'" class="idref" href="#nat_prop_args_rel_prop_stk_inc_preserves_purity'"><span class="id" title="lemma">nat_prop_args_rel_prop_stk_inc_preserves_purity'</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> (<a id="args:110" class="idref" href="#args:110"><span class="id" title="binder">args</span></a> <a id="args':111" class="idref" href="#args':111"><span class="id" title="binder">args'</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#aexp_stack"><span class="id" title="inductive">aexp_stack</span></a>) (<a id="fenv:112" class="idref" href="#fenv:112"><span class="id" title="binder">fenv</span></a> : <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#fun_env_stk"><span class="id" title="definition">fun_env_stk</span></a>) (<a id="n:113" class="idref" href="#n:113"><span class="id" title="binder">n</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.LogicProp.LogicProp.html#prop_args_rel"><span class="id" title="inductive">prop_args_rel</span></a> (<span class="id" title="var">V</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<span class="id" title="keyword">fun</span> <a id="natexpr:114" class="idref" href="#natexpr:114"><span class="id" title="binder">natexpr</span></a> : <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#aexp_stack"><span class="id" title="inductive">aexp_stack</span></a> =&gt; <a class="idref" href="Imp_LangTrick.Stack.StackPurestBase.html#aexp_stack_pure_rel"><span class="id" title="inductive">aexp_stack_pure_rel</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#natexpr:114"><span class="id" title="variable">natexpr</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#fenv:112"><span class="id" title="variable">fenv</span></a>) <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#args':111"><span class="id" title="variable">args'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.LogicProp.LogicProp.html#prop_args_rel"><span class="id" title="inductive">prop_args_rel</span></a> (<span class="id" title="var">V</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<span class="id" title="keyword">fun</span> <a id="a:115" class="idref" href="#a:115"><span class="id" title="binder">a</span></a> : <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#aexp_stack"><span class="id" title="inductive">aexp_stack</span></a> =&gt; <a class="idref" href="Imp_LangTrick.Stack.StackExprWellFormed.html#aexp_well_formed"><span class="id" title="inductive">aexp_well_formed</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#a:115"><span class="id" title="variable">a</span></a>) <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#args:110"><span class="id" title="variable">args</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.LogicProp.LogicProp.html#transformed_prop_exprs_args"><span class="id" title="inductive">transformed_prop_exprs_args</span></a> (<span class="id" title="var">V</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<a class="idref" href="Imp_LangTrick.Stack.StackIncrease.html#aexp_stk_size_inc_rel"><span class="id" title="inductive">aexp_stk_size_inc_rel</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#n:113"><span class="id" title="variable">n</span></a>) <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#args:110"><span class="id" title="variable">args</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#args':111"><span class="id" title="variable">args'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.LogicProp.LogicProp.html#prop_args_rel"><span class="id" title="inductive">prop_args_rel</span></a> (<span class="id" title="var">V</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<span class="id" title="keyword">fun</span> <a id="natexpr:116" class="idref" href="#natexpr:116"><span class="id" title="binder">natexpr</span></a> : <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#aexp_stack"><span class="id" title="inductive">aexp_stack</span></a> =&gt; <a class="idref" href="Imp_LangTrick.Stack.StackPurestBase.html#aexp_stack_pure_rel"><span class="id" title="inductive">aexp_stack_pure_rel</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#natexpr:116"><span class="id" title="variable">natexpr</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#fenv:112"><span class="id" title="variable">fenv</span></a>) <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#args:110"><span class="id" title="variable">args</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#nat_anon_function_implies_well_formed"><span class="id" title="lemma">nat_anon_function_implies_well_formed</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#nat_prop_args_rel_prop_stk_inc_preserves_purity_folded'"><span class="id" title="lemma">nat_prop_args_rel_prop_stk_inc_preserves_purity_folded'</span></a>; <span class="id" title="var">eassumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>

<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="bool_prop_rel_prop_stk_inc_preserves_purity" class="idref" href="#bool_prop_rel_prop_stk_inc_preserves_purity"><span class="id" title="lemma">bool_prop_rel_prop_stk_inc_preserves_purity</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <a id="p1:117" class="idref" href="#p1:117"><span class="id" title="binder">p1</span></a> <a id="p1':118" class="idref" href="#p1':118"><span class="id" title="binder">p1'</span></a> <a id="fenv:119" class="idref" href="#fenv:119"><span class="id" title="binder">fenv</span></a> <a id="n:120" class="idref" href="#n:120"><span class="id" title="binder">n</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.LogicProp.LogicProp.html#prop_rel"><span class="id" title="inductive">prop_rel</span></a> (<span class="id" title="var">V</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>) (<span class="id" title="keyword">fun</span> <a id="boolexpr:121" class="idref" href="#boolexpr:121"><span class="id" title="binder">boolexpr</span></a>: <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#bexp_stack"><span class="id" title="inductive">bexp_stack</span></a> =&gt; <a class="idref" href="Imp_LangTrick.Stack.StackPurestBase.html#bexp_stack_pure_rel"><span class="id" title="inductive">bexp_stack_pure_rel</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#boolexpr:121"><span class="id" title="variable">boolexpr</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#fenv:119"><span class="id" title="variable">fenv</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#p1:117"><span class="id" title="variable">p1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.LogicProp.LogicProp.html#transformed_prop_exprs"><span class="id" title="inductive">transformed_prop_exprs</span></a> (<a class="idref" href="Imp_LangTrick.Stack.StackIncrease.html#bexp_stk_size_inc_rel"><span class="id" title="inductive">bexp_stk_size_inc_rel</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#n:120"><span class="id" title="variable">n</span></a>) <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#p1:117"><span class="id" title="variable">p1</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#p1':118"><span class="id" title="variable">p1'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.LogicProp.LogicProp.html#prop_rel"><span class="id" title="inductive">prop_rel</span></a> (<span class="id" title="var">V</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>) (<span class="id" title="keyword">fun</span> <a id="boolexpr:122" class="idref" href="#boolexpr:122"><span class="id" title="binder">boolexpr</span></a> : <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#bexp_stack"><span class="id" title="inductive">bexp_stack</span></a> =&gt; <a class="idref" href="Imp_LangTrick.Stack.StackPurestBase.html#bexp_stack_pure_rel"><span class="id" title="inductive">bexp_stack_pure_rel</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#boolexpr:122"><span class="id" title="variable">boolexpr</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#fenv:119"><span class="id" title="variable">fenv</span></a>) <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#p1':118"><span class="id" title="variable">p1'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">p1</span>; <span class="id" title="tactic">intros</span> ? ? ? <span class="id" title="var">PURE</span> <span class="id" title="var">INC</span>; <span class="id" title="var">invs</span> <span class="id" title="var">INC</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">invs</span> <span class="id" title="var">PURE</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#bexp_size_inc_preserves_purity"><span class="id" title="lemma">bexp_size_inc_preserves_purity</span></a>; <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eapply</span> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#bexp_size_inc_preserves_purity"><span class="id" title="lemma">bexp_size_inc_preserves_purity</span></a>; <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHp1_1</span>; <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHp1_2</span>; <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHp1_1</span>; <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHp1_2</span>; <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eapply</span> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#bexp_size_inc_preserves_purity"><span class="id" title="lemma">bexp_size_inc_preserves_purity</span></a>; <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#bool_prop_args_rel_prop_stk_inc_preserves_purity"><span class="id" title="lemma">bool_prop_args_rel_prop_stk_inc_preserves_purity</span></a>; <span class="id" title="var">eassumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="bool_prop_rel_prop_stk_inc_preserves_purity'" class="idref" href="#bool_prop_rel_prop_stk_inc_preserves_purity'"><span class="id" title="lemma">bool_prop_rel_prop_stk_inc_preserves_purity'</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <a id="p1':123" class="idref" href="#p1':123"><span class="id" title="binder">p1'</span></a> <a id="p1:124" class="idref" href="#p1:124"><span class="id" title="binder">p1</span></a> <a id="fenv:125" class="idref" href="#fenv:125"><span class="id" title="binder">fenv</span></a> <a id="n:126" class="idref" href="#n:126"><span class="id" title="binder">n</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.LogicProp.LogicProp.html#prop_rel"><span class="id" title="inductive">prop_rel</span></a> (<span class="id" title="var">V</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>) (<span class="id" title="keyword">fun</span> <a id="boolexpr:127" class="idref" href="#boolexpr:127"><span class="id" title="binder">boolexpr</span></a>: <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#bexp_stack"><span class="id" title="inductive">bexp_stack</span></a> =&gt; <a class="idref" href="Imp_LangTrick.Stack.StackPurestBase.html#bexp_stack_pure_rel"><span class="id" title="inductive">bexp_stack_pure_rel</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#boolexpr:127"><span class="id" title="variable">boolexpr</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#fenv:125"><span class="id" title="variable">fenv</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#p1':123"><span class="id" title="variable">p1'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#bool_prop_wf"><span class="id" title="definition">bool_prop_wf</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#p1:124"><span class="id" title="variable">p1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.LogicProp.LogicProp.html#transformed_prop_exprs"><span class="id" title="inductive">transformed_prop_exprs</span></a> (<a class="idref" href="Imp_LangTrick.Stack.StackIncrease.html#bexp_stk_size_inc_rel"><span class="id" title="inductive">bexp_stk_size_inc_rel</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#n:126"><span class="id" title="variable">n</span></a>) <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#p1:124"><span class="id" title="variable">p1</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#p1':123"><span class="id" title="variable">p1'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.LogicProp.LogicProp.html#prop_rel"><span class="id" title="inductive">prop_rel</span></a> (<span class="id" title="var">V</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>) (<span class="id" title="keyword">fun</span> <a id="boolexpr:128" class="idref" href="#boolexpr:128"><span class="id" title="binder">boolexpr</span></a> : <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#bexp_stack"><span class="id" title="inductive">bexp_stack</span></a> =&gt; <a class="idref" href="Imp_LangTrick.Stack.StackPurestBase.html#bexp_stack_pure_rel"><span class="id" title="inductive">bexp_stack_pure_rel</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#boolexpr:128"><span class="id" title="variable">boolexpr</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#fenv:125"><span class="id" title="variable">fenv</span></a>) <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#p1:124"><span class="id" title="variable">p1</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">p1'</span>; <span class="id" title="tactic">intros</span> ? ? ? <span class="id" title="var">PURE</span> <span class="id" title="var">WF</span> <span class="id" title="var">INC</span>; <span class="id" title="var">invs</span> <span class="id" title="var">INC</span>; <span class="id" title="var">invs</span> <span class="id" title="var">PURE</span>; <span class="id" title="var">invs</span> <span class="id" title="var">WF</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">constructor</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#bexp_size_inc_preserves_purity'"><span class="id" title="lemma">bexp_size_inc_preserves_purity'</span></a>; <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">eapply</span> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#bexp_size_inc_preserves_purity'"><span class="id" title="lemma">bexp_size_inc_preserves_purity'</span></a>; <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHp1'1</span>; <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHp1'2</span>; <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHp1'1</span>; <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHp1'2</span>; <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">eapply</span> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#bexp_size_inc_preserves_purity'"><span class="id" title="lemma">bexp_size_inc_preserves_purity'</span></a>; <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#bool_prop_args_rel_prop_stk_inc_preserves_purity'"><span class="id" title="lemma">bool_prop_args_rel_prop_stk_inc_preserves_purity'</span></a>; <span class="id" title="var">eassumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="nat_prop_rel_prop_stk_inc_preserves_purity_folded" class="idref" href="#nat_prop_rel_prop_stk_inc_preserves_purity_folded"><span class="id" title="lemma">nat_prop_rel_prop_stk_inc_preserves_purity_folded</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <a id="p:129" class="idref" href="#p:129"><span class="id" title="binder">p</span></a> <a id="p':130" class="idref" href="#p':130"><span class="id" title="binder">p'</span></a> <a id="fenv:131" class="idref" href="#fenv:131"><span class="id" title="binder">fenv</span></a> <a id="n:132" class="idref" href="#n:132"><span class="id" title="binder">n</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#nat_prop_pure"><span class="id" title="definition">nat_prop_pure</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#fenv:131"><span class="id" title="variable">fenv</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#p:129"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#nat_prop_stk_size_inc"><span class="id" title="definition">nat_prop_stk_size_inc</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#n:132"><span class="id" title="variable">n</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#p:129"><span class="id" title="variable">p</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#p':130"><span class="id" title="variable">p'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#nat_prop_pure"><span class="id" title="definition">nat_prop_pure</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#fenv:131"><span class="id" title="variable">fenv</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#p':130"><span class="id" title="variable">p'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">p</span>; <span class="id" title="tactic">intros</span> ? ? ? <span class="id" title="var">PURE</span> <span class="id" title="var">INC</span>; <span class="id" title="var">invs</span> <span class="id" title="var">INC</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">invs</span> <span class="id" title="var">PURE</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">assumption</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#aexp_size_inc_preserves_purity"><span class="id" title="lemma">aexp_size_inc_preserves_purity</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="var">eassumption</span>; <span class="id" title="tactic">unfold</span> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#nat_prop_pure"><span class="id" title="definition">nat_prop_pure</span></a> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHp1</span>; <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHp2</span>; <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHp1</span>; <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHp2</span>; <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#nat_prop_args_rel_prop_stk_inc_preserves_purity"><span class="id" title="lemma">nat_prop_args_rel_prop_stk_inc_preserves_purity</span></a>; <span class="id" title="var">eassumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="nat_prop_rel_prop_stk_inc_preserves_purity" class="idref" href="#nat_prop_rel_prop_stk_inc_preserves_purity"><span class="id" title="lemma">nat_prop_rel_prop_stk_inc_preserves_purity</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> (<a id="p:133" class="idref" href="#p:133"><span class="id" title="binder">p</span></a> <a id="p':134" class="idref" href="#p':134"><span class="id" title="binder">p'</span></a> : <a class="idref" href="Imp_LangTrick.Stack.StackLogicGrammar.html#StkNatProp"><span class="id" title="definition">StkNatProp</span></a>) (<a id="fenv:135" class="idref" href="#fenv:135"><span class="id" title="binder">fenv</span></a> : <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#fun_env_stk"><span class="id" title="definition">fun_env_stk</span></a>) (<a id="n:136" class="idref" href="#n:136"><span class="id" title="binder">n</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>),<br/>
&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.LogicProp.LogicProp.html#prop_rel"><span class="id" title="inductive">prop_rel</span></a> (<span class="id" title="keyword">fun</span> <a id="natexpr:137" class="idref" href="#natexpr:137"><span class="id" title="binder">natexpr</span></a> : <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#aexp_stack"><span class="id" title="inductive">aexp_stack</span></a> =&gt; <a class="idref" href="Imp_LangTrick.Stack.StackPurestBase.html#aexp_stack_pure_rel"><span class="id" title="inductive">aexp_stack_pure_rel</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#natexpr:137"><span class="id" title="variable">natexpr</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#fenv:135"><span class="id" title="variable">fenv</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#p:133"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.LogicProp.LogicProp.html#transformed_prop_exprs"><span class="id" title="inductive">transformed_prop_exprs</span></a> (<a class="idref" href="Imp_LangTrick.Stack.StackIncrease.html#aexp_stk_size_inc_rel"><span class="id" title="inductive">aexp_stk_size_inc_rel</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#n:136"><span class="id" title="variable">n</span></a>) <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#p:133"><span class="id" title="variable">p</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#p':134"><span class="id" title="variable">p'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.LogicProp.LogicProp.html#prop_rel"><span class="id" title="inductive">prop_rel</span></a> (<span class="id" title="keyword">fun</span> <a id="natexpr:138" class="idref" href="#natexpr:138"><span class="id" title="binder">natexpr</span></a> : <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#aexp_stack"><span class="id" title="inductive">aexp_stack</span></a> =&gt; <a class="idref" href="Imp_LangTrick.Stack.StackPurestBase.html#aexp_stack_pure_rel"><span class="id" title="inductive">aexp_stack_pure_rel</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#natexpr:138"><span class="id" title="variable">natexpr</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#fenv:135"><span class="id" title="variable">fenv</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#p':134"><span class="id" title="variable">p'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#nat_prop_rel_prop_stk_inc_preserves_purity_folded"><span class="id" title="lemma">nat_prop_rel_prop_stk_inc_preserves_purity_folded</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="nat_prop_rel_prop_stk_inc_preserves_purity'" class="idref" href="#nat_prop_rel_prop_stk_inc_preserves_purity'"><span class="id" title="lemma">nat_prop_rel_prop_stk_inc_preserves_purity'</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> (<a id="p:139" class="idref" href="#p:139"><span class="id" title="binder">p</span></a> <a id="p':140" class="idref" href="#p':140"><span class="id" title="binder">p'</span></a> : <a class="idref" href="Imp_LangTrick.Stack.StackLogicGrammar.html#StkNatProp"><span class="id" title="definition">StkNatProp</span></a>) (<a id="fenv:141" class="idref" href="#fenv:141"><span class="id" title="binder">fenv</span></a> : <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#fun_env_stk"><span class="id" title="definition">fun_env_stk</span></a>) (<a id="n:142" class="idref" href="#n:142"><span class="id" title="binder">n</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>),<br/>
&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.LogicProp.LogicProp.html#prop_rel"><span class="id" title="inductive">prop_rel</span></a> (<span class="id" title="keyword">fun</span> <a id="natexpr:143" class="idref" href="#natexpr:143"><span class="id" title="binder">natexpr</span></a> : <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#aexp_stack"><span class="id" title="inductive">aexp_stack</span></a> =&gt; <a class="idref" href="Imp_LangTrick.Stack.StackPurestBase.html#aexp_stack_pure_rel"><span class="id" title="inductive">aexp_stack_pure_rel</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#natexpr:143"><span class="id" title="variable">natexpr</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#fenv:141"><span class="id" title="variable">fenv</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#p':140"><span class="id" title="variable">p'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#nat_prop_wf"><span class="id" title="definition">nat_prop_wf</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#p:139"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.LogicProp.LogicProp.html#transformed_prop_exprs"><span class="id" title="inductive">transformed_prop_exprs</span></a> (<a class="idref" href="Imp_LangTrick.Stack.StackIncrease.html#aexp_stk_size_inc_rel"><span class="id" title="inductive">aexp_stk_size_inc_rel</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#n:142"><span class="id" title="variable">n</span></a>) <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#p:139"><span class="id" title="variable">p</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#p':140"><span class="id" title="variable">p'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.LogicProp.LogicProp.html#prop_rel"><span class="id" title="inductive">prop_rel</span></a> (<span class="id" title="keyword">fun</span> <a id="natexpr:144" class="idref" href="#natexpr:144"><span class="id" title="binder">natexpr</span></a> : <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#aexp_stack"><span class="id" title="inductive">aexp_stack</span></a> =&gt; <a class="idref" href="Imp_LangTrick.Stack.StackPurestBase.html#aexp_stack_pure_rel"><span class="id" title="inductive">aexp_stack_pure_rel</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#natexpr:144"><span class="id" title="variable">natexpr</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#fenv:141"><span class="id" title="variable">fenv</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#p:139"><span class="id" title="variable">p</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">p</span>; <span class="id" title="tactic">intros</span> ? ? ? <span class="id" title="var">PURE</span> <span class="id" title="var">WF</span> <span class="id" title="var">INC</span>; <span class="id" title="var">invs</span> <span class="id" title="var">INC</span>; <span class="id" title="var">invs</span> <span class="id" title="var">WF</span>; <span class="id" title="var">invs</span> <span class="id" title="var">PURE</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#aexp_size_inc_preserves_purity'"><span class="id" title="lemma">aexp_size_inc_preserves_purity'</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="var">eassumption</span>; <span class="id" title="tactic">unfold</span> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#nat_prop_wf"><span class="id" title="definition">nat_prop_wf</span></a> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHp1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <span class="id" title="var">H6</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHp2</span>; [ <span class="id" title="tactic">eapply</span> <span class="id" title="var">H7</span> | ..]; <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHp1</span>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">H6</span> | ..]; <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHp2</span>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">H7</span> | .. ]; <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#nat_prop_args_rel_prop_stk_inc_preserves_purity'"><span class="id" title="lemma">nat_prop_args_rel_prop_stk_inc_preserves_purity'</span></a>; <span class="id" title="var">eassumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>

<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="meta_bool_stk_size_inc_preserves_purity" class="idref" href="#meta_bool_stk_size_inc_preserves_purity"><span class="id" title="lemma">meta_bool_stk_size_inc_preserves_purity</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <a id="l:145" class="idref" href="#l:145"><span class="id" title="binder">l</span></a> <a id="l':146" class="idref" href="#l':146"><span class="id" title="binder">l'</span></a> <a id="fenv:147" class="idref" href="#fenv:147"><span class="id" title="binder">fenv</span></a> <a id="n:148" class="idref" href="#n:148"><span class="id" title="binder">n</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackIncrease.html#meta_stk_size_inc"><span class="id" title="inductive">meta_stk_size_inc</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#n:148"><span class="id" title="variable">n</span></a> (<a class="idref" href="Imp_LangTrick.Stack.StackLogicGrammar.html#MetaBool"><span class="id" title="constructor">MetaBool</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#l:145"><span class="id" title="variable">l</span></a>) (<a class="idref" href="Imp_LangTrick.Stack.StackLogicGrammar.html#MetaBool"><span class="id" title="constructor">MetaBool</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#l':146"><span class="id" title="variable">l'</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.LogicProp.LogicProp.html#prop_rel"><span class="id" title="inductive">prop_rel</span></a> (<span class="id" title="var">V</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>) (<span class="id" title="keyword">fun</span> <a id="boolexpr:149" class="idref" href="#boolexpr:149"><span class="id" title="binder">boolexpr</span></a> : <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#bexp_stack"><span class="id" title="inductive">bexp_stack</span></a> =&gt; <a class="idref" href="Imp_LangTrick.Stack.StackPurestBase.html#bexp_stack_pure_rel"><span class="id" title="inductive">bexp_stack_pure_rel</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#boolexpr:149"><span class="id" title="variable">boolexpr</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#fenv:147"><span class="id" title="variable">fenv</span></a>) <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#l:145"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.LogicProp.LogicProp.html#prop_rel"><span class="id" title="inductive">prop_rel</span></a> (<span class="id" title="var">V</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>) (<span class="id" title="keyword">fun</span> <a id="boolexpr:150" class="idref" href="#boolexpr:150"><span class="id" title="binder">boolexpr</span></a> : <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#bexp_stack"><span class="id" title="inductive">bexp_stack</span></a> =&gt; <a class="idref" href="Imp_LangTrick.Stack.StackPurestBase.html#bexp_stack_pure_rel"><span class="id" title="inductive">bexp_stack_pure_rel</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#boolexpr:150"><span class="id" title="variable">boolexpr</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#fenv:147"><span class="id" title="variable">fenv</span></a>) <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#l':146"><span class="id" title="variable">l'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">invs</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#bool_prop_rel_prop_stk_inc_preserves_purity"><span class="id" title="lemma">bool_prop_rel_prop_stk_inc_preserves_purity</span></a>; <span class="id" title="var">eassumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="meta_bool_stk_size_inc_preserves_purity'" class="idref" href="#meta_bool_stk_size_inc_preserves_purity'"><span class="id" title="lemma">meta_bool_stk_size_inc_preserves_purity'</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <a id="l:151" class="idref" href="#l:151"><span class="id" title="binder">l</span></a> <a id="l':152" class="idref" href="#l':152"><span class="id" title="binder">l'</span></a> <a id="fenv:153" class="idref" href="#fenv:153"><span class="id" title="binder">fenv</span></a> <a id="n:154" class="idref" href="#n:154"><span class="id" title="binder">n</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackIncrease.html#meta_stk_size_inc"><span class="id" title="inductive">meta_stk_size_inc</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#n:154"><span class="id" title="variable">n</span></a> (<a class="idref" href="Imp_LangTrick.Stack.StackLogicGrammar.html#MetaBool"><span class="id" title="constructor">MetaBool</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#l:151"><span class="id" title="variable">l</span></a>) (<a class="idref" href="Imp_LangTrick.Stack.StackLogicGrammar.html#MetaBool"><span class="id" title="constructor">MetaBool</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#l':152"><span class="id" title="variable">l'</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#bool_prop_wf"><span class="id" title="definition">bool_prop_wf</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#l:151"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.LogicProp.LogicProp.html#prop_rel"><span class="id" title="inductive">prop_rel</span></a> (<span class="id" title="var">V</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>) (<span class="id" title="keyword">fun</span> <a id="boolexpr:155" class="idref" href="#boolexpr:155"><span class="id" title="binder">boolexpr</span></a> : <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#bexp_stack"><span class="id" title="inductive">bexp_stack</span></a> =&gt; <a class="idref" href="Imp_LangTrick.Stack.StackPurestBase.html#bexp_stack_pure_rel"><span class="id" title="inductive">bexp_stack_pure_rel</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#boolexpr:155"><span class="id" title="variable">boolexpr</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#fenv:153"><span class="id" title="variable">fenv</span></a>) <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#l':152"><span class="id" title="variable">l'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.LogicProp.LogicProp.html#prop_rel"><span class="id" title="inductive">prop_rel</span></a> (<span class="id" title="var">V</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>) (<span class="id" title="keyword">fun</span> <a id="boolexpr:156" class="idref" href="#boolexpr:156"><span class="id" title="binder">boolexpr</span></a> : <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#bexp_stack"><span class="id" title="inductive">bexp_stack</span></a> =&gt; <a class="idref" href="Imp_LangTrick.Stack.StackPurestBase.html#bexp_stack_pure_rel"><span class="id" title="inductive">bexp_stack_pure_rel</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#boolexpr:156"><span class="id" title="variable">boolexpr</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#fenv:153"><span class="id" title="variable">fenv</span></a>) <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#l:151"><span class="id" title="variable">l</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="var">invs</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#bool_prop_rel_prop_stk_inc_preserves_purity'"><span class="id" title="lemma">bool_prop_rel_prop_stk_inc_preserves_purity'</span></a>; <span class="id" title="var">eassumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="meta_nat_stk_size_inc_preserves_purity_folded" class="idref" href="#meta_nat_stk_size_inc_preserves_purity_folded"><span class="id" title="lemma">meta_nat_stk_size_inc_preserves_purity_folded</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <a id="l:157" class="idref" href="#l:157"><span class="id" title="binder">l</span></a> <a id="l':158" class="idref" href="#l':158"><span class="id" title="binder">l'</span></a> <a id="fenv:159" class="idref" href="#fenv:159"><span class="id" title="binder">fenv</span></a> <a id="n:160" class="idref" href="#n:160"><span class="id" title="binder">n</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackIncrease.html#meta_stk_size_inc"><span class="id" title="inductive">meta_stk_size_inc</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#n:160"><span class="id" title="variable">n</span></a> (<a class="idref" href="Imp_LangTrick.Stack.StackLogicGrammar.html#MetaNat"><span class="id" title="constructor">MetaNat</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#l:157"><span class="id" title="variable">l</span></a>) (<a class="idref" href="Imp_LangTrick.Stack.StackLogicGrammar.html#MetaNat"><span class="id" title="constructor">MetaNat</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#l':158"><span class="id" title="variable">l'</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#nat_prop_pure"><span class="id" title="definition">nat_prop_pure</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#fenv:159"><span class="id" title="variable">fenv</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#l:157"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#nat_prop_pure"><span class="id" title="definition">nat_prop_pure</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#fenv:159"><span class="id" title="variable">fenv</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#l':158"><span class="id" title="variable">l'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="var">invs</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#nat_prop_rel_prop_stk_inc_preserves_purity"><span class="id" title="lemma">nat_prop_rel_prop_stk_inc_preserves_purity</span></a>; <span class="id" title="var">eassumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="meta_nat_stk_size_inc_preserves_purity" class="idref" href="#meta_nat_stk_size_inc_preserves_purity"><span class="id" title="lemma">meta_nat_stk_size_inc_preserves_purity</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> (<a id="l:161" class="idref" href="#l:161"><span class="id" title="binder">l</span></a> <a id="l':162" class="idref" href="#l':162"><span class="id" title="binder">l'</span></a> : <a class="idref" href="Imp_LangTrick.LogicProp.LogicProp.html#LogicProp"><span class="id" title="inductive">LogicProp</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#aexp_stack"><span class="id" title="inductive">aexp_stack</span></a>) (<a id="fenv:163" class="idref" href="#fenv:163"><span class="id" title="binder">fenv</span></a> : <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#fun_env_stk"><span class="id" title="definition">fun_env_stk</span></a>) (<a id="n:164" class="idref" href="#n:164"><span class="id" title="binder">n</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackIncrease.html#meta_stk_size_inc"><span class="id" title="inductive">meta_stk_size_inc</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#n:164"><span class="id" title="variable">n</span></a> (<a class="idref" href="Imp_LangTrick.Stack.StackLogicGrammar.html#MetaNat"><span class="id" title="constructor">MetaNat</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#l:161"><span class="id" title="variable">l</span></a>) (<a class="idref" href="Imp_LangTrick.Stack.StackLogicGrammar.html#MetaNat"><span class="id" title="constructor">MetaNat</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#l':162"><span class="id" title="variable">l'</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.LogicProp.LogicProp.html#prop_rel"><span class="id" title="inductive">prop_rel</span></a> (<span class="id" title="keyword">fun</span> <a id="natexpr:165" class="idref" href="#natexpr:165"><span class="id" title="binder">natexpr</span></a> : <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#aexp_stack"><span class="id" title="inductive">aexp_stack</span></a> =&gt; <a class="idref" href="Imp_LangTrick.Stack.StackPurestBase.html#aexp_stack_pure_rel"><span class="id" title="inductive">aexp_stack_pure_rel</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#natexpr:165"><span class="id" title="variable">natexpr</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#fenv:163"><span class="id" title="variable">fenv</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#l:161"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.LogicProp.LogicProp.html#prop_rel"><span class="id" title="inductive">prop_rel</span></a> (<span class="id" title="keyword">fun</span> <a id="natexpr:166" class="idref" href="#natexpr:166"><span class="id" title="binder">natexpr</span></a> : <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#aexp_stack"><span class="id" title="inductive">aexp_stack</span></a> =&gt; <a class="idref" href="Imp_LangTrick.Stack.StackPurestBase.html#aexp_stack_pure_rel"><span class="id" title="inductive">aexp_stack_pure_rel</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#natexpr:166"><span class="id" title="variable">natexpr</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#fenv:163"><span class="id" title="variable">fenv</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#l':162"><span class="id" title="variable">l'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#meta_nat_stk_size_inc_preserves_purity_folded"><span class="id" title="lemma">meta_nat_stk_size_inc_preserves_purity_folded</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="meta_nat_stk_size_inc_preserves_purity'" class="idref" href="#meta_nat_stk_size_inc_preserves_purity'"><span class="id" title="lemma">meta_nat_stk_size_inc_preserves_purity'</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> (<a id="l:167" class="idref" href="#l:167"><span class="id" title="binder">l</span></a> <a id="l':168" class="idref" href="#l':168"><span class="id" title="binder">l'</span></a> : <a class="idref" href="Imp_LangTrick.LogicProp.LogicProp.html#LogicProp"><span class="id" title="inductive">LogicProp</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#aexp_stack"><span class="id" title="inductive">aexp_stack</span></a>) (<a id="fenv:169" class="idref" href="#fenv:169"><span class="id" title="binder">fenv</span></a> : <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#fun_env_stk"><span class="id" title="definition">fun_env_stk</span></a>) (<a id="n:170" class="idref" href="#n:170"><span class="id" title="binder">n</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackIncrease.html#meta_stk_size_inc"><span class="id" title="inductive">meta_stk_size_inc</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#n:170"><span class="id" title="variable">n</span></a> (<a class="idref" href="Imp_LangTrick.Stack.StackLogicGrammar.html#MetaNat"><span class="id" title="constructor">MetaNat</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#l:167"><span class="id" title="variable">l</span></a>) (<a class="idref" href="Imp_LangTrick.Stack.StackLogicGrammar.html#MetaNat"><span class="id" title="constructor">MetaNat</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#l':168"><span class="id" title="variable">l'</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#nat_prop_wf"><span class="id" title="definition">nat_prop_wf</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#l:167"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.LogicProp.LogicProp.html#prop_rel"><span class="id" title="inductive">prop_rel</span></a> (<span class="id" title="keyword">fun</span> <a id="natexpr:171" class="idref" href="#natexpr:171"><span class="id" title="binder">natexpr</span></a> : <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#aexp_stack"><span class="id" title="inductive">aexp_stack</span></a> =&gt; <a class="idref" href="Imp_LangTrick.Stack.StackPurestBase.html#aexp_stack_pure_rel"><span class="id" title="inductive">aexp_stack_pure_rel</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#natexpr:171"><span class="id" title="variable">natexpr</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#fenv:169"><span class="id" title="variable">fenv</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#l':168"><span class="id" title="variable">l'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.LogicProp.LogicProp.html#prop_rel"><span class="id" title="inductive">prop_rel</span></a> (<span class="id" title="keyword">fun</span> <a id="natexpr:172" class="idref" href="#natexpr:172"><span class="id" title="binder">natexpr</span></a> : <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#aexp_stack"><span class="id" title="inductive">aexp_stack</span></a> =&gt; <a class="idref" href="Imp_LangTrick.Stack.StackPurestBase.html#aexp_stack_pure_rel"><span class="id" title="inductive">aexp_stack_pure_rel</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#natexpr:172"><span class="id" title="variable">natexpr</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#fenv:169"><span class="id" title="variable">fenv</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#l:167"><span class="id" title="variable">l</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="var">invs</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#nat_prop_rel_prop_stk_inc_preserves_purity'"><span class="id" title="lemma">nat_prop_rel_prop_stk_inc_preserves_purity'</span></a>; <span class="id" title="var">eassumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>

<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="P_update_preserves_purity" class="idref" href="#P_update_preserves_purity"><span class="id" title="definition">P_update_preserves_purity</span></a> (<a id="s:173" class="idref" href="#s:173"><span class="id" title="binder">s</span></a>: <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#stack_index"><span class="id" title="definition">stack_index</span></a>) (<a id="a:174" class="idref" href="#a:174"><span class="id" title="binder">a</span></a>: <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#aexp_stack"><span class="id" title="inductive">aexp_stack</span></a>) (<a id="aexp:175" class="idref" href="#aexp:175"><span class="id" title="binder">aexp</span></a> <a id="aexp':176" class="idref" href="#aexp':176"><span class="id" title="binder">aexp'</span></a>: <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#aexp_stack"><span class="id" title="inductive">aexp_stack</span></a>): <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <a id="fenv:177" class="idref" href="#fenv:177"><span class="id" title="binder">fenv</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackPurestBase.html#aexp_stack_pure_rel"><span class="id" title="inductive">aexp_stack_pure_rel</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#a:174"><span class="id" title="variable">a</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#fenv:177"><span class="id" title="variable">fenv</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackPurestBase.html#aexp_stack_pure_rel"><span class="id" title="inductive">aexp_stack_pure_rel</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#aexp:175"><span class="id" title="variable">aexp</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#fenv:177"><span class="id" title="variable">fenv</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackPurestBase.html#aexp_stack_pure_rel"><span class="id" title="inductive">aexp_stack_pure_rel</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#aexp':176"><span class="id" title="variable">aexp'</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#fenv:177"><span class="id" title="variable">fenv</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="P0_update_preserves_purity" class="idref" href="#P0_update_preserves_purity"><span class="id" title="definition">P0_update_preserves_purity</span></a> (<a id="s:178" class="idref" href="#s:178"><span class="id" title="binder">s</span></a>: <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#stack_index"><span class="id" title="definition">stack_index</span></a>) (<a id="a:179" class="idref" href="#a:179"><span class="id" title="binder">a</span></a>: <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#aexp_stack"><span class="id" title="inductive">aexp_stack</span></a>) (<a id="args:180" class="idref" href="#args:180"><span class="id" title="binder">args</span></a> <a id="args':181" class="idref" href="#args':181"><span class="id" title="binder">args'</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#aexp_stack"><span class="id" title="inductive">aexp_stack</span></a>): <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <a id="fenv:182" class="idref" href="#fenv:182"><span class="id" title="binder">fenv</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackPurestBase.html#aexp_stack_pure_rel"><span class="id" title="inductive">aexp_stack_pure_rel</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#a:179"><span class="id" title="variable">a</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#fenv:182"><span class="id" title="variable">fenv</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackPurestBase.html#args_stack_pure_rel"><span class="id" title="inductive">args_stack_pure_rel</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#args:180"><span class="id" title="variable">args</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#fenv:182"><span class="id" title="variable">fenv</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackPurestBase.html#args_stack_pure_rel"><span class="id" title="inductive">args_stack_pure_rel</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#args':181"><span class="id" title="variable">args'</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#fenv:182"><span class="id" title="variable">fenv</span></a>.<br/>

<br/>
<span class="id" title="keyword">Theorem</span> <a id="expr_update_preserves_purity" class="idref" href="#expr_update_preserves_purity"><span class="id" title="lemma">expr_update_preserves_purity</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackLogicBase.html#expr_update_mut_ind_theorem"><span class="id" title="definition">expr_update_mut_ind_theorem</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#P_update_preserves_purity"><span class="id" title="definition">P_update_preserves_purity</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#P0_update_preserves_purity"><span class="id" title="definition">P0_update_preserves_purity</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">expr_update_mutual_induction</span> <span class="id" title="var">P</span> <span class="id" title="var">P0</span> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#P_update_preserves_purity"><span class="id" title="definition">P_update_preserves_purity</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#P0_update_preserves_purity"><span class="id" title="definition">P0_update_preserves_purity</span></a>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">invs</span> <span class="id" title="var">H2</span>. <span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">invs</span> <span class="id" title="var">H2</span>. <span class="id" title="tactic">constructor</span>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">H</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">H0</span>]; <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">inversion</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">invs</span> <span class="id" title="var">H2</span>. <span class="id" title="tactic">constructor</span>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">H</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">H0</span>]; <span class="id" title="tactic">assumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="arith_update_preserves_aexp_pure" class="idref" href="#arith_update_preserves_aexp_pure"><span class="id" title="lemma">arith_update_preserves_aexp_pure</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> (<a id="s:183" class="idref" href="#s:183"><span class="id" title="binder">s</span></a>: <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#stack_index"><span class="id" title="definition">stack_index</span></a>) (<a id="a:184" class="idref" href="#a:184"><span class="id" title="binder">a</span></a>: <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#aexp_stack"><span class="id" title="inductive">aexp_stack</span></a>) (<a id="aexp:185" class="idref" href="#aexp:185"><span class="id" title="binder">aexp</span></a> <a id="aexp':186" class="idref" href="#aexp':186"><span class="id" title="binder">aexp'</span></a>: <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#aexp_stack"><span class="id" title="inductive">aexp_stack</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackLogicBase.html#arith_update_rel"><span class="id" title="inductive">arith_update_rel</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#s:183"><span class="id" title="variable">s</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#a:184"><span class="id" title="variable">a</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#aexp:185"><span class="id" title="variable">aexp</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#aexp':186"><span class="id" title="variable">aexp'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <a id="fenv:187" class="idref" href="#fenv:187"><span class="id" title="binder">fenv</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackPurestBase.html#aexp_stack_pure_rel"><span class="id" title="inductive">aexp_stack_pure_rel</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#a:184"><span class="id" title="variable">a</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#fenv:187"><span class="id" title="variable">fenv</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackPurestBase.html#aexp_stack_pure_rel"><span class="id" title="inductive">aexp_stack_pure_rel</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#aexp:185"><span class="id" title="variable">aexp</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#fenv:187"><span class="id" title="variable">fenv</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackPurestBase.html#aexp_stack_pure_rel"><span class="id" title="inductive">aexp_stack_pure_rel</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#aexp':186"><span class="id" title="variable">aexp'</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#fenv:187"><span class="id" title="variable">fenv</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#expr_update_preserves_purity"><span class="id" title="lemma">expr_update_preserves_purity</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Imp_LangTrick.Stack.StackLogicBase.html#expr_update_mut_ind_theorem"><span class="id" title="definition">expr_update_mut_ind_theorem</span></a>, <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#P_update_preserves_purity"><span class="id" title="definition">P_update_preserves_purity</span></a>, <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#P0_update_preserves_purity"><span class="id" title="definition">P0_update_preserves_purity</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">AEXP</span> &amp; <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">AEXP</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="args_update_preserves_args_pure" class="idref" href="#args_update_preserves_args_pure"><span class="id" title="lemma">args_update_preserves_args_pure</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> (<a id="s:188" class="idref" href="#s:188"><span class="id" title="binder">s</span></a>: <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#stack_index"><span class="id" title="definition">stack_index</span></a>) (<a id="a:189" class="idref" href="#a:189"><span class="id" title="binder">a</span></a>: <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#aexp_stack"><span class="id" title="inductive">aexp_stack</span></a>) (<a id="args:190" class="idref" href="#args:190"><span class="id" title="binder">args</span></a> <a id="args':191" class="idref" href="#args':191"><span class="id" title="binder">args'</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#aexp_stack"><span class="id" title="inductive">aexp_stack</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackLogicBase.html#args_update_rel"><span class="id" title="inductive">args_update_rel</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#s:188"><span class="id" title="variable">s</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#a:189"><span class="id" title="variable">a</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#args:190"><span class="id" title="variable">args</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#args':191"><span class="id" title="variable">args'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <a id="fenv:192" class="idref" href="#fenv:192"><span class="id" title="binder">fenv</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackPurestBase.html#aexp_stack_pure_rel"><span class="id" title="inductive">aexp_stack_pure_rel</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#a:189"><span class="id" title="variable">a</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#fenv:192"><span class="id" title="variable">fenv</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackPurestBase.html#args_stack_pure_rel"><span class="id" title="inductive">args_stack_pure_rel</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#args:190"><span class="id" title="variable">args</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#fenv:192"><span class="id" title="variable">fenv</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackPurestBase.html#args_stack_pure_rel"><span class="id" title="inductive">args_stack_pure_rel</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#args':191"><span class="id" title="variable">args'</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#fenv:192"><span class="id" title="variable">fenv</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#expr_update_preserves_purity"><span class="id" title="lemma">expr_update_preserves_purity</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Imp_LangTrick.Stack.StackLogicBase.html#expr_update_mut_ind_theorem"><span class="id" title="definition">expr_update_mut_ind_theorem</span></a>, <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#P_update_preserves_purity"><span class="id" title="definition">P_update_preserves_purity</span></a>, <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#P0_update_preserves_purity"><span class="id" title="definition">P0_update_preserves_purity</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">_</span> &amp; <span class="id" title="var">ARGS</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">ARGS</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Local</span> <span class="id" title="keyword">Definition</span> <a id="bool_update_preserves_bexp_pure_P" class="idref" href="#bool_update_preserves_bexp_pure_P"><span class="id" title="definition">bool_update_preserves_bexp_pure_P</span></a> (<a id="s:193" class="idref" href="#s:193"><span class="id" title="binder">s</span></a>: <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#stack_index"><span class="id" title="definition">stack_index</span></a>) (<a id="a:194" class="idref" href="#a:194"><span class="id" title="binder">a</span></a>: <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#aexp_stack"><span class="id" title="inductive">aexp_stack</span></a>) (<a id="bexp:195" class="idref" href="#bexp:195"><span class="id" title="binder">bexp</span></a> <a id="bexp':196" class="idref" href="#bexp':196"><span class="id" title="binder">bexp'</span></a>: <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#bexp_stack"><span class="id" title="inductive">bexp_stack</span></a>): <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <a id="fenv:197" class="idref" href="#fenv:197"><span class="id" title="binder">fenv</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackPurestBase.html#aexp_stack_pure_rel"><span class="id" title="inductive">aexp_stack_pure_rel</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#a:194"><span class="id" title="variable">a</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#fenv:197"><span class="id" title="variable">fenv</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackPurestBase.html#bexp_stack_pure_rel"><span class="id" title="inductive">bexp_stack_pure_rel</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#bexp:195"><span class="id" title="variable">bexp</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#fenv:197"><span class="id" title="variable">fenv</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackPurestBase.html#bexp_stack_pure_rel"><span class="id" title="inductive">bexp_stack_pure_rel</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#bexp':196"><span class="id" title="variable">bexp'</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#fenv:197"><span class="id" title="variable">fenv</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="bool_update_preserves_bexp_pure_folded" class="idref" href="#bool_update_preserves_bexp_pure_folded"><span class="id" title="lemma">bool_update_preserves_bexp_pure_folded</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> (<a id="s:198" class="idref" href="#s:198"><span class="id" title="binder">s</span></a>: <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#stack_index"><span class="id" title="definition">stack_index</span></a>) (<a id="a:199" class="idref" href="#a:199"><span class="id" title="binder">a</span></a>: <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#aexp_stack"><span class="id" title="inductive">aexp_stack</span></a>) (<a id="bexp:200" class="idref" href="#bexp:200"><span class="id" title="binder">bexp</span></a> <a id="bexp':201" class="idref" href="#bexp':201"><span class="id" title="binder">bexp'</span></a>: <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#bexp_stack"><span class="id" title="inductive">bexp_stack</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackLogicBase.html#bool_update_rel"><span class="id" title="inductive">bool_update_rel</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#s:198"><span class="id" title="variable">s</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#a:199"><span class="id" title="variable">a</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#bexp:200"><span class="id" title="variable">bexp</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#bexp':201"><span class="id" title="variable">bexp'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#bool_update_preserves_bexp_pure_P"><span class="id" title="definition">bool_update_preserves_bexp_pure_P</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#s:198"><span class="id" title="variable">s</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#a:199"><span class="id" title="variable">a</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#bexp:200"><span class="id" title="variable">bexp</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#bexp':201"><span class="id" title="variable">bexp'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="Imp_LangTrick.Stack.StackLogicBase.html#bool_update_rel_ind"><span class="id" title="definition">bool_update_rel_ind</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#bool_update_preserves_bexp_pure_P"><span class="id" title="definition">bool_update_preserves_bexp_pure_P</span></a>); <span class="id" title="tactic">unfold</span> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#bool_update_preserves_bexp_pure_P"><span class="id" title="definition">bool_update_preserves_bexp_pure_P</span></a>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">assumption</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| [ <span class="id" title="var">H</span>: <a class="idref" href="Imp_LangTrick.Stack.StackPurestBase.html#bexp_stack_pure_rel"><span class="id" title="inductive">bexp_stack_pure_rel</span></a> ?<span class="id" title="var">b</span> <span class="id" title="var">_</span> |- <span class="id" title="var">_</span> ] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">invs</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>; <span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">H2</span>; <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">H2</span>; <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#arith_update_preserves_aexp_pure"><span class="id" title="lemma">arith_update_preserves_aexp_pure</span></a>; <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#arith_update_preserves_aexp_pure"><span class="id" title="lemma">arith_update_preserves_aexp_pure</span></a>; <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#arith_update_preserves_aexp_pure"><span class="id" title="lemma">arith_update_preserves_aexp_pure</span></a>; <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#arith_update_preserves_aexp_pure"><span class="id" title="lemma">arith_update_preserves_aexp_pure</span></a>; <span class="id" title="var">eassumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="bool_update_preserves_bexp_pure" class="idref" href="#bool_update_preserves_bexp_pure"><span class="id" title="lemma">bool_update_preserves_bexp_pure</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> (<a id="s:202" class="idref" href="#s:202"><span class="id" title="binder">s</span></a>: <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#stack_index"><span class="id" title="definition">stack_index</span></a>) (<a id="a:203" class="idref" href="#a:203"><span class="id" title="binder">a</span></a>: <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#aexp_stack"><span class="id" title="inductive">aexp_stack</span></a>) (<a id="bexp:204" class="idref" href="#bexp:204"><span class="id" title="binder">bexp</span></a> <a id="bexp':205" class="idref" href="#bexp':205"><span class="id" title="binder">bexp'</span></a>: <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#bexp_stack"><span class="id" title="inductive">bexp_stack</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackLogicBase.html#bool_update_rel"><span class="id" title="inductive">bool_update_rel</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#s:202"><span class="id" title="variable">s</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#a:203"><span class="id" title="variable">a</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#bexp:204"><span class="id" title="variable">bexp</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#bexp':205"><span class="id" title="variable">bexp'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <a id="fenv:206" class="idref" href="#fenv:206"><span class="id" title="binder">fenv</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackPurestBase.html#aexp_stack_pure_rel"><span class="id" title="inductive">aexp_stack_pure_rel</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#a:203"><span class="id" title="variable">a</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#fenv:206"><span class="id" title="variable">fenv</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackPurestBase.html#bexp_stack_pure_rel"><span class="id" title="inductive">bexp_stack_pure_rel</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#bexp:204"><span class="id" title="variable">bexp</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#fenv:206"><span class="id" title="variable">fenv</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackPurestBase.html#bexp_stack_pure_rel"><span class="id" title="inductive">bexp_stack_pure_rel</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#bexp':205"><span class="id" title="variable">bexp'</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#fenv:206"><span class="id" title="variable">fenv</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#bool_update_preserves_bexp_pure_folded"><span class="id" title="lemma">bool_update_preserves_bexp_pure_folded</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="P_update_pure_implies_purity" class="idref" href="#P_update_pure_implies_purity"><span class="id" title="definition">P_update_pure_implies_purity</span></a> (<a id="s:207" class="idref" href="#s:207"><span class="id" title="binder">s</span></a>: <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#stack_index"><span class="id" title="definition">stack_index</span></a>) (<a id="a:208" class="idref" href="#a:208"><span class="id" title="binder">a</span></a>: <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#aexp_stack"><span class="id" title="inductive">aexp_stack</span></a>) (<a id="aexp:209" class="idref" href="#aexp:209"><span class="id" title="binder">aexp</span></a> <a id="aexp':210" class="idref" href="#aexp':210"><span class="id" title="binder">aexp'</span></a>: <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#aexp_stack"><span class="id" title="inductive">aexp_stack</span></a>): <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <a id="fenv:211" class="idref" href="#fenv:211"><span class="id" title="binder">fenv</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackExprWellFormed.html#aexp_well_formed"><span class="id" title="inductive">aexp_well_formed</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#aexp:209"><span class="id" title="variable">aexp</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackPurestBase.html#aexp_stack_pure_rel"><span class="id" title="inductive">aexp_stack_pure_rel</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#a:208"><span class="id" title="variable">a</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#fenv:211"><span class="id" title="variable">fenv</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackPurestBase.html#aexp_stack_pure_rel"><span class="id" title="inductive">aexp_stack_pure_rel</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#aexp':210"><span class="id" title="variable">aexp'</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#fenv:211"><span class="id" title="variable">fenv</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackPurestBase.html#aexp_stack_pure_rel"><span class="id" title="inductive">aexp_stack_pure_rel</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#aexp:209"><span class="id" title="variable">aexp</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#fenv:211"><span class="id" title="variable">fenv</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="P0_update_pure_implies_purity" class="idref" href="#P0_update_pure_implies_purity"><span class="id" title="definition">P0_update_pure_implies_purity</span></a> (<a id="s:212" class="idref" href="#s:212"><span class="id" title="binder">s</span></a>: <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#stack_index"><span class="id" title="definition">stack_index</span></a>) (<a id="a:213" class="idref" href="#a:213"><span class="id" title="binder">a</span></a>: <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#aexp_stack"><span class="id" title="inductive">aexp_stack</span></a>) (<a id="args:214" class="idref" href="#args:214"><span class="id" title="binder">args</span></a> <a id="args':215" class="idref" href="#args':215"><span class="id" title="binder">args'</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#aexp_stack"><span class="id" title="inductive">aexp_stack</span></a>): <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <a id="fenv:216" class="idref" href="#fenv:216"><span class="id" title="binder">fenv</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackExprWellFormed.html#args_well_formed"><span class="id" title="inductive">args_well_formed</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#args:214"><span class="id" title="variable">args</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackPurestBase.html#aexp_stack_pure_rel"><span class="id" title="inductive">aexp_stack_pure_rel</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#a:213"><span class="id" title="variable">a</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#fenv:216"><span class="id" title="variable">fenv</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackPurestBase.html#args_stack_pure_rel"><span class="id" title="inductive">args_stack_pure_rel</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#args':215"><span class="id" title="variable">args'</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#fenv:216"><span class="id" title="variable">fenv</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackPurestBase.html#args_stack_pure_rel"><span class="id" title="inductive">args_stack_pure_rel</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#args:214"><span class="id" title="variable">args</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#fenv:216"><span class="id" title="variable">fenv</span></a>.<br/>

<br/>
<span class="id" title="keyword">Theorem</span> <a id="expr_update_pure_implies_purity" class="idref" href="#expr_update_pure_implies_purity"><span class="id" title="lemma">expr_update_pure_implies_purity</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackLogicBase.html#expr_update_mut_ind_theorem"><span class="id" title="definition">expr_update_mut_ind_theorem</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#P_update_pure_implies_purity"><span class="id" title="definition">P_update_pure_implies_purity</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#P0_update_pure_implies_purity"><span class="id" title="definition">P0_update_pure_implies_purity</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">expr_update_mutual_induction</span> <span class="id" title="var">P</span> <span class="id" title="var">P0</span> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#P_update_pure_implies_purity"><span class="id" title="definition">P_update_pure_implies_purity</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#P0_update_pure_implies_purity"><span class="id" title="definition">P0_update_pure_implies_purity</span></a>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">invs</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">invs</span> <span class="id" title="var">H3</span>; <span class="id" title="var">invs</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <span class="id" title="var">H</span>; <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <span class="id" title="var">H0</span>; <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">invs</span> <span class="id" title="var">H3</span>; <span class="id" title="var">invs</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">econstructor</span>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">H</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">H0</span>]; <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">invs</span> <span class="id" title="var">H2</span>; <span class="id" title="var">invs</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">assert</span> (<span class="id" title="var">fenv</span> <span class="id" title="var">f</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">fenv</span> <span class="id" title="var">f</span>) <span class="id" title="tactic">by</span> <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <span class="id" title="var">H</span>; <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">invs</span> <span class="id" title="var">H3</span>; <span class="id" title="var">invs</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">H</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">H0</span> ]; <span class="id" title="var">eassumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="arith_update_pure_implies_purity" class="idref" href="#arith_update_pure_implies_purity"><span class="id" title="lemma">arith_update_pure_implies_purity</span></a> :<br/>
&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">forall</span> (<a id="s:217" class="idref" href="#s:217"><span class="id" title="binder">s</span></a> : <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#stack_index"><span class="id" title="definition">stack_index</span></a>) (<a id="a:218" class="idref" href="#a:218"><span class="id" title="binder">a</span></a> <a id="aexp:219" class="idref" href="#aexp:219"><span class="id" title="binder">aexp</span></a> <a id="aexp':220" class="idref" href="#aexp':220"><span class="id" title="binder">aexp'</span></a> : <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#aexp_stack"><span class="id" title="inductive">aexp_stack</span></a>),<br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackLogicBase.html#arith_update_rel"><span class="id" title="inductive">arith_update_rel</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#s:217"><span class="id" title="variable">s</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#a:218"><span class="id" title="variable">a</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#aexp:219"><span class="id" title="variable">aexp</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#aexp':220"><span class="id" title="variable">aexp'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <a id="fenv:221" class="idref" href="#fenv:221"><span class="id" title="binder">fenv</span></a> : <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#fun_env_stk"><span class="id" title="definition">fun_env_stk</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackExprWellFormed.html#aexp_well_formed"><span class="id" title="inductive">aexp_well_formed</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#aexp:219"><span class="id" title="variable">aexp</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurestBase.html#aexp_stack_pure_rel"><span class="id" title="inductive">aexp_stack_pure_rel</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#a:218"><span class="id" title="variable">a</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#fenv:221"><span class="id" title="variable">fenv</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurestBase.html#aexp_stack_pure_rel"><span class="id" title="inductive">aexp_stack_pure_rel</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#aexp':220"><span class="id" title="variable">aexp'</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#fenv:221"><span class="id" title="variable">fenv</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurestBase.html#aexp_stack_pure_rel"><span class="id" title="inductive">aexp_stack_pure_rel</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#aexp:219"><span class="id" title="variable">aexp</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#fenv:221"><span class="id" title="variable">fenv</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#expr_update_pure_implies_purity"><span class="id" title="lemma">expr_update_pure_implies_purity</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#P_update_pure_implies_purity"><span class="id" title="definition">P_update_pure_implies_purity</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#P0_update_pure_implies_purity"><span class="id" title="definition">P0_update_pure_implies_purity</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Imp_LangTrick.Stack.StackLogicBase.html#expr_update_mut_ind_theorem"><span class="id" title="definition">expr_update_mut_ind_theorem</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="args_update_pure_implies_purity" class="idref" href="#args_update_pure_implies_purity"><span class="id" title="lemma">args_update_pure_implies_purity</span></a> :<br/>
&nbsp;&nbsp;(<span class="id" title="keyword">forall</span> (<a id="s:222" class="idref" href="#s:222"><span class="id" title="binder">s</span></a> : <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#stack_index"><span class="id" title="definition">stack_index</span></a>) (<a id="a:223" class="idref" href="#a:223"><span class="id" title="binder">a</span></a> : <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#aexp_stack"><span class="id" title="inductive">aexp_stack</span></a>) (<a id="args:224" class="idref" href="#args:224"><span class="id" title="binder">args</span></a> <a id="args':225" class="idref" href="#args':225"><span class="id" title="binder">args'</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#aexp_stack"><span class="id" title="inductive">aexp_stack</span></a>),<br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackLogicBase.html#args_update_rel"><span class="id" title="inductive">args_update_rel</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#s:222"><span class="id" title="variable">s</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#a:223"><span class="id" title="variable">a</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#args:224"><span class="id" title="variable">args</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#args':225"><span class="id" title="variable">args'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <a id="fenv:226" class="idref" href="#fenv:226"><span class="id" title="binder">fenv</span></a> : <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#fun_env_stk"><span class="id" title="definition">fun_env_stk</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackExprWellFormed.html#args_well_formed"><span class="id" title="inductive">args_well_formed</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#args:224"><span class="id" title="variable">args</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurestBase.html#aexp_stack_pure_rel"><span class="id" title="inductive">aexp_stack_pure_rel</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#a:223"><span class="id" title="variable">a</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#fenv:226"><span class="id" title="variable">fenv</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurestBase.html#args_stack_pure_rel"><span class="id" title="inductive">args_stack_pure_rel</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#args':225"><span class="id" title="variable">args'</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#fenv:226"><span class="id" title="variable">fenv</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurestBase.html#args_stack_pure_rel"><span class="id" title="inductive">args_stack_pure_rel</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#args:224"><span class="id" title="variable">args</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#fenv:226"><span class="id" title="variable">fenv</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#expr_update_pure_implies_purity"><span class="id" title="lemma">expr_update_pure_implies_purity</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#P_update_pure_implies_purity"><span class="id" title="definition">P_update_pure_implies_purity</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#P0_update_pure_implies_purity"><span class="id" title="definition">P0_update_pure_implies_purity</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Imp_LangTrick.Stack.StackLogicBase.html#expr_update_mut_ind_theorem"><span class="id" title="definition">expr_update_mut_ind_theorem</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">H0</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="bool_update_pure_implies_bexp_pure" class="idref" href="#bool_update_pure_implies_bexp_pure"><span class="id" title="lemma">bool_update_pure_implies_bexp_pure</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> (<a id="s:227" class="idref" href="#s:227"><span class="id" title="binder">s</span></a>: <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#stack_index"><span class="id" title="definition">stack_index</span></a>) (<a id="a:228" class="idref" href="#a:228"><span class="id" title="binder">a</span></a>: <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#aexp_stack"><span class="id" title="inductive">aexp_stack</span></a>) (<a id="bexp:229" class="idref" href="#bexp:229"><span class="id" title="binder">bexp</span></a> <a id="bexp':230" class="idref" href="#bexp':230"><span class="id" title="binder">bexp'</span></a>: <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#bexp_stack"><span class="id" title="inductive">bexp_stack</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackLogicBase.html#bool_update_rel"><span class="id" title="inductive">bool_update_rel</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#s:227"><span class="id" title="variable">s</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#a:228"><span class="id" title="variable">a</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#bexp:229"><span class="id" title="variable">bexp</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#bexp':230"><span class="id" title="variable">bexp'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <a id="fenv:231" class="idref" href="#fenv:231"><span class="id" title="binder">fenv</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackExprWellFormed.html#bexp_well_formed"><span class="id" title="inductive">bexp_well_formed</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#bexp:229"><span class="id" title="variable">bexp</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackPurestBase.html#aexp_stack_pure_rel"><span class="id" title="inductive">aexp_stack_pure_rel</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#a:228"><span class="id" title="variable">a</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#fenv:231"><span class="id" title="variable">fenv</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackPurestBase.html#bexp_stack_pure_rel"><span class="id" title="inductive">bexp_stack_pure_rel</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#bexp':230"><span class="id" title="variable">bexp'</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#fenv:231"><span class="id" title="variable">fenv</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackPurestBase.html#bexp_stack_pure_rel"><span class="id" title="inductive">bexp_stack_pure_rel</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#bexp:229"><span class="id" title="variable">bexp</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#fenv:231"><span class="id" title="variable">fenv</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">s</span> <span class="id" title="var">a</span> <span class="id" title="var">bexp</span> <span class="id" title="var">bexp'</span> <span class="id" title="var">UPDATE</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">UPDATE</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">invs</span> <span class="id" title="var">H1</span>. <span class="id" title="var">invs</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">invs</span> <span class="id" title="var">H1</span>. <span class="id" title="var">invs</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">invs</span> <span class="id" title="var">H1</span>. <span class="id" title="var">invs</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">invs</span> <span class="id" title="var">H1</span>. <span class="id" title="var">invs</span> <span class="id" title="var">H3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">eapply</span> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#arith_update_pure_implies_purity"><span class="id" title="lemma">arith_update_pure_implies_purity</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">invs</span> <span class="id" title="var">H1</span>. <span class="id" title="var">invs</span> <span class="id" title="var">H3</span>. <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">eapply</span> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#arith_update_pure_implies_purity"><span class="id" title="lemma">arith_update_pure_implies_purity</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="pure_aexp_implies_same_stack" class="idref" href="#pure_aexp_implies_same_stack"><span class="id" title="lemma">pure_aexp_implies_same_stack</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <a id="aexp:232" class="idref" href="#aexp:232"><span class="id" title="binder">aexp</span></a> <a id="fenv:233" class="idref" href="#fenv:233"><span class="id" title="binder">fenv</span></a> <a id="stk:234" class="idref" href="#stk:234"><span class="id" title="binder">stk</span></a> <a id="stk':235" class="idref" href="#stk':235"><span class="id" title="binder">stk'</span></a> <a id="aval:236" class="idref" href="#aval:236"><span class="id" title="binder">aval</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#aexp_stack_sem"><span class="id" title="inductive">aexp_stack_sem</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#aexp:232"><span class="id" title="variable">aexp</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#fenv:233"><span class="id" title="variable">fenv</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#stk:234"><span class="id" title="variable">stk</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#stk':235"><span class="id" title="variable">stk'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#aval:236"><span class="id" title="variable">aval</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackPurestBase.html#aexp_stack_pure_rel"><span class="id" title="inductive">aexp_stack_pure_rel</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#aexp:232"><span class="id" title="variable">aexp</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#fenv:233"><span class="id" title="variable">fenv</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#stk:234"><span class="id" title="variable">stk</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackPurest.html#stk':235"><span class="id" title="variable">stk'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Imp_LangTrick.Stack.StackPurestBase.html#aexp_stack_pure_backwards"><span class="id" title="lemma">aexp_stack_pure_backwards</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Imp_LangTrick.Stack.StackPurestBase.html#aexp_stack_pure"><span class="id" title="definition">aexp_stack_pure</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">eassumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>
</div>

<div id="footer">
<hr/><a href="index.html">Index</a><hr/>This page has been generated by <a href="http://coq.inria.fr/">coqdoc</a>
</div>

</div>

</body>
</html>