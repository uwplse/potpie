<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<title>Imp_LangTrick.Tactics.AimpWfAndCheckProofAuto</title>
</head>

<body>

<div id="page">

<div id="header">
</div>

<div id="main">

<h1 class="libtitle">Library Imp_LangTrick.Tactics.AimpWfAndCheckProofAuto</h1>

<div class="code">
</div>

<div class="doc">
Automation for aimp_wf proofs 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">Coq</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.micromega.Psatz.html#"><span class="id" title="library">Psatz</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Arith.Arith.html#"><span class="id" title="library">Arith</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Strings.String.html#"><span class="id" title="library">String</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#"><span class="id" title="library">List</span></a>.<br/>

<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">Imp_LangTrick</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="Imp_LangTrick.Stack.StackLanguage.html#"><span class="id" title="library">StackLanguage</span></a> <a class="idref" href="Imp_LangTrick.Imp.Imp_LangTrickLanguage.html#"><span class="id" title="library">Imp_LangTrickLanguage</span></a> <a class="idref" href="Imp_LangTrick.Base.html#"><span class="id" title="library">Base</span></a> <a class="idref" href="Imp_LangTrick.Examples.rsa_impLang.html#"><span class="id" title="library">rsa_impLang</span></a> <a class="idref" href="Imp_LangTrick.Examples.SeriesExample.html#"><span class="id" title="library">SeriesExample</span></a> <a class="idref" href="Imp_LangTrick.FunctionWellFormed.html#"><span class="id" title="library">FunctionWellFormed</span></a> <a class="idref" href="Imp_LangTrick.CodeCompiler.EnvToStackLTtoLEQ.html#"><span class="id" title="library">EnvToStackLTtoLEQ</span></a> <a class="idref" href="Imp_LangTrick.SpecCompiler.TranslationPure.html#"><span class="id" title="library">TranslationPure</span></a> <a class="idref" href="Imp_LangTrick.ProofCompiler.ProofCompMod.html#"><span class="id" title="library">ProofCompMod</span></a> <a class="idref" href="Imp_LangTrick.Stack.StackLangTheorems.html#"><span class="id" title="library">StackLangTheorems</span></a> <a class="idref" href="Imp_LangTrick.ParamsWellFormed.html#"><span class="id" title="library">ParamsWellFormed</span></a> <a class="idref" href="Imp_LangTrick.Imp.Imp_LangImpHigherOrderRel.html#"><span class="id" title="library">Imp_LangImpHigherOrderRel</span></a> <a class="idref" href="Imp_LangTrick.Imp.Imp_LangImpHigherOrderRelTheorems.html#"><span class="id" title="library">Imp_LangImpHigherOrderRelTheorems</span></a> <a class="idref" href="Imp_LangTrick.Imp.Imp_LangDec.html#"><span class="id" title="library">Imp_LangDec</span></a> <a class="idref" href="Imp_LangTrick.Imp.Imp_LangLogPropDec.html#"><span class="id" title="library">Imp_LangLogPropDec</span></a> <a class="idref" href="Imp_LangTrick.UIPList.html#"><span class="id" title="library">UIPList</span></a> <a class="idref" href="Imp_LangTrick.ProofCompiler.CompilerAssumptionLogicTrans.html#"><span class="id" title="library">CompilerAssumptionLogicTrans</span></a>.<br/>

<br/>
<span class="id" title="keyword">Local Open</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">list_scope</span>.<br/>
<span class="id" title="keyword">Local Open</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">string_scope</span>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">Imp_LangTrick</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="Imp_LangTrick.ProofCompiler.ProofCompAutoAnother.html#"><span class="id" title="library">ProofCompAutoAnother</span></a> <a class="idref" href="Imp_LangTrick.Examples.BloomFilterArrayProgram.html#"><span class="id" title="library">BloomFilterArrayProgram</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">Imp_LangTrick</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="Imp_LangTrick.LogicProp.LogicProp.html#"><span class="id" title="library">LogicProp</span></a> <a class="idref" href="Imp_LangTrick.Imp.Imp_LangLogProp.html#"><span class="id" title="library">Imp_LangLogProp</span></a> <a class="idref" href="Imp_LangTrick.Imp.Imp_LangLogHoare.html#"><span class="id" title="library">Imp_LangLogHoare</span></a>  <a class="idref" href="Imp_LangTrick.ProofCompiler.ProofCompAuto.html#"><span class="id" title="library">ProofCompAuto</span></a> <a class="idref" href="Imp_LangTrick.ProofCompiler.ProofCompCodeCompAgnosticMod.html#"><span class="id" title="library">ProofCompCodeCompAgnosticMod</span></a> <a class="idref" href="Imp_LangTrick.Imp.Imp_LangHoareWF.html#"><span class="id" title="library">Imp_LangHoareWF</span></a> <a class="idref" href="Imp_LangTrick.ProofCompiler.ProofCompilerBase.html#"><span class="id" title="library">ProofCompilerBase</span></a> <a class="idref" href="Imp_LangTrick.Imp.ImpHasVariableReflection.html#"><span class="id" title="library">ImpHasVariableReflection</span></a> <a class="idref" href="Imp_LangTrick.Tactics.FunctionWellFormedReflection.html#"><span class="id" title="library">FunctionWellFormedReflection</span></a>.<br/>
<span class="id" title="keyword">Local Open</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">imp_langtrick_scope</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">hl_Imp_Lang_wf_seq_helper</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| [ |- <a class="idref" href="Imp_LangTrick.Imp.Imp_LangHoareWF.html#hl_Imp_Lang_wf"><span class="id" title="inductive">Imp_LangHoareWF.hl_Imp_Lang_wf</span></a> ?<span class="id" title="var">fenv</span> ?<span class="id" title="var">funcs</span> ?<span class="id" title="var">idents</span> ?<span class="id" title="var">num_args</span> ?<span class="id" title="var">P</span> ?<span class="id" title="var">Q</span> (<a class="idref" href="Imp_LangTrick.Imp.Imp_LangTrickLanguage.html#SEQ_Imp_Lang"><span class="id" title="constructor">SEQ_Imp_Lang</span></a> ?<span class="id" title="var">c1</span> ?<span class="id" title="var">c2</span>) ?<span class="id" title="var">facts</span> (<a class="idref" href="Imp_LangTrick.Imp.Imp_LangLogHoare.html#hl_Imp_Lang_seq"><span class="id" title="constructor">hl_Imp_Lang_seq</span></a> ?<span class="id" title="var">P'</span> ?<span class="id" title="var">Q'</span> ?<span class="id" title="var">R</span> ?<span class="id" title="var">facts'</span> ?<span class="id" title="var">fenv'</span> ?<span class="id" title="var">c1'</span> ?<span class="id" title="var">c2'</span> ?<span class="id" title="var">hl1'</span> ?<span class="id" title="var">hl2'</span>) ] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">Heq</span> := <span class="id" title="tactic">fresh</span> "Heq" <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Heq</span> : <a class="idref" href="Imp_LangTrick.Imp.Imp_LangTrickLanguage.html#SEQ_Imp_Lang"><span class="id" title="constructor">SEQ_Imp_Lang</span></a> <span class="id" title="var">c1</span> <span class="id" title="var">c2</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Imp_LangTrick.Imp.Imp_LangTrickLanguage.html#SEQ_Imp_Lang"><span class="id" title="constructor">SEQ_Imp_Lang</span></a> <span class="id" title="var">c1'</span> <span class="id" title="var">c2'</span>) <span class="id" title="tactic">by</span> <span class="id" title="tactic">reflexivity</span> || <span class="id" title="var">enough</span> (<span class="id" title="var">Heq</span> : <a class="idref" href="Imp_LangTrick.Imp.Imp_LangTrickLanguage.html#SEQ_Imp_Lang"><span class="id" title="constructor">SEQ_Imp_Lang</span></a> <span class="id" title="var">c1</span> <span class="id" title="var">c2</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Imp_LangTrick.Imp.Imp_LangTrickLanguage.html#SEQ_Imp_Lang"><span class="id" title="constructor">SEQ_Imp_Lang</span></a> <span class="id" title="var">c1'</span> <span class="id" title="var">c2'</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">Heq_refl</span> := <span class="id" title="tactic">fresh</span> "Heq_refl" <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<span class="id" title="var">Heq_refl</span> := <a class="idref" href="Imp_LangTrick.Imp.Imp_LangDec.html#UIP_imp_refl"><span class="id" title="lemma">UIP_imp_refl</span></a> <span class="id" title="var">_</span> <span class="id" title="var">Heq</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="Imp_LangTrick.Imp.Imp_LangHoareWF.html#HLImp_LangWFSeq"><span class="id" title="constructor">Imp_LangHoareWF.HLImp_LangWFSeq</span></a> <span class="id" title="keyword">with</span>  (<span class="id" title="var">Heq</span> := <span class="id" title="var">Heq</span>); [ <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heq_refl</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">reflexivity</span> | <span class="id" title="tactic">clear</span> <span class="id" title="var">Heq</span> <span class="id" title="var">Heq_refl</span> .. ]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">econstructor_prop_args_rel</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| [ |- <a class="idref" href="Imp_LangTrick.LogicProp.LogicProp.html#prop_args_rel"><span class="id" title="inductive">prop_args_rel</span></a>  <span class="id" title="var">_</span> <span class="id" title="var">_</span> ] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">hl_Imp_Lang_wf_roc_pre_helper</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| [ |- <a class="idref" href="Imp_LangTrick.Imp.Imp_LangHoareWF.html#hl_Imp_Lang_wf"><span class="id" title="inductive">Imp_LangHoareWF.hl_Imp_Lang_wf</span></a> ?<span class="id" title="var">fenv</span> ?<span class="id" title="var">funcs</span> ?<span class="id" title="var">idents</span> ?<span class="id" title="var">num_args</span> ?<span class="id" title="var">precond</span> ?<span class="id" title="var">postcond</span> ?<span class="id" title="var">i</span> ?<span class="id" title="var">facts</span> (<a class="idref" href="Imp_LangTrick.Imp.Imp_LangLogHoare.html#hl_Imp_Lang_consequence_pre"><span class="id" title="constructor">hl_Imp_Lang_consequence_pre</span></a> ?<span class="id" title="var">P</span> ?<span class="id" title="var">d</span> ?<span class="id" title="var">d'</span> ?<span class="id" title="var">i'</span> ?<span class="id" title="var">n</span> ?<span class="id" title="var">facts'</span> ?<span class="id" title="var">fenv'</span> ?<span class="id" title="var">hlP</span> ?<span class="id" title="var">Hnth'</span> ?<span class="id" title="var">aimp</span>) ] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">Hnth</span> := <span class="id" title="tactic">fresh</span> "Hnth" <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hnth</span> : <span class="id" title="keyword">let</span> <a id="ele:1" class="idref" href="#ele:1"><span class="id" title="binder">ele</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#nth"><span class="id" title="definition">nth</span></a> <span class="id" title="var">n</span> <span class="id" title="var">facts</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Imp_LangTrick.Examples.Multiplication.html#true_precondition"><span class="id" title="definition">true_precondition</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Imp_LangTrick.Examples.Multiplication.html#true_precondition"><span class="id" title="definition">true_precondition</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a> <span class="id" title="var">facts</span> <span class="id" title="var">n</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="Imp_LangTrick.Tactics.AimpWfAndCheckProofAuto.html#ele:1"><span class="id" title="variable">ele</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="Imp_LangTrick.Tactics.AimpWfAndCheckProofAuto.html#ele:1"><span class="id" title="variable">ele</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <span class="id" title="tactic">by</span> <span class="id" title="tactic">reflexivity</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<span class="id" title="var">UIP_option_refl</span> := <a class="idref" href="Imp_LangTrick.UIPList.html#UIP_option_pair_refl"><span class="id" title="lemma">UIP_option_pair_refl</span></a>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">UIP_option_refl</span> <span class="id" title="var">_</span> <a class="idref" href="Imp_LangTrick.Imp.Imp_LangLogPropDec.html#UIP_AbsEnv"><span class="id" title="axiom">Imp_LangLogPropDec.UIP_AbsEnv</span></a>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">UIP_option_refl</span> <span class="id" title="var">_</span> <span class="id" title="var">Hnth</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="Imp_LangTrick.Imp.Imp_LangHoareWF.html#HLImp_LangWFConsequencePre"><span class="id" title="constructor">Imp_LangHoareWF.HLImp_LangWFConsequencePre</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">nth</span> := <span class="id" title="var">Hnth</span>); [ | | <span class="id" title="tactic">try</span> <span class="id" title="tactic">clear</span> <span class="id" title="var">UIP_option_refl</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">clear</span> <span class="id" title="var">Hnth</span> .. ]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">hl_imp_lang_wf_assign_helper</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| [ |- <a class="idref" href="Imp_LangTrick.Imp.Imp_LangHoareWF.html#hl_Imp_Lang_wf"><span class="id" title="inductive">Imp_LangHoareWF.hl_Imp_Lang_wf</span></a> ?<span class="id" title="var">fenv</span> ?<span class="id" title="var">func_list</span> ?<span class="id" title="var">idents</span> ?<span class="id" title="var">num_args</span> ?<span class="id" title="var">d</span> ?<span class="id" title="var">d'</span> (<a class="idref" href="Imp_LangTrick.Imp.Imp_LangTrickLanguage.html#ASSIGN_Imp_Lang"><span class="id" title="constructor">ASSIGN_Imp_Lang</span></a> ?<span class="id" title="var">x</span> ?<span class="id" title="var">a</span>) ?<span class="id" title="var">facts</span> (<a class="idref" href="Imp_LangTrick.Imp.Imp_LangLogHoare.html#hl_Imp_Lang_assign"><span class="id" title="constructor">hl_Imp_Lang_assign</span></a> ?<span class="id" title="var">d''</span> ?<span class="id" title="var">facts'</span> ?<span class="id" title="var">fenv'</span> ?<span class="id" title="var">x'</span> ?<span class="id" title="var">a'</span>) ] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">Hsubst</span> := <span class="id" title="tactic">fresh</span> "Hsubst" <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">Heq</span> := <span class="id" title="tactic">fresh</span> "Heq" <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hsubst</span> : <a class="idref" href="Imp_LangTrick.Imp.Imp_LangLogSubst.html#subst_AbsEnv"><span class="id" title="definition">Imp_LangLogSubst.subst_AbsEnv</span></a> <span class="id" title="var">x</span> <span class="id" title="var">a</span> <span class="id" title="var">d'</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">d</span>) <span class="id" title="tactic">by</span> <span class="id" title="tactic">reflexivity</span> || <span class="id" title="var">enough</span> (<span class="id" title="var">Hsubst</span> : <a class="idref" href="Imp_LangTrick.Imp.Imp_LangLogSubst.html#subst_AbsEnv"><span class="id" title="definition">Imp_LangLogSubst.subst_AbsEnv</span></a> <span class="id" title="var">x</span> <span class="id" title="var">a</span> <span class="id" title="var">d'</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">d</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Heq</span> : <a class="idref" href="Imp_LangTrick.Imp.Imp_LangTrickLanguage.html#ASSIGN_Imp_Lang"><span class="id" title="constructor">ASSIGN_Imp_Lang</span></a> <span class="id" title="var">x</span> <span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Imp_LangTrick.Imp.Imp_LangTrickLanguage.html#ASSIGN_Imp_Lang"><span class="id" title="constructor">ASSIGN_Imp_Lang</span></a> <span class="id" title="var">x'</span> <span class="id" title="var">a'</span>) <span class="id" title="tactic">by</span> <span class="id" title="tactic">reflexivity</span> || <span class="id" title="var">enough</span> (<span class="id" title="var">Heq</span>: <a class="idref" href="Imp_LangTrick.Imp.Imp_LangTrickLanguage.html#ASSIGN_Imp_Lang"><span class="id" title="constructor">ASSIGN_Imp_Lang</span></a> <span class="id" title="var">x</span> <span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Imp_LangTrick.Imp.Imp_LangTrickLanguage.html#ASSIGN_Imp_Lang"><span class="id" title="constructor">ASSIGN_Imp_Lang</span></a> <span class="id" title="var">x'</span> <span class="id" title="var">a'</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<span class="id" title="var">Hsubstrefl</span> := <a class="idref" href="Imp_LangTrick.Imp.Imp_LangLogPropDec.html#UIP_AbsEnv_refl"><span class="id" title="lemma">Imp_LangLogPropDec.UIP_AbsEnv_refl</span></a> <span class="id" title="var">_</span> <span class="id" title="var">Hsubst</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<span class="id" title="var">Heqrefl</span> := <a class="idref" href="Imp_LangTrick.Imp.Imp_LangDec.html#UIP_imp_refl"><span class="id" title="lemma">UIP_imp_refl</span></a> <span class="id" title="var">_</span> <span class="id" title="var">Heq</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="Imp_LangTrick.Imp.Imp_LangHoareWF.html#HLImp_LangWFAssign"><span class="id" title="constructor">Imp_LangHoareWF.HLImp_LangWFAssign</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">Heq</span> := <span class="id" title="var">Heq</span>) (<span class="id" title="var">Hsubst</span> := <span class="id" title="var">Hsubst</span>); [<span class="id" title="tactic">try</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hsubstrefl</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heqrefl</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">reflexivity</span> | <span class="id" title="tactic">clear</span> <span class="id" title="var">Hsubstrefl</span> <span class="id" title="var">Heqrefl</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">Heq</span> <span class="id" title="var">Hsubst</span> .. ]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">AbsEnv_prop_wf_nary_prop</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| [ |- <a class="idref" href="Imp_LangTrick.ProofCompiler.ProofCompilerBase.html#AbsEnv_prop_wf"><span class="id" title="definition">ProofCompilerBase.AbsEnv_prop_wf</span></a> ?<span class="id" title="var">idents</span> ?<span class="id" title="var">P</span> ] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="var">P</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="keyword">context</span> <span class="id" title="var">P'</span> [(<a class="idref" href="Imp_LangTrick.LogicProp.LogicProp.html#NaryProp"><span class="id" title="constructor">NaryProp</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> ?<span class="id" title="var">Q</span> ?<span class="id" title="var">args</span>)] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 3 <span class="id" title="tactic">econstructor</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econstructor_prop_args_rel</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">first</span> [<span class="id" title="tactic">eapply</span> <a class="idref" href="Imp_LangTrick.CodeCompiler.Correctness.CompilerCorrectHelpers.html#param_imp_lang_always_well_formed"><span class="id" title="lemma">CompilerCorrectHelpers.param_imp_lang_always_well_formed</span></a> | <span class="id" title="tactic">eapply</span> <a class="idref" href="Imp_LangTrick.CodeCompiler.Correctness.CompilerCorrectHelpers.html#const_imp_lang_always_well_formed"><span class="id" title="lemma">CompilerCorrectHelpers.const_imp_lang_always_well_formed</span></a> | <span class="id" title="tactic">eapply</span> <a class="idref" href="Imp_LangTrick.Imp.ImpVarMapTheorems.html#var_map_wf_var_imp_lang"><span class="id" title="lemma">ImpVarMapTheorems.var_map_wf_var_imp_lang</span></a> | <span class="id" title="tactic">eapply</span> <a class="idref" href="Imp_LangTrick.CodeCompiler.Correctness.CompilerCorrectHelpers.html#var_map_wf_wrt_aexp_subset"><span class="id" title="lemma">CompilerCorrectHelpers.var_map_wf_wrt_aexp_subset</span></a> ];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">first</span> [<span class="id" title="var">finite_nodup</span> | <span class="id" title="var">finite_in</span>]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">deal_with_var_map_wf</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| [ |- <a class="idref" href="Imp_LangTrick.Imp.ImpVarMap.html#var_map_wf_wrt_aexp"><span class="id" title="definition">var_map_wf_wrt_aexp</span></a> ?<span class="id" title="var">idents</span> ?<span class="id" title="var">a</span> ] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">first</span> [<span class="id" title="tactic">eapply</span> <a class="idref" href="Imp_LangTrick.CodeCompiler.Correctness.CompilerCorrectHelpers.html#param_imp_lang_always_well_formed"><span class="id" title="lemma">CompilerCorrectHelpers.param_imp_lang_always_well_formed</span></a> | <span class="id" title="tactic">eapply</span> <a class="idref" href="Imp_LangTrick.CodeCompiler.Correctness.CompilerCorrectHelpers.html#const_imp_lang_always_well_formed"><span class="id" title="lemma">CompilerCorrectHelpers.const_imp_lang_always_well_formed</span></a> | <span class="id" title="tactic">eapply</span> <a class="idref" href="Imp_LangTrick.Imp.ImpVarMapTheorems.html#var_map_wf_var_imp_lang"><span class="id" title="lemma">ImpVarMapTheorems.var_map_wf_var_imp_lang</span></a> | <span class="id" title="tactic">eapply</span> <a class="idref" href="Imp_LangTrick.CodeCompiler.Correctness.CompilerCorrectHelpers.html#var_map_wf_wrt_aexp_subset"><span class="id" title="lemma">CompilerCorrectHelpers.var_map_wf_wrt_aexp_subset</span></a> ];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> -[<span class="id" title="var">In</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="var">finite_nodup</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">finite_in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| [ |- <a class="idref" href="Imp_LangTrick.Imp.ImpVarMap.html#var_map_wf_wrt_bexp"><span class="id" title="definition">var_map_wf_wrt_bexp</span></a> ?<span class="id" title="var">idents</span> ?<span class="id" title="var">b</span> ] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">first</span> [<span class="id" title="tactic">eapply</span> <a class="idref" href="Imp_LangTrick.CodeCompiler.Correctness.CompilerCorrectHelpers.html#true_imp_lang_always_well_formed"><span class="id" title="lemma">CompilerCorrectHelpers.true_imp_lang_always_well_formed</span></a> | <span class="id" title="tactic">eapply</span> <a class="idref" href="Imp_LangTrick.CodeCompiler.Correctness.CompilerCorrectHelpers.html#false_imp_lang_always_well_formed"><span class="id" title="lemma">CompilerCorrectHelpers.false_imp_lang_always_well_formed</span></a> | <span class="id" title="tactic">eapply</span> <a class="idref" href="Imp_LangTrick.CodeCompiler.Correctness.CompilerCorrectMoreHelpers.html#var_map_wf_wrt_bexp_subset"><span class="id" title="lemma">CompilerCorrectMoreHelpers.var_map_wf_wrt_bexp_subset</span></a>; [ <span class="id" title="tactic">unfold</span> <a class="idref" href="Imp_LangTrick.Imp.ImpVarMap.html#construct_trans"><span class="id" title="definition">construct_trans</span></a>; <span class="id" title="var">cbn</span> -[<span class="id" title="var">In</span>]; <span class="id" title="tactic">intros</span>; <span class="id" title="var">finite_in_implication</span> | .. ] ];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> -[<span class="id" title="var">In</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="var">finite_nodup</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">finite_in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| [ |- <a class="idref" href="Imp_LangTrick.Imp.Imp_LangImpHigherOrderRel.html#imp_rec_rel"><span class="id" title="inductive">imp_rec_rel</span></a> (<a class="idref" href="Imp_LangTrick.Imp.ImpVarMap.html#var_map_wf_wrt_imp"><span class="id" title="definition">var_map_wf_wrt_imp</span></a> ?<span class="id" title="var">idents</span>) ?<span class="id" title="var">i</span> ] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">first</span> [<span class="id" title="tactic">assert</span> (<span class="id" title="var">idents</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Imp_LangTrick.Imp.ImpVarMap.html#construct_trans"><span class="id" title="definition">construct_trans</span></a> <span class="id" title="var">i</span>) <span class="id" title="tactic">by</span> <span class="id" title="tactic">reflexivity</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="Imp_LangTrick.CodeCompiler.Correctness.CompilerCorrectMoreHelpers.html#var_map_wf_imp_self_imp_rec_rel"><span class="id" title="lemma">CompilerCorrectMoreHelpers.var_map_wf_imp_self_imp_rec_rel</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="tactic">eapply</span> <a class="idref" href="Imp_LangTrick.CodeCompiler.Correctness.CompilerCorrectMoreHelpers.html#var_map_wf_wrt_imp_subset_imp_rec_rel"><span class="id" title="lemma">CompilerCorrectMoreHelpers.var_map_wf_wrt_imp_subset_imp_rec_rel</span></a>; [ <span class="id" title="tactic">try</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="Imp_LangTrick.CodeCompiler.Correctness.CompilerCorrectMoreHelpers.html#var_map_wf_imp_self_imp_rec_rel"><span class="id" title="lemma">CompilerCorrectMoreHelpers.var_map_wf_imp_self_imp_rec_rel</span></a>; <span class="id" title="tactic">unfold</span> <a class="idref" href="Imp_LangTrick.Imp.ImpVarMap.html#construct_trans"><span class="id" title="definition">construct_trans</span></a>; <span class="id" title="var">cbn</span> -[<span class="id" title="var">In</span>]; <span class="id" title="tactic">reflexivity</span> | <span class="id" title="tactic">intros</span>; <span class="id" title="var">finite_in_implication</span> | <span class="id" title="var">finite_nodup</span> .. ] ]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">hl_Imp_Lang_wf_roc_post_helper</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| [ |- <a class="idref" href="Imp_LangTrick.Imp.Imp_LangHoareWF.html#hl_Imp_Lang_wf"><span class="id" title="inductive">Imp_LangHoareWF.hl_Imp_Lang_wf</span></a> ?<span class="id" title="var">fenv</span> ?<span class="id" title="var">funcs</span> ?<span class="id" title="var">idents</span> ?<span class="id" title="var">num_args</span> ?<span class="id" title="var">precond</span> ?<span class="id" title="var">postcond</span> ?<span class="id" title="var">i</span> ?<span class="id" title="var">facts</span> (<a class="idref" href="Imp_LangTrick.Imp.Imp_LangLogHoare.html#hl_Imp_Lang_consequence_post"><span class="id" title="constructor">hl_Imp_Lang_consequence_post</span></a> ?<span class="id" title="var">d</span> ?<span class="id" title="var">P</span> ?<span class="id" title="var">d'</span> ?<span class="id" title="var">i'</span> ?<span class="id" title="var">n</span> ?<span class="id" title="var">facts'</span> ?<span class="id" title="var">fenv'</span> ?<span class="id" title="var">hlP</span> ?<span class="id" title="var">Hnth'</span> ?<span class="id" title="var">aimp</span>) ] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">Hnth</span> := <span class="id" title="tactic">fresh</span> "Hnth" <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hnth</span> : <span class="id" title="keyword">let</span> <a id="ele:2" class="idref" href="#ele:2"><span class="id" title="binder">ele</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#nth"><span class="id" title="definition">nth</span></a> <span class="id" title="var">n</span> <span class="id" title="var">facts</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Imp_LangTrick.Examples.Multiplication.html#true_precondition"><span class="id" title="definition">true_precondition</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Imp_LangTrick.Examples.Multiplication.html#true_precondition"><span class="id" title="definition">true_precondition</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a> <span class="id" title="var">facts</span> <span class="id" title="var">n</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="Imp_LangTrick.Tactics.AimpWfAndCheckProofAuto.html#ele:2"><span class="id" title="variable">ele</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="Imp_LangTrick.Tactics.AimpWfAndCheckProofAuto.html#ele:2"><span class="id" title="variable">ele</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <span class="id" title="tactic">by</span> <span class="id" title="tactic">reflexivity</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<span class="id" title="var">UIP_option_refl</span> := <a class="idref" href="Imp_LangTrick.UIPList.html#UIP_option_pair_refl"><span class="id" title="lemma">UIP_option_pair_refl</span></a>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">UIP_option_refl</span> <span class="id" title="var">_</span> <a class="idref" href="Imp_LangTrick.Imp.Imp_LangLogPropDec.html#UIP_AbsEnv"><span class="id" title="axiom">Imp_LangLogPropDec.UIP_AbsEnv</span></a>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">UIP_option_refl</span> <span class="id" title="var">_</span> <span class="id" title="var">Hnth</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="Imp_LangTrick.Imp.Imp_LangHoareWF.html#HLImp_LangWFConsequencePost"><span class="id" title="constructor">Imp_LangHoareWF.HLImp_LangWFConsequencePost</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">nth</span> := <span class="id" title="var">Hnth</span>); [ <span class="id" title="tactic">rewrite</span> <span class="id" title="var">UIP_option_refl</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">reflexivity</span> | | <span class="id" title="tactic">try</span> <span class="id" title="tactic">clear</span> <span class="id" title="var">UIP_option_refl</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">clear</span> <span class="id" title="var">Hnth</span> .. ]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
Runs econstructor until you get to either 
<a id="lab14"></a><h1 class="section">prop_rel or prop_args_rel.</h1>

<a id="lab15"></a><h1 class="section">Typically, you want to stop there, because it might start going into bad</h1>

<a id="lab16"></a><h1 class="section">cases from there on.</h1>

 
</div>
<div class="code">
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">AbsEnv_prop_wf_helper</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| [ |- <a class="idref" href="Imp_LangTrick.LogicProp.LogicProp.html#prop_args_rel"><span class="id" title="inductive">prop_args_rel</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> ] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">fail</span> 1<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| [ |- <a class="idref" href="Imp_LangTrick.LogicProp.LogicProp.html#prop_rel"><span class="id" title="inductive">prop_rel</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> ] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">fail</span> 1<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| [ |- ?<span class="id" title="var">sth</span> <span class="id" title="var">_</span> ] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="var">sth</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Imp_LangTrick.LogicProp.LogicProp.html#prop_args_rel"><span class="id" title="inductive">prop_args_rel</span></a> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">fail</span> 2<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Imp_LangTrick.LogicProp.LogicProp.html#prop_rel"><span class="id" title="inductive">prop_rel</span></a> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">fail</span> 2<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| [ |- <a class="idref" href="Imp_LangTrick.LogicProp.LogicProp.html#prop_args_rel"><span class="id" title="inductive">prop_args_rel</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> ] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econstructor_prop_args_rel</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| [ |- <a class="idref" href="Imp_LangTrick.LogicProp.LogicProp.html#prop_rel"><span class="id" title="inductive">prop_rel</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> ] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">simplify_in</span> := <span class="id" title="var">cbn</span> -[<span class="id" title="var">In</span>].<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">simplify_var_map_wf_cases</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="tactic">try</span> ((<span class="id" title="var">AbsEnv_prop_wf_helper</span>; <span class="id" title="var">deal_with_var_map_wf</span>; <span class="id" title="var">cbn</span> -[<span class="id" title="var">In</span>]; <span class="id" title="tactic">intros</span>) || <span class="id" title="var">deal_with_var_map_wf</span>).<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">hl_wf_assign</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="var">hl_imp_lang_wf_assign_helper</span>; <span class="id" title="var">simplify_var_map_wf_cases</span>; <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">econstructor</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">repeat_econstructor_on</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| [ |- <a class="idref" href="Imp_LangTrick.Imp.Imp_LangHoareWF.html#hl_Imp_Lang_wf"><span class="id" title="inductive">hl_Imp_Lang_wf</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> ] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">idtac</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| [ |- <a class="idref" href="Imp_LangTrick.ProofCompiler.ProofCompilerBase.html#AbsEnv_prop_wf"><span class="id" title="definition">AbsEnv_prop_wf</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> ] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">AbsEnv_prop_wf_helper</span>; <span class="id" title="var">deal_with_var_map_wf</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| [ |- <a class="idref" href="Imp_LangTrick.Imp.ImpVarMap.html#imp_has_variable"><span class="id" title="inductive">imp_has_variable</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> ] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">prove_imp_has_variable</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| [ |- <a class="idref" href="Imp_LangTrick.FunctionWellFormed.html#fun_app_well_formed"><span class="id" title="inductive">fun_app_well_formed</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<a class="idref" href="Imp_LangTrick.Imp.Imp_LangTrickLanguage.html#APP_Imp_Lang"><span class="id" title="constructor">APP_Imp_Lang</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) ] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">prove_fun_app_wf</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| [ |- <span class="id" title="var">_</span> ] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">hl_wf_seq_assign</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="var">hl_Imp_Lang_wf_seq_helper</span>; <span class="id" title="var">simplify_var_map_wf_cases</span>; [ <span class="id" title="var">hl_imp_lang_wf_assign_helper</span> | ..]; <span class="id" title="var">simplify_var_map_wf_cases</span>; <span class="id" title="var">repeat_econstructor_on</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">handle_fun_app_well_formed_app</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="var">prove_fun_app_wf</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">log_Imp_Lang_wf_helper_no_app</span> := <span class="id" title="var">repeat_econstructor_on</span>; <span class="id" title="var">handle_fun_app_well_formed_app</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">hl_imp_lang_wf_while_helper</span>  :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| [ |- <a class="idref" href="Imp_LangTrick.Imp.Imp_LangHoareWF.html#hl_Imp_Lang_wf"><span class="id" title="inductive">Imp_LangHoareWF.hl_Imp_Lang_wf</span></a> ?<span class="id" title="var">fenv</span> ?<span class="id" title="var">funcs</span> ?<span class="id" title="var">idents</span> ?<span class="id" title="var">args</span> ?<span class="id" title="var">d</span> ?<span class="id" title="var">d'</span> (<a class="idref" href="Imp_LangTrick.Imp.Imp_LangTrickLanguage.html#WHILE_Imp_Lang"><span class="id" title="constructor">WHILE_Imp_Lang</span></a> ?<span class="id" title="var">b</span> ?<span class="id" title="var">while_body</span>) ?<span class="id" title="var">facts</span> (<a class="idref" href="Imp_LangTrick.Imp.Imp_LangLogHoare.html#hl_Imp_Lang_while"><span class="id" title="constructor">hl_Imp_Lang_while</span></a> ?<span class="id" title="var">I</span> ?<span class="id" title="var">b'</span> ?<span class="id" title="var">while_body'</span> ?<span class="id" title="var">facts'</span> ?<span class="id" title="var">fenv'</span> ?<span class="id" title="var">hl</span>) ] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">HeqP</span> := <span class="id" title="tactic">fresh</span> "HeqP" <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">Heq</span> := <span class="id" title="tactic">fresh</span> "Heq" <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">HeqP</span> : <a class="idref" href="Imp_LangTrick.Imp.Imp_LangLogHoare.html#afalseImp_Lang"><span class="id" title="definition">afalseImp_Lang</span></a> <span class="id" title="var">b</span> <span class="id" title="var">d</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">d'</span>) <span class="id" title="tactic">by</span> <span class="id" title="tactic">reflexivity</span> || <span class="id" title="var">enough</span> (<span class="id" title="var">HeqP</span> : <a class="idref" href="Imp_LangTrick.Imp.Imp_LangLogHoare.html#afalseImp_Lang"><span class="id" title="definition">afalseImp_Lang</span></a> <span class="id" title="var">b</span> <span class="id" title="var">d</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">d'</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Heq</span> : <a class="idref" href="Imp_LangTrick.Imp.Imp_LangTrickLanguage.html#WHILE_Imp_Lang"><span class="id" title="constructor">WHILE_Imp_Lang</span></a> <span class="id" title="var">b</span> <span class="id" title="var">while_body</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Imp_LangTrick.Imp.Imp_LangTrickLanguage.html#WHILE_Imp_Lang"><span class="id" title="constructor">WHILE_Imp_Lang</span></a> <span class="id" title="var">b'</span> <span class="id" title="var">while_body'</span>) <span class="id" title="tactic">by</span> <span class="id" title="tactic">reflexivity</span> || <span class="id" title="var">enough</span> (<span class="id" title="var">Heq</span>: <a class="idref" href="Imp_LangTrick.Imp.Imp_LangTrickLanguage.html#WHILE_Imp_Lang"><span class="id" title="constructor">WHILE_Imp_Lang</span></a> <span class="id" title="var">b</span> <span class="id" title="var">while_body</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Imp_LangTrick.Imp.Imp_LangTrickLanguage.html#WHILE_Imp_Lang"><span class="id" title="constructor">WHILE_Imp_Lang</span></a> <span class="id" title="var">b'</span> <span class="id" title="var">while_body'</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<span class="id" title="var">HeqPrefl</span> := <a class="idref" href="Imp_LangTrick.Imp.Imp_LangLogPropDec.html#UIP_AbsEnv_refl"><span class="id" title="lemma">Imp_LangLogPropDec.UIP_AbsEnv_refl</span></a> <span class="id" title="var">_</span> <span class="id" title="var">HeqP</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<span class="id" title="var">Heqrefl</span> := <a class="idref" href="Imp_LangTrick.Imp.Imp_LangDec.html#UIP_imp_refl"><span class="id" title="lemma">UIP_imp_refl</span></a> <span class="id" title="var">_</span> <span class="id" title="var">Heq</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="Imp_LangTrick.Imp.Imp_LangHoareWF.html#HLImp_LangWFWhile"><span class="id" title="constructor">Imp_LangHoareWF.HLImp_LangWFWhile</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">Heq</span> := <span class="id" title="var">Heq</span>) (<span class="id" title="var">HeqP</span> := <span class="id" title="var">HeqP</span>); [<span class="id" title="tactic">try</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">HeqPrefl</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heqrefl</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">reflexivity</span> | <span class="id" title="tactic">clear</span> <span class="id" title="var">HeqPrefl</span> <span class="id" title="var">Heqrefl</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">Heq</span> <span class="id" title="var">HeqP</span> .. ]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">program_subset_imp_rec_rel_var_map_wf</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| [ |- <a class="idref" href="Imp_LangTrick.Imp.Imp_LangImpHigherOrderRel.html#imp_rec_rel"><span class="id" title="inductive">imp_rec_rel</span></a> (<a class="idref" href="Imp_LangTrick.Imp.ImpVarMap.html#var_map_wf_wrt_imp"><span class="id" title="definition">var_map_wf_wrt_imp</span></a> <span class="id" title="var">_</span>) <span class="id" title="var">_</span> ] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="Imp_LangTrick.CodeCompiler.Correctness.CompilerCorrectMoreHelpers.html#var_map_wf_wrt_imp_subset_imp_rec_rel"><span class="id" title="lemma">CompilerCorrectMoreHelpers.var_map_wf_wrt_imp_subset_imp_rec_rel</span></a>; <span class="id" title="var">cbn</span> -[<span class="id" title="var">In</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[ <span class="id" title="tactic">eapply</span> <a class="idref" href="Imp_LangTrick.CodeCompiler.Correctness.CompilerCorrectMoreHelpers.html#var_map_wf_imp_self_imp_rec_rel"><span class="id" title="lemma">CompilerCorrectMoreHelpers.var_map_wf_imp_self_imp_rec_rel</span></a>; <span class="id" title="tactic">reflexivity</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">cbn</span> -[<span class="id" title="var">In</span>]; <span class="id" title="tactic">intros</span>; <span class="id" title="var">finite_in_implication</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">cbn</span>; <span class="id" title="var">finite_nodup_reflective</span> .. ]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">smash_other_cases</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| [ |- <a class="idref" href="Imp_LangTrick.ProofCompiler.CompilerAssumptionLogicTrans.html#log_Imp_Lang_wf"><span class="id" title="definition">log_Imp_Lang_wf</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> ] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="var">log_Imp_Lang_wf_helper_no_app</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| [ |- <a class="idref" href="Imp_LangTrick.ProofCompiler.CompilerAssumptionLogicTrans.html#log_Imp_Lang_wf_map"><span class="id" title="definition">log_Imp_Lang_wf_map</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> ] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">simplify_var_map_wf_cases</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| [ |- <a class="idref" href="Imp_LangTrick.Imp.Imp_LangLogProp.html#AbsEnv_prop_rel"><span class="id" title="inductive">AbsEnv_prop_rel</span></a> (<a class="idref" href="Imp_LangTrick.ParamsWellFormed.html#all_params_ok_aexp"><span class="id" title="inductive">all_params_ok_aexp</span></a> <span class="id" title="var">_</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="Imp_LangTrick.ParamsWellFormed.html#all_params_ok_bexp"><span class="id" title="inductive">all_params_ok_bexp</span></a> <span class="id" title="var">_</span>) <span class="id" title="var">_</span> ] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">repeat_econstructor_on</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| [ |- <a class="idref" href="Imp_LangTrick.ProofCompiler.ProofCompilerBase.html#AbsEnv_prop_wf"><span class="id" title="definition">ProofCompilerBase.AbsEnv_prop_wf</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> ] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">simplify_var_map_wf_cases</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| [ |- <a class="idref" href="Imp_LangTrick.Imp.Imp_LangImpHigherOrderRel.html#imp_rec_rel"><span class="id" title="inductive">imp_rec_rel</span></a> (<a class="idref" href="Imp_LangTrick.Imp.ImpVarMap.html#var_map_wf_wrt_imp"><span class="id" title="definition">var_map_wf_wrt_imp</span></a> <span class="id" title="var">_</span>) <span class="id" title="var">_</span> ] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> (<span class="id" title="tactic">solve</span> [<span class="id" title="var">deal_with_var_map_wf</span> | <span class="id" title="var">program_subset_imp_rec_rel_var_map_wf</span> ])<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| [ |- <a class="idref" href="Imp_LangTrick.FunctionWellFormed.html#fun_app_well_formed"><span class="id" title="inductive">fun_app_well_formed</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> ] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="var">FunctionWellFormedReflection.prove_fun_app_wf</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| [ |- <span class="id" title="var">_</span> ] =&gt; <span class="id" title="tactic">idtac</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">hl_Imp_Lang_wf_if_helper</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| [ |- <a class="idref" href="Imp_LangTrick.Imp.Imp_LangHoareWF.html#hl_Imp_Lang_wf"><span class="id" title="inductive">hl_Imp_Lang_wf</span></a> ?<span class="id" title="var">fenv</span> ?<span class="id" title="var">funcs</span> ?<span class="id" title="var">idents</span> ?<span class="id" title="var">args</span> ?<span class="id" title="var">d</span> ?<span class="id" title="var">d'</span> (<a class="idref" href="Imp_LangTrick.Imp.Imp_LangTrickLanguage.html#IF_Imp_Lang"><span class="id" title="constructor">IF_Imp_Lang</span></a> ?<span class="id" title="var">b</span> ?<span class="id" title="var">i1</span> ?<span class="id" title="var">i2</span>) <span class="id" title="var">_</span> (<a class="idref" href="Imp_LangTrick.Imp.Imp_LangLogHoare.html#hl_Imp_Lang_if"><span class="id" title="constructor">hl_Imp_Lang_if</span></a> ?<span class="id" title="var">P</span> ?<span class="id" title="var">Q</span> ?<span class="id" title="var">b'</span> ?<span class="id" title="var">i1'</span> ?<span class="id" title="var">i2'</span> ?<span class="id" title="var">fact_env</span> ?<span class="id" title="var">fenv'</span> ?<span class="id" title="var">HLtrue</span> ?<span class="id" title="var">HLfalse</span>) ] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">heq</span> := <span class="id" title="tactic">fresh</span> "heq" <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">heq</span> : <a class="idref" href="Imp_LangTrick.Imp.Imp_LangTrickLanguage.html#IF_Imp_Lang"><span class="id" title="constructor">IF_Imp_Lang</span></a> <span class="id" title="var">b</span> <span class="id" title="var">i1</span> <span class="id" title="var">i2</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Imp_LangTrick.Imp.Imp_LangTrickLanguage.html#IF_Imp_Lang"><span class="id" title="constructor">IF_Imp_Lang</span></a> <span class="id" title="var">b'</span> <span class="id" title="var">i1'</span> <span class="id" title="var">i2'</span>) <span class="id" title="tactic">by</span> <span class="id" title="tactic">reflexivity</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">Himp_uip</span> := <span class="id" title="tactic">fresh</span> "Himp_uip" <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<span class="id" title="var">Himp_uip</span> := <a class="idref" href="Imp_LangTrick.Imp.Imp_LangDec.html#UIP_imp_refl"><span class="id" title="lemma">UIP_imp_refl</span></a> <span class="id" title="var">_</span> <span class="id" title="var">heq</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="Imp_LangTrick.Imp.Imp_LangHoareWF.html#HLImp_LangWFIf"><span class="id" title="constructor">HLImp_LangWFIf</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">heq</span> := <span class="id" title="var">heq</span>); <span class="id" title="tactic">try</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Himp_uip</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">reflexivity</span>; <span class="id" title="tactic">try</span> (<span class="id" title="tactic">clear</span> <span class="id" title="var">Himp_uip</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">heq</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
</div>
</div>

<div id="footer">
<hr/><a href="index.html">Index</a><hr/>This page has been generated by <a href="http://coq.inria.fr/">coqdoc</a>
</div>

</div>

</body>
</html>